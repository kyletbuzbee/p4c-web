import{j as e,a as s,u as a}from"../assets/index-CjiBnxQ6.js";import{r}from"./router-Cqyp-vmz.js";import{a as t}from"./utils-BLjenHXc.js";import{a as l}from"./api-BvtG0B8i.js";import{ac as d,H as i,U as n,ad as c,ae as o,af as x,r as m,ag as h,ah as g}from"./ui-Cv49lX3S.js";import"./properties-TQ4HqbPh.js";const p=()=>e.jsxs("aside",{className:"w-64 bg-p4c-navy text-white hidden md:flex flex-col animate-pulse",children:[e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsx("div",{className:"h-6 bg-gray-600 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"flex items-center w-full px-4 py-3 bg-gray-700/30 rounded-lg",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-600 rounded mr-3"}),e.jsx("div",{className:"h-4 bg-gray-600 rounded w-20"})]},s))}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-600 rounded w-16"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded w-20"})]})]}),e.jsx("div",{className:"h-10 bg-gray-600 rounded w-full"})]})]}),b=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-28"})]},s))}),u=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-32"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded w-16"})]}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-100 rounded w-1/4 mx-auto mb-6"}),[1,2,3].map(s=>e.jsx("div",{className:"h-16 bg-gray-50 rounded flex items-center px-6",children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded mr-4"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/4"})]})]})},s))]})})]}),j=({variant:s="full"})=>"sidebar"===s?e.jsx(p,{}):e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsx(p,{}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),e.jsx(b,{}),e.jsx(u,{})]})})]}),y=()=>{const{user:p,logout:b}=s(),{addToast:u}=a(),[y,N]=r.useState([]),[v,f]=r.useState(!0),[w,S]=r.useState("dashboard"),[A,C]=r.useState("");r.useEffect(()=>{(async()=>{try{f(!0);const e=await l.properties.getAll();N(e)}catch(e){u("Failed to load properties data","error"),N([])}finally{f(!1)}})()},[u]);const P=r.useMemo(()=>{const e=y.length,s=y.filter(e=>"available"!==e.status).length,a=e>0?Math.round(s/e*100):0;return[{label:"Total Revenue",value:`$${y.reduce((e,s)=>e+(parseInt("string"==typeof s.price?s.price.replace(/,/g,""):s.price.toString(),10)||0),0).toLocaleString()}`,sub:"Monthly projected",color:"text-green-600",icon:"ðŸ’°"},{label:"Occupancy Rate",value:`${a}%`,sub:e-s+" units available",color:"text-blue-600",icon:"ðŸ "},{label:"Total Properties",value:e.toString(),sub:"Active Listings",color:"text-p4c-navy",icon:"ðŸ“‘"},{label:"Pending Actions",value:"5",sub:"Requires attention",color:"text-orange-600",icon:"âš ï¸"}]},[y]),k=y.filter(e=>e.title.toLowerCase().includes(A.toLowerCase())||e.address.toLowerCase().includes(A.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsx(t,{children:e.jsx("title",{children:"Admin Dashboard | Properties 4 Creation"})}),e.jsxs("aside",{className:"w-64 bg-p4c-navy text-white hidden md:flex flex-col fixed h-full z-10",children:[e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-serif font-bold text-p4c-gold",children:"Properties 4 Creation"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Administrator Portal"})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[e.jsxs("button",{onClick:()=>S("dashboard"),className:"flex items-center w-full px-4 py-3 rounded-lg font-medium transition-colors "+("dashboard"===w?"bg-white/10 text-p4c-gold":"text-gray-300 hover:bg-white/5"),"aria-label":"Dashboard",children:[e.jsx(d,{className:"w-5 h-5 mr-3"})," Dashboard"]}),e.jsxs("button",{onClick:()=>S("properties"),className:"flex items-center w-full px-4 py-3 rounded-lg font-medium transition-colors "+("properties"===w?"bg-white/10 text-p4c-gold":"text-gray-300 hover:bg-white/5"),"aria-label":"Properties",children:[e.jsx(i,{className:"w-5 h-5 mr-3"})," Properties"]}),e.jsxs("button",{onClick:()=>S("tenants"),className:"flex items-center w-full px-4 py-3 rounded-lg font-medium transition-colors "+("tenants"===w?"bg-white/10 text-p4c-gold":"text-gray-300 hover:bg-white/5"),"aria-label":"Tenants",children:[e.jsx(n,{className:"w-5 h-5 mr-3"})," Tenants"]}),e.jsxs("button",{onClick:()=>S("settings"),className:"flex items-center w-full px-4 py-3 rounded-lg font-medium transition-colors "+("settings"===w?"bg-white/10 text-p4c-gold":"text-gray-300 hover:bg-white/5"),"aria-label":"Settings",children:[e.jsx(c,{className:"w-5 h-5 mr-3"})," Settings"]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-p4c-gold flex items-center justify-center text-p4c-navy font-bold",children:p?.name?.charAt(0).toUpperCase()||"A"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-white",children:p?.name||"Admin"}),e.jsx("div",{className:"text-xs text-gray-400",children:p?.role||"Administrator"})]})]}),e.jsxs("button",{onClick:b,className:"flex items-center justify-center w-full px-4 py-2 border border-gray-600 rounded-lg text-sm hover:bg-gray-800 transition-colors","aria-label":"Sign out",children:[e.jsx(o,{className:"w-4 h-4 mr-2"})," Sign Out"]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto md:ml-64 transition-all",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 capitalize",children:[w," Overview"]}),"properties"===w&&e.jsxs("button",{onClick:()=>{u("Add Property Modal opening...","info")},className:"bg-p4c-navy text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-p4c-slate transition-colors shadow-md","aria-label":"Add new property",children:[e.jsx(x,{className:"w-4 h-4"})," Add Property"]})]}),"dashboard"===w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:P.map((s,a)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-sm text-gray-500 font-medium",children:s.label}),e.jsx("span",{className:"text-2xl",children:s.icon})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.value}),e.jsx("div",{className:`text-sm ${s.color} font-medium`,children:s.sub})]},a))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Recent System Activity"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent alerts or system notifications."})]})]}),("dashboard"===w||"properties"===w)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden "+("dashboard"===w?"mt-8":""),children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"dashboard"===w?"Recent Listings":"All Properties"}),"properties"===w&&e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search address...",className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-p4c-gold",value:A,onChange:e=>C(e.target.value)})]}),"dashboard"===w&&e.jsx("button",{onClick:()=>S("properties"),className:"text-sm text-p4c-gold font-medium hover:underline",children:"View All"})]}),v?e.jsx(j,{variant:"full"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500 font-semibold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Property"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4",children:"Price"}),e.jsx("th",{className:"px-6 py-4",children:"Stats"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[("dashboard"===w?k.slice(0,5):k).map(s=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:s.imageUrl,alt:"",className:"w-10 h-10 rounded-md object-cover mr-3 bg-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.title}),e.jsx("div",{className:"text-xs text-gray-500",children:s.address})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),e.jsxs("td",{className:"px-6 py-4 text-gray-600",children:["$",s.price,"/mo"]}),e.jsxs("td",{className:"px-6 py-4 text-gray-600 text-xs",children:[s.bedrooms,"bd â€¢ ",s.bathrooms,"ba â€¢"," ",s.sqft,"sqft"]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>{return e=s.id,void u(`Edit functionality for ID ${e} coming in next sprint`,"info");var e},className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-p4c-navy",title:"Edit Property","aria-label":`Edit ${s.title}`,children:e.jsx(h,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>(e=>{try{N(s=>s.filter(s=>s.id!==e)),u("Property deleted successfully","success")}catch(s){u("Failed to delete property","error")}})(s.id),className:"p-1.5 hover:bg-red-50 rounded text-gray-500 hover:text-red-600",title:"Delete Property","aria-label":`Delete ${s.title}`,children:e.jsx(g,{className:"w-4 h-4"})})]})})]},s.id)),0===k.length&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No properties found matching your search."})})]})]})})]}),"tenants"===w&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(n,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Tenant Management"}),e.jsx("p",{className:"text-gray-500",children:"Tenant list and application processing features coming soon."})]}),"settings"===w&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx(c,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"System Settings"}),e.jsx("p",{className:"text-gray-500",children:"Global configurations will be available here."})]})]})})]})};export{y as default};
