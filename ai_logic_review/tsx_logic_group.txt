
================================================================================
FILE_BEGIN: App.tsx
METADATA: Size=5240 bytes | Last_Modified=2026-01-04 14:43:19.622822
================================================================================

import React, { Suspense } from 'react';
import { Routes, Route } from 'react-router-dom';
import { HelmetProvider } from 'react-helmet-async';
import Navbar from './components/Navbar';
import Footer from './components/Footer';
import ScrollToTop from './components/ScrollToTop';
import ErrorBoundary from './components/ErrorBoundary';
import { ToastProvider } from './context/ToastContext';
import { AuthProvider } from './context/AuthContext';
import { DarkModeProvider } from './context/DarkModeContext';
import AIChatbot from './components/AIChatbot';
import CookieConsent from './components/CookieConsent';
import AccessibilityTools from './components/AccessibilityTools';
import ProtectedRoute from './components/ProtectedRoute';
import { Loader2 } from 'lucide-react';

// Lazy Load Pages
const Home = React.lazy(() => import('./pages/Home'));
const About = React.lazy(() => import('./pages/About'));
const Employment = React.lazy(() => import('./pages/Employment'));
const Application = React.lazy(() => import('./pages/Application'));
const Veterans = React.lazy(() => import('./pages/Veterans')); // Keep for redirect or legacy if needed, mostly replaced by VeteranServices
const VeteranServices = React.lazy(() => import('./pages/VeteranServices'));
const SuccessStories = React.lazy(() => import('./pages/SuccessStories'));
const Contact = React.lazy(() => import('./pages/Contact'));
const PropertyDetails = React.lazy(() => import('./pages/PropertyDetails'));
const Transparency = React.lazy(() => import('./pages/Transparency'));
const OurImpact = React.lazy(() => import('./pages/OurImpact'));
const TenantLogin = React.lazy(() => import('./pages/TenantLogin'));
const Privacy = React.lazy(() => import('./pages/Privacy'));
const Terms = React.lazy(() => import('./pages/Terms'));
const FAQ = React.lazy(() => import('./pages/FAQ'));
const EqualHousing = React.lazy(() => import('./pages/EqualHousing'));
const AccessibilityStatement = React.lazy(() => import('./pages/AccessibilityStatement'));
const AdminDashboard = React.lazy(() => import('./pages/AdminDashboard'));

// Loading Fallback
const PageLoader = () => (
  <div className="min-h-screen flex items-center justify-center bg-p4c-beige">
    <Loader2 className="w-12 h-12 text-p4c-gold animate-spin" />
  </div>
);

function App() {
  return (
    <HelmetProvider>
      <ErrorBoundary>
        <ToastProvider>
          <DarkModeProvider>
            <AuthProvider>
            <div className="font-sans antialiased text-p4c-navy bg-p4c-beige min-h-screen flex flex-col">
              <a href="#main-content" className="skip-link">Skip to main content</a>
              <ScrollToTop />
              
              <Routes>
                {/* Admin Route - No Navbar/Footer typically, or standard layout */}
                <Route path="/admin" element={
                  <ProtectedRoute requiredRole="admin">
                    <Suspense fallback={<PageLoader />}>
                      <AdminDashboard />
                    </Suspense>
                  </ProtectedRoute>
                } />

                {/* Public Routes with Standard Layout */}
                <Route path="*" element={
                  <>
                    <Navbar />
                    <main id="main-content" className="flex-grow">
                      <Suspense fallback={<PageLoader />}>
                        <Routes>
                          <Route path="/" element={<Home />} />
                          <Route path="/about" element={<About />} />
                          <Route path="/employment" element={<Employment />} />
                          <Route path="/apply" element={<Application />} />
                          <Route path="/veteran-services" element={<VeteranServices />} />
                          <Route path="/veterans" element={<VeteranServices />} /> {/* Redirect/Alias */}
                          <Route path="/success-stories" element={<SuccessStories />} />
                          <Route path="/contact" element={<Contact />} />
                          <Route path="/transparency" element={<Transparency />} />
                          <Route path="/impact" element={<OurImpact />} />
                          <Route path="/properties/:id" element={<PropertyDetails />} />
                          <Route path="/portal" element={<TenantLogin />} />
                          <Route path="/privacy" element={<Privacy />} />
                          <Route path="/terms" element={<Terms />} />
                          <Route path="/faq" element={<FAQ />} />
                          <Route path="/equal-housing" element={<EqualHousing />} />
                          <Route path="/accessibility" element={<AccessibilityStatement />} />
                        </Routes>
                      </Suspense>
                    </main>
                    <AIChatbot />
                    <AccessibilityTools />
                    <Footer />
                    <CookieConsent />
                  </>
                } />
              </Routes>
            </div>
            </AuthProvider>
          </DarkModeProvider>
        </ToastProvider>
      </ErrorBoundary>
    </HelmetProvider>
  );
}

export default App;


[FILE_END: App.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\AccessibilityTools.tsx
METADATA: Size=10222 bytes | Last_Modified=2026-01-04 14:42:57.757634
================================================================================
import React, { useState, useEffect } from 'react';

interface AccessibilityToolsProps {
  className?: string;
}

const AccessibilityTools: React.FC<AccessibilityToolsProps> = ({ className = '' }) => {
  const [isOpen, setIsOpen] = useState(false);
  const [fontSize, setFontSize] = useState(100);
  const [contrast, setContrast] = useState('normal');
  const [readingMode, setReadingMode] = useState(false);
  const [focusMode, setFocusMode] = useState(false);
  const [audioAssistance, setAudioAssistance] = useState(false);

  // Apply styles to document
  useEffect(() => {
    const root = document.documentElement;
    
    // Font size
    root.style.setProperty('--accessibility-font-size', `${fontSize}%`);
    
    // Contrast
    if (contrast === 'high') {
      root.classList.add('high-contrast');
      root.classList.remove('dark-high-contrast');
    } else if (contrast === 'dark-high') {
      root.classList.add('dark-high-contrast');
      root.classList.remove('high-contrast');
    } else {
      root.classList.remove('high-contrast', 'dark-high-contrast');
    }
    
    // Reading mode
    if (readingMode) {
      root.classList.add('reading-mode');
    } else {
      root.classList.remove('reading-mode');
    }
    
    // Focus mode
    if (focusMode) {
      root.classList.add('focus-mode');
    } else {
      root.classList.remove('focus-mode');
    }
  }, [fontSize, contrast, readingMode, focusMode]);

  const increaseFontSize = () => {
    if (fontSize < 150) setFontSize(prev => prev + 10);
  };

  const decreaseFontSize = () => {
    if (fontSize > 80) setFontSize(prev => prev - 10);
  };

  const toggleContrast = () => {
    setContrast(prev => {
      if (prev === 'normal') return 'high';
      if (prev === 'high') return 'dark-high';
      return 'normal';
    });
  };

  const toggleReadingMode = () => {
    setReadingMode(!readingMode);
  };

  const toggleFocusMode = () => {
    setFocusMode(!focusMode);
  };

  const toggleAudioAssistance = () => {
    setAudioAssistance(!audioAssistance);
    if (!audioAssistance) {
      // Announce feature activation
      const utterance = new SpeechSynthesisUtterance('Audio assistance activated. Use keyboard shortcuts for navigation.');
      speechSynthesis.speak(utterance);
    }
  };

  // Keyboard shortcuts
  useEffect(() => {
    const handleKeyPress = (e: KeyboardEvent) => {
      if (e.ctrlKey || e.metaKey) {
        switch (e.key) {
          case '+':
            e.preventDefault();
            increaseFontSize();
            break;
          case '-':
            e.preventDefault();
            decreaseFontSize();
            break;
          case '0':
            e.preventDefault();
            setFontSize(100);
            break;
          case 'k':
            e.preventDefault();
            toggleContrast();
            break;
          case 'r':
            e.preventDefault();
            toggleReadingMode();
            break;
          case 'f':
            e.preventDefault();
            toggleFocusMode();
            break;
          case 'm':
            e.preventDefault();
            toggleAudioAssistance();
            break;
        }
      }
    };

    window.addEventListener('keydown', handleKeyPress);
    return () => window.removeEventListener('keydown', handleKeyPress);
  }, [fontSize, contrast, readingMode, focusMode, audioAssistance]);

  return (
    <>
      {/* Floating Accessibility Button */}
      <button
        onClick={() => setIsOpen(!isOpen)}
        className={`fixed bottom-6 right-6 bg-p4c-navy text-white p-4 rounded-full shadow-lg hover:bg-p4c-gold hover:text-p4c-navy transition-all duration-300 z-50 focus:outline-none focus:ring-2 focus:ring-p4c-gold focus:ring-offset-2 ${className}`}
        aria-label="Accessibility Tools"
        title="Accessibility Tools (Ctrl/Cmd + K for contrast, + and - for font size)"
      >
        <span className="text-lg">⚙️</span>
        {isOpen && (
          <span className="absolute -top-2 -right-2 w-3 h-3 bg-red-500 rounded-full"></span>
        )}
      </button>

      {/* Accessibility Panel */}
      {isOpen && (
        <div className="fixed bottom-24 right-6 bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-80 z-50 animate-in slide-in-from-bottom-2 duration-200">
          <div className="flex justify-between items-center mb-3">
            <h3 className="font-semibold text-gray-800">
              Accessibility Tools
            </h3>
            <button
              onClick={() => setIsOpen(false)}
              className="text-gray-500 hover:text-gray-700"
              aria-label="Close accessibility tools"
            >
              ✕
            </button>
          </div>

          <div className="space-y-4">
            {/* Font Size Control */}
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Font Size: {fontSize}%
              </label>
              <div className="flex gap-2">
                <button
                  onClick={decreaseFontSize}
                  disabled={fontSize <= 80}
                  className="flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"
                  aria-label="Decrease font size"
                >
                  A-
                </button>
                <button
                  onClick={increaseFontSize}
                  disabled={fontSize >= 150}
                  className="flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"
                  aria-label="Increase font size"
                >
                  A+
                </button>
              </div>
            </div>

            {/* Contrast Control */}
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">
                Contrast Mode
              </label>
              <div className="flex gap-2">
                <button
                  onClick={() => setContrast('normal')}
                  className={`flex-1 px-3 py-2 rounded text-sm ${
                    contrast === 'normal' 
                      ? 'bg-p4c-navy text-white' 
                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                  }`}
                >
                  Normal
                </button>
                <button
                  onClick={() => setContrast('high')}
                  className={`flex-1 px-3 py-2 rounded text-sm ${
                    contrast === 'high' 
                      ? 'bg-p4c-navy text-white' 
                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                  }`}
                >
                  High
                </button>
                <button
                  onClick={() => setContrast('dark-high')}
                  className={`flex-1 px-3 py-2 rounded text-sm ${
                    contrast === 'dark-high' 
                      ? 'bg-p4c-navy text-white' 
                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                  }`}
                >
                  Dark High
                </button>
              </div>
            </div>

            {/* Reading Mode */}
            <div>
              <button
                onClick={toggleReadingMode}
                className={`w-full flex items-center justify-between px-3 py-2 rounded ${
                  readingMode 
                    ? 'bg-p4c-beige text-p4c-navy' 
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`}
              >
                <span>Reading Mode</span>
                <span className={`w-4 h-4 border-2 rounded ${
                  readingMode ? 'bg-p4c-navy border-p4c-navy' : 'border-gray-400'
                }`}></span>
              </button>
            </div>

            {/* Focus Mode */}
            <div>
              <button
                onClick={toggleFocusMode}
                className={`w-full flex items-center justify-between px-3 py-2 rounded ${
                  focusMode 
                    ? 'bg-p4c-beige text-p4c-navy' 
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`}
              >
                <span>Focus Mode</span>
                <span className={`w-4 h-4 border-2 rounded ${
                  focusMode ? 'bg-p4c-navy border-p4c-navy' : 'border-gray-400'
                }`}></span>
              </button>
            </div>

            {/* Audio Assistance */}
            <div>
              <button
                onClick={toggleAudioAssistance}
                className={`w-full flex items-center justify-between px-3 py-2 rounded ${
                  audioAssistance 
                    ? 'bg-p4c-beige text-p4c-navy' 
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`}
              >
                <span>Audio Assistance</span>
                <span className={`w-4 h-4 border-2 rounded ${
                  audioAssistance ? 'bg-p4c-navy border-p4c-navy' : 'border-gray-400'
                }`}></span>
              </button>
            </div>

            {/* Keyboard Shortcuts */}
            <div className="pt-2 border-t border-gray-200">
              <p className="text-xs text-gray-600 mb-2">Keyboard Shortcuts:</p>
              <div className="text-xs space-y-1 text-gray-500">
                <div>Ctrl/Cmd + +/-: Font size</div>
                <div>Ctrl/Cmd + 0: Reset font</div>
                <div>Ctrl/Cmd + K: Contrast</div>
                <div>Ctrl/Cmd + R: Reading mode</div>
                <div>Ctrl/Cmd + F: Focus mode</div>
                <div>Ctrl/Cmd + M: Audio assistance</div>
              </div>
            </div>
          </div>
        </div>
      )}
    </>
  );
};

export default AccessibilityTools;

[FILE_END: components\AccessibilityTools.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\AIChatbot.tsx
METADATA: Size=7534 bytes | Last_Modified=2026-01-04 12:32:59.628037
================================================================================

import React, { useState, useRef, useEffect } from 'react';
import { MessageSquare, X, Send, Loader2, Bot, AlertCircle } from 'lucide-react';
import { sendChatMessage } from '../services/geminiService';

interface Message {
  role: 'user' | 'model';
  text: string;
}

const AIChatbot: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [messages, setMessages] = useState<Message[]>([
    { role: 'model', text: "Welcome to P4C! I'm Patriot, your virtual concierge. How can I help you find your home today?" }
  ]);
  const [input, setInput] = useState('');
  const [isLoading, setIsLoading] = useState(false);
  const messagesEndRef = useRef<HTMLDivElement>(null);
  const chatContainerRef = useRef<HTMLDivElement>(null);
  const inputRef = useRef<HTMLInputElement>(null);

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages, isOpen]);

  // Accessibility: Focus Trap & Escape Key
  useEffect(() => {
    if (isOpen) {
      // Focus input on open
      setTimeout(() => inputRef.current?.focus(), 100);

      const handleKeyDown = (e: KeyboardEvent) => {
        if (e.key === 'Escape') {
          setIsOpen(false);
        }
        if (e.key === 'Tab' && chatContainerRef.current) {
            const focusableElements = chatContainerRef.current.querySelectorAll(
                'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
            );
            const firstElement = focusableElements[0] as HTMLElement;
            const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;

            if (e.shiftKey) {
                if (document.activeElement === firstElement) {
                    lastElement.focus();
                    e.preventDefault();
                }
            } else {
                if (document.activeElement === lastElement) {
                    firstElement.focus();
                    e.preventDefault();
                }
            }
        }
      };

      document.addEventListener('keydown', handleKeyDown);
      return () => document.removeEventListener('keydown', handleKeyDown);
    }
  }, [isOpen]);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!input.trim() || isLoading) return;

    const userMessage = input;
    setInput('');
    setMessages(prev => [...prev, { role: 'user', text: userMessage }]);
    setIsLoading(true);

    try {
      // Create history snapshot excluding the message we just added (since state updates are async/batched)
      // and formatting it for the API.
      const history = messages.map(m => ({
          role: m.role,
          parts: [{ text: m.text }]
      }));

      const response = await sendChatMessage(userMessage, history);
      setMessages(prev => [...prev, { role: 'model', text: response }]);
    } catch (error) {
      setMessages(prev => [...prev, { role: 'model', text: "I'm having trouble connecting to the server. Please try again later." }]);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none">
      
      {/* Chat Window */}
      {isOpen && (
        <div 
            ref={chatContainerRef}
            className="bg-white w-[350px] h-[500px] rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden mb-4 pointer-events-auto animate-fade-in-up ring-1 ring-black/5"
            role="dialog"
            aria-label="P4C Concierge Chat"
        >
          {/* Header */}
          <div className="bg-p4c-navy p-4 flex justify-between items-center text-white">
            <div className="flex items-center gap-2">
              <div className="bg-p4c-gold p-1.5 rounded-full shadow-md">
                <Bot className="w-4 h-4 text-p4c-navy" />
              </div>
              <div>
                <h3 className="font-bold text-sm font-serif">P4C Concierge</h3>
                <div className="flex items-center gap-1">
                    <span className="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
                    <p className="text-xs text-gray-300">Online</p>
                </div>
              </div>
            </div>
            <button 
                onClick={() => setIsOpen(false)} 
                className="hover:bg-white/10 p-1.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-p4c-gold"
                aria-label="Close Chat"
            >
              <X className="w-5 h-5" />
            </button>
          </div>

          {/* Messages */}
          <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
            {messages.map((msg, idx) => (
              <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div 
                  className={`max-w-[85%] p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm ${
                    msg.role === 'user' 
                      ? 'bg-p4c-navy text-white rounded-br-sm' 
                      : 'bg-white border border-gray-100 text-gray-800 rounded-bl-sm'
                  }`}
                >
                  {msg.text}
                </div>
              </div>
            ))}
            {isLoading && (
              <div className="flex justify-start">
                <div className="bg-white border border-gray-200 p-3 rounded-2xl rounded-bl-sm shadow-sm flex items-center gap-2">
                  <Loader2 className="w-4 h-4 animate-spin text-p4c-gold" />
                  <span className="text-xs text-gray-500 font-medium">Patriot is typing...</span>
                </div>
              </div>
            )}
            <div ref={messagesEndRef} />
          </div>

          {/* Input */}
          <form onSubmit={handleSubmit} className="p-3 bg-white border-t border-gray-100 flex gap-2">
            <input
              ref={inputRef}
              type="text"
              value={input}
              onChange={(e) => setInput(e.target.value)}
              placeholder="Ask about availability..."
              className="flex-1 border border-gray-200 rounded-full px-4 py-2.5 text-sm focus:outline-none focus:border-p4c-gold focus:ring-2 focus:ring-p4c-gold/20 transition-all bg-gray-50 focus:bg-white"
            />
            <button 
              type="submit" 
              disabled={isLoading || !input.trim()}
              className="bg-p4c-gold text-p4c-navy p-2.5 rounded-full hover:bg-p4c-goldHover disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm hover:shadow-md active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-p4c-gold"
              aria-label="Send Message"
            >
              <Send className="w-4 h-4" />
            </button>
          </form>
        </div>
      )}

      {/* Toggle Button */}
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="bg-p4c-navy text-white p-4 rounded-full shadow-xl hover:bg-p4c-slate transition-all duration-300 hover:scale-105 pointer-events-auto border-2 border-p4c-gold group focus:outline-none focus:ring-4 focus:ring-p4c-gold/50"
        aria-label="Toggle Support Chat"
        aria-expanded={isOpen}
      >
        {isOpen ? <X className="w-7 h-7" /> : <MessageSquare className="w-7 h-7 group-hover:animate-bounce" />}
      </button>
    </div>
  );
};

export default AIChatbot;


[FILE_END: components\AIChatbot.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\BeforeAfterSlider.tsx
METADATA: Size=2800 bytes | Last_Modified=2026-01-04 12:32:59.565861
================================================================================

import React, { useState, useRef } from 'react';
import { ArrowLeftRight } from 'lucide-react';

interface BeforeAfterProps {
  beforeImage: string;
  afterImage: string;
  label: string;
}

const BeforeAfterSlider: React.FC<BeforeAfterProps> = ({ beforeImage, afterImage, label }) => {
  const [sliderPosition, setSliderPosition] = useState(50);
  const containerRef = useRef<HTMLDivElement>(null);

  const handleRangeChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      setSliderPosition(Number(e.target.value));
  }

  return (
    <div className="relative w-full h-[300px] md:h-[400px] overflow-hidden rounded-2xl shadow-xl border border-gray-200 ring-1 ring-gray-900/5 group select-none">
      
      {/* After Image (Background) */}
      <img
        src={afterImage}
        alt={`Renovated ${label} - After`}
        loading="lazy"
        className="absolute top-0 left-0 w-full h-full object-cover"
      />
      <div className="absolute top-4 right-4 bg-p4c-navy/90 text-white text-xs px-3 py-1.5 rounded-full uppercase font-bold tracking-wider shadow-lg">
        After
      </div>

      {/* Before Image (Foreground - Clipped) */}
      <div
        className="absolute top-0 left-0 h-full w-full overflow-hidden"
        style={{ width: `${sliderPosition}%` }}
      >
        <img
          src={beforeImage}
          alt={`Original ${label} - Before`}
          loading="lazy"
          className="absolute top-0 left-0 h-full max-w-none object-cover"
          style={{ width: containerRef.current ? containerRef.current.offsetWidth : '100%' }}
        />
         <div className="absolute top-4 left-4 bg-gray-900/90 text-white text-xs px-3 py-1.5 rounded-full uppercase font-bold tracking-wider shadow-lg">
            Before
         </div>
      </div>

      {/* Slider Control Line */}
      <div
        className="absolute top-0 bottom-0 w-1 bg-white cursor-ew-resize shadow-[0_0_15px_rgba(0,0,0,0.5)] z-20 pointer-events-none"
        style={{ left: `${sliderPosition}%` }}
      >
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-p4c-gold rounded-full p-3 shadow-xl border-2 border-white">
            <ArrowLeftRight className="w-5 h-5 text-p4c-navy" />
        </div>
      </div>

      {/* Hidden Range Input for Accessibility & Interaction */}
      <input
        type="range"
        min="0"
        max="100"
        value={sliderPosition}
        onChange={handleRangeChange}
        className="absolute top-0 left-0 w-full h-full opacity-0 cursor-ew-resize z-30 focus:outline-none"
        aria-label={`Compare before and after renovation of ${label}`}
        aria-valuemin={0}
        aria-valuemax={100}
        aria-valuenow={sliderPosition}
      />
    </div>
  );
};

export default BeforeAfterSlider;


[FILE_END: components\BeforeAfterSlider.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\CookieConsent.tsx
METADATA: Size=2356 bytes | Last_Modified=2026-01-04 12:32:59.651996
================================================================================

import React, { useState, useEffect } from 'react';
import { Cookie } from 'lucide-react';

const CookieConsent: React.FC = () => {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const consent = localStorage.getItem('p4c_cookie_consent');
    if (!consent) {
      // Small delay to prevent layout shift on immediate load
      const timer = setTimeout(() => setIsVisible(true), 1000);
      return () => clearTimeout(timer);
    }
  }, []);

  const handleAccept = () => {
    localStorage.setItem('p4c_cookie_consent', 'true');
    setIsVisible(false);
  };

  const handleDecline = () => {
    localStorage.setItem('p4c_cookie_consent', 'false');
    setIsVisible(false);
  };

  if (!isVisible) return null;

  return (
    <div className="fixed bottom-0 left-0 w-full z-50 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] p-4 animate-slide-in">
      <div className="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
        <div className="flex items-start gap-4">
          <div className="bg-p4c-beige p-2 rounded-full hidden sm:block">
            <Cookie className="w-6 h-6 text-p4c-gold" />
          </div>
          <div className="text-sm text-gray-600">
            <p className="font-bold text-p4c-navy mb-1">We value your privacy</p>
            <p>
              We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. 
              By clicking "Accept", you consent to our use of cookies. <a href="/privacy" className="underline text-p4c-navy hover:text-p4c-gold">Read our Privacy Policy</a>.
            </p>
          </div>
        </div>
        <div className="flex gap-3 w-full md:w-auto">
          <button 
            onClick={handleDecline}
            className="flex-1 md:flex-none px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"
          >
            Decline
          </button>
          <button 
            onClick={handleAccept}
            className="flex-1 md:flex-none px-6 py-2 bg-p4c-navy text-white rounded-md text-sm font-medium hover:bg-p4c-slate transition-colors shadow-sm"
          >
            Accept
          </button>
        </div>
      </div>
    </div>
  );
};

export default CookieConsent;


[FILE_END: components\CookieConsent.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\DarkModeToggle.tsx
METADATA: Size=2363 bytes | Last_Modified=2026-01-04 14:40:00.785374
================================================================================
import React from 'react';
import { useDarkMode } from '../context/DarkModeContext';

interface DarkModeToggleProps {
  className?: string;
}

const DarkModeToggle: React.FC<DarkModeToggleProps> = ({ className = '' }) => {
  const { isDarkMode, toggleDarkMode, systemPreference } = useDarkMode();

  return (
    <button
      onClick={toggleDarkMode}
      className={`p-2 rounded-full transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-p4c-navy focus:ring-opacity-50 ${className}`}
      aria-label={isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'}
      title={`Current: ${isDarkMode ? 'Dark' : 'Light'} mode | System preference: ${systemPreference}`}
    >
      <div className="relative w-6 h-6">
        {/* Sun Icon */}
        <div className={`absolute inset-0 transition-all duration-500 ease-in-out ${
          isDarkMode 
            ? 'opacity-0 scale-50 rotate-180' 
            : 'opacity-100 scale-100 rotate-0'
        }`}>
          <svg className="w-full h-full text-yellow-500" viewBox="0 0 24 24" fill="currentColor">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"/>
          </svg>
        </div>
        
        {/* Moon Icon */}
        <div className={`absolute inset-0 transition-all duration-500 ease-in-out ${
          isDarkMode 
            ? 'opacity-100 scale-100 rotate-0' 
            : 'opacity-0 scale-50 -rotate-180'
        }`}>
          <svg className="w-full h-full text-gray-200" viewBox="0 0 24 24" fill="currentColor">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </div>
      </div>
      
      {/* Tooltip */}
      <span className="sr-only">
        {isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'}
      </span>
      
      {/* System preference indicator */}
      {systemPreference !== 'no-preference' && (
        <span className="absolute -bottom-1 -right-1 w-2 h-2 bg-blue-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300" 
              title={`System prefers ${systemPreference} mode`}>
        </span>
      )}
    </button>
  );
};

export default DarkModeToggle;

[FILE_END: components\DarkModeToggle.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\ErrorBoundary.tsx
METADATA: Size=8753 bytes | Last_Modified=2026-01-04 13:31:59.063324
================================================================================
import React, { Component, ErrorInfo, ReactNode } from 'react';
import { AlertTriangle, RefreshCw } from 'lucide-react';

interface Props {
  children?: ReactNode;
  fallback?: ReactNode;
  onError?: (error: Error, errorInfo: ErrorInfo) => void;
  enableLogging?: boolean;
}

interface State {
  hasError: boolean;
  error: Error | null;
  errorId: string;
  timestamp: string;
}

class ErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false,
    error: null,
    errorId: '',
    timestamp: ''
  };

  public static getDerivedStateFromError(error: Error): State {
    // Generate unique error ID for tracking
    const errorId = `ERR_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    return { 
      hasError: true, 
      error,
      errorId,
      timestamp: new Date().toISOString()
    };
  }

  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    // Enhanced error logging with security considerations
    this.logErrorToService(error, errorInfo, this.state.errorId);
    
    // Call custom error handler if provided
    this.props.onError?.(error, errorInfo);
  }

  private logErrorToService = async (error: Error, errorInfo: ErrorInfo, errorId: string) => {
    // Only log if enabled (security consideration)
    if (!this.props.enableLogging) {
      return;
    }

    try {
      // Sanitize error data to prevent information disclosure
      const sanitizedErrorData = {
        errorId,
        message: this.sanitizeErrorMessage(error.message),
        errorType: error.constructor.name,
        timestamp: new Date().toISOString(),
        userAgent: navigator.userAgent.substring(0, 200), // Limit length
        url: window.location.href,
        userId: this.getCurrentUserId(),
        // Stack trace - only include filename and line numbers, not full paths
        stack: this.sanitizeStackTrace(error.stack || ''),
        componentStack: this.sanitizeComponentStack(errorInfo.componentStack || '')
      };

      // Send to secure logging endpoint
      await fetch('/api/errors/log', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-Requested-With': 'XMLHttpRequest'
        },
        body: JSON.stringify(sanitizedErrorData)
      });
    } catch (loggingError) {
      // Fail silently to avoid recursive errors
      console.warn('Failed to log error to service:', loggingError);
    }
  };

  private sanitizeErrorMessage = (message: string): string => {
    // Remove potential sensitive information from error messages
    return message
      .replace(/api[_-]?key["\s]*[:=]["\s]*[a-zA-Z0-9\-_]+/gi, 'api_key: [REDACTED]')
      .replace(/token["\s]*[:=]["\s]*[a-zA-Z0-9\-_]+/gi, 'token: [REDACTED]')
      .replace(/password["\s]*[:=]["\s]*[^,\s]+/gi, 'password: [REDACTED]')
      .replace(/email["\s]*[:=]["\s]*[^,\s]+@[^,\s]+/gi, 'email: [REDACTED]')
      .substring(0, 500); // Limit length
  };

  private sanitizeStackTrace = (stack: string): string => {
    if (!stack) return '';
    
    return stack
      .split('\n')
      .slice(0, 10) // Limit stack depth
      .map(line => {
        // Remove file paths, keep only filename and line number
        const match = line.match(/\(([^)]+)\)/);
        if (match) {
          const path = match[1];
          const filename = path.split('/').pop() || path;
          return line.replace(path, filename);
        }
        return line;
      })
      .join('\n')
      .substring(0, 2000); // Limit total length
  };

  private sanitizeComponentStack = (componentStack: string): string => {
    if (!componentStack) return '';
    
    return componentStack
      .split('\n')
      .slice(0, 5) // Limit component stack depth
      .map(line => {
        // Remove full component paths, keep only component names
        const match = line.match(/in\s+(\w+)/);
        if (match) {
          return `in ${match[1]}`;
        }
        return line.trim();
      })
      .join('\n')
      .substring(0, 500); // Limit length
  };

  private getCurrentUserId = (): string | null => {
    try {
      const userData = localStorage.getItem('p4c_user');
      if (userData) {
        const user = JSON.parse(userData);
        return user.id || null;
      }
    } catch {
      // Ignore parsing errors
    }
    return null;
  };

  private handleReload = () => {
    console.log('Error boundary: User chose to reload page');
    
    // Clear any corrupted state
    this.setState({
      hasError: false,
      error: null,
      errorId: '',
      timestamp: ''
    });
    
    // Reload the page
    window.location.reload();
  };

  private handleReset = () => {
    console.log('Error boundary: User chose to reset application state');
    
    // Clear any corrupted state and try to recover
    this.setState({
      hasError: false,
      error: null,
      errorId: '',
      timestamp: ''
    });
  };

  private handleReportError = async () => {
    if (!this.state.error) return;

    try {
      // Create a simplified error report
      const reportData = {
        errorId: this.state.errorId,
        timestamp: this.state.timestamp,
        userAgent: navigator.userAgent.substring(0, 100),
        url: window.location.href,
        userMessage: 'User reported this error via error boundary'
      };

      await fetch('/api/errors/report', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-Requested-With': 'XMLHttpRequest'
        },
        body: JSON.stringify(reportData)
      });

      alert('Error report submitted successfully. Thank you for your feedback!');
    } catch (error) {
      alert('Failed to submit error report. Please try again later.');
    }
  };

  public render() {
    if (this.state.hasError) {
      // Custom fallback UI
      if (this.props.fallback) {
        return this.props.fallback;
      }

      return (
        <div className="min-h-screen flex items-center justify-center bg-p4c-beige p-4">
          <div className="bg-white p-8 rounded-xl shadow-2xl max-w-md w-full text-center border-t-4 border-red-500">
            <div className="bg-red-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                <AlertTriangle className="w-8 h-8 text-red-500" />
            </div>
            <h1 className="text-2xl font-serif font-bold text-p4c-navy mb-2">
              Something went wrong
            </h1>
            <p className="text-gray-600 mb-2">
              We encountered an unexpected issue and are working to resolve it.
            </p>
            
            {/* Security-conscious error details */}
            <div className="bg-gray-50 p-3 rounded-lg mb-6 text-left">
              <p className="text-sm text-gray-500 mb-1">
                <strong>Error ID:</strong> {this.state.errorId}
              </p>
              <p className="text-sm text-gray-500 mb-1">
                <strong>Time:</strong> {new Date(this.state.timestamp).toLocaleString()}
              </p>
              <p className="text-sm text-gray-500">
                <strong>Status:</strong> Application error detected
              </p>
            </div>

            {/* Action buttons */}
            <div className="flex flex-col gap-3">
              <button
                onClick={this.handleReset}
                className="flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-md font-medium hover:bg-gray-300 transition-colors"
              >
                Try Again
              </button>
              <button
                onClick={this.handleReload}
                className="flex-1 bg-p4c-navy text-white px-4 py-2 rounded-md font-bold hover:bg-p4c-slate transition-colors flex items-center justify-center gap-2"
              >
                <RefreshCw className="w-4 h-4" />
                Reload Page
              </button>
              <button
                onClick={this.handleReportError}
                className="flex-1 bg-blue-100 text-blue-800 px-4 py-2 rounded-md font-medium hover:bg-blue-200 transition-colors text-sm"
              >
                Report This Error
              </button>
            </div>

            {/* Support contact */}
            <div className="mt-6 pt-4 border-t border-gray-200">
              <p className="text-xs text-gray-500">
                If this problem persists, please contact support at{' '}
                <a href="mailto:support@p4c-homes.com" className="text-blue-600 hover:underline">
                  support@p4c-homes.com
                </a>
              </p>
            </div>
          </div>
        </div>
      );
    }

    return this.props.children;
  }
}

export default ErrorBoundary;

[FILE_END: components\ErrorBoundary.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\Footer.tsx
METADATA: Size=5595 bytes | Last_Modified=2026-01-04 12:32:59.600925
================================================================================

import React from 'react';
import { Award, Accessibility, Home, Facebook, Instagram, Linkedin, Flag } from 'lucide-react';
import { Link } from 'react-router-dom';

const Footer: React.FC = () => {
  return (
    <footer className="bg-gray-900 text-white pt-16 pb-8 border-t border-gray-800">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
            
            {/* 1. Brand & Mission */}
            <div className="col-span-1">
                <div className="flex items-center gap-2 mb-4">
                     <div className="bg-p4c-gold p-1.5 rounded-full">
                        <Home className="text-p4c-navy w-5 h-5" />
                     </div>
                    <span className="font-serif text-xl font-bold text-p4c-beige">Properties 4 Creations</span>
                </div>
                <p className="text-gray-400 text-sm leading-relaxed mb-6">
                    Breaking the stigma of affordable housing in East Texas. We restore properties to restore dignity, focusing on veterans and families using housing vouchers.
                </p>
                <div className="flex gap-4">
                    <a href="#" className="text-gray-400 hover:text-p4c-gold transition-colors"><Facebook className="w-5 h-5" /></a>
                    <a href="#" className="text-gray-400 hover:text-p4c-gold transition-colors"><Instagram className="w-5 h-5" /></a>
                    <a href="#" className="text-gray-400 hover:text-p4c-gold transition-colors"><Linkedin className="w-5 h-5" /></a>
                </div>
            </div>

            {/* 2. Discover (User Facing) */}
            <div>
                <h4 className="font-serif font-bold text-lg mb-4 text-p4c-gold">Discover</h4>
                <ul className="space-y-2 text-sm text-gray-400">
                    <li><Link to="/" className="hover:text-white transition-colors">Available Homes</Link></li>
                    <li><Link to="/veteran-services" className="hover:text-white transition-colors">Veteran Services</Link></li>
                    <li><Link to="/success-stories" className="hover:text-white transition-colors">Success Stories</Link></li>
                    <li><Link to="/impact" className="hover:text-white transition-colors">Impact Dashboard</Link></li>
                    <li><Link to="/portal" className="hover:text-white transition-colors">Resident Portal</Link></li>
                </ul>
            </div>

            {/* 3. Company (Corporate Facing) */}
            <div>
                <h4 className="font-serif font-bold text-lg mb-4 text-p4c-gold">Company</h4>
                <ul className="space-y-2 text-sm text-gray-400">
                    <li><Link to="/about" className="hover:text-white transition-colors">Our Story</Link></li>
                    <li><Link to="/transparency" className="hover:text-white transition-colors">Renovation Standards</Link></li>
                    <li><Link to="/employment" className="hover:text-white transition-colors flex items-center gap-2">Careers <span className="text-xs bg-p4c-gold text-p4c-navy px-1.5 rounded font-bold">Hiring</span></Link></li>
                    <li><Link to="/faq" className="hover:text-white transition-colors">FAQ</Link></li>
                    <li><Link to="/contact" className="hover:text-white transition-colors">Contact Us</Link></li>
                </ul>
            </div>

            {/* 4. Contact & Legal */}
            <div>
                <h4 className="font-serif font-bold text-lg mb-4 text-p4c-gold">Get in Touch</h4>
                <ul className="space-y-2 text-sm text-gray-400 mb-6">
                    <li>123 Veteran Way, Tyler, TX 75701</li>
                    <li>(903) 555-0123</li>
                    <li>support@p4c-homes.com</li>
                </ul>
                <h5 className="font-bold text-sm text-white mb-2">Legal</h5>
                <ul className="space-y-2 text-sm text-gray-400">
                    <li><Link to="/privacy" className="hover:text-white transition-colors">Privacy Policy</Link></li>
                    <li><Link to="/terms" className="hover:text-white transition-colors">Terms of Service</Link></li>
                    <li><Link to="/equal-housing" className="hover:text-white transition-colors">Equal Housing</Link></li>
                    <li><Link to="/accessibility" className="hover:text-white transition-colors">Accessibility</Link></li>
                </ul>
            </div>
        </div>

        {/* Badges Bar */}
        <div className="border-t border-gray-800 pt-8 pb-8">
            <div className="flex flex-wrap justify-center gap-6">
                <div className="flex items-center gap-2 text-sm text-gray-500">
                    <Flag className="text-p4c-gold w-4 h-4" /> Veteran Owned Business
                </div>
                <div className="flex items-center gap-2 text-sm text-gray-500">
                    <Home className="text-p4c-gold w-4 h-4" /> Equal Housing Opportunity
                </div>
                <div className="flex items-center gap-2 text-sm text-gray-500">
                    <Accessibility className="text-p4c-gold w-4 h-4" /> ADA Compliant
                </div>
            </div>
        </div>

        <div className="border-t border-gray-800 pt-8 text-center text-gray-600 text-xs">
            <p>&copy; {new Date().getFullYear()} Properties 4 Creations, LLC. All rights reserved.</p>
        </div>
      </div>
    </footer>
  );
};

export default Footer;


[FILE_END: components\Footer.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\GeminiImageEditor.tsx
METADATA: Size=7253 bytes | Last_Modified=2026-01-04 12:32:59.572207
================================================================================

import React, { useState, useRef } from 'react';
import { Sparkles, Image as ImageIcon, Loader2, Upload, AlertCircle } from 'lucide-react';
import { editImageWithGemini } from '../services/geminiService';

const GeminiImageEditor: React.FC = () => {
  const [selectedImage, setSelectedImage] = useState<string | null>(null);
  const [mimeType, setMimeType] = useState<string>('image/jpeg');
  const [prompt, setPrompt] = useState('');
  const [generatedImage, setGeneratedImage] = useState<string | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const fileInputRef = useRef<HTMLInputElement>(null);

  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (file) {
      if (file.size > 5 * 1024 * 1024) {
        setError("Image size too large. Please use an image under 5MB.");
        return;
      }
      
      const reader = new FileReader();
      reader.onloadend = () => {
        const result = reader.result as string;
        setSelectedImage(result);
        setMimeType(file.type);
        setGeneratedImage(null); // Reset generated image on new upload
        setError(null);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleGenerate = async () => {
    if (!selectedImage || !prompt) return;

    setLoading(true);
    setError(null);

    try {
      // Strip base64 prefix for the API call
      const base64Data = selectedImage.split(',')[1];
      const result = await editImageWithGemini(base64Data, mimeType, prompt);
      setGeneratedImage(result);
    } catch (err) {
      setError("Failed to process image. Please try again with a different prompt.");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 ring-1 ring-gray-900/5">
      <div className="bg-p4c-navy p-6 border-b border-gray-800">
        <h3 className="text-xl font-serif font-bold text-p4c-beige flex items-center gap-2">
          <Sparkles className="text-p4c-gold w-5 h-5" />
          AI Renovation Visualizer
        </h3>
        <p className="text-gray-300 text-sm mt-2">
          Visualize potential upgrades. Upload a photo of a room and describe changes (e.g., "Add hardwood floors and modern lighting").
        </p>
      </div>

      <div className="p-6 space-y-6">
        {/* Upload Section */}
        {!selectedImage ? (
          <div 
            onClick={() => fileInputRef.current?.click()}
            className="border-2 border-dashed border-gray-300 rounded-2xl p-12 flex flex-col items-center justify-center cursor-pointer hover:border-p4c-gold hover:bg-p4c-beige/50 transition-all group"
          >
            <div className="bg-gray-50 p-4 rounded-full mb-4 group-hover:scale-110 transition-transform">
              <Upload className="w-8 h-8 text-gray-400 group-hover:text-p4c-gold" />
            </div>
            <p className="font-medium text-p4c-navy text-lg">Click to upload a room photo</p>
            <p className="text-sm text-gray-500 mt-1">Supports JPG, PNG (Max 5MB)</p>
            <input 
              type="file" 
              ref={fileInputRef} 
              className="hidden" 
              accept="image/*"
              onChange={handleImageUpload}
            />
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            {/* Original Image / Input View */}
            <div className="space-y-4">
              <div className="relative rounded-2xl overflow-hidden h-64 bg-gray-100 border border-gray-200 shadow-inner">
                <img src={selectedImage} alt="Original upload" className="w-full h-full object-cover" />
                <button 
                  onClick={() => { setSelectedImage(null); setGeneratedImage(null); }}
                  className="absolute top-2 right-2 bg-black/60 backdrop-blur-md text-white text-xs px-3 py-1.5 rounded-full hover:bg-black/80 font-medium transition-colors"
                >
                  Change Photo
                </button>
                <div className="absolute bottom-2 left-2 bg-white/90 backdrop-blur-sm text-p4c-navy text-xs font-bold px-3 py-1.5 rounded-full shadow-sm">
                  Original
                </div>
              </div>

              <div className="space-y-2">
                <label htmlFor="prompt" className="block text-sm font-medium text-gray-700">
                  What would you like to change?
                </label>
                <div className="flex gap-2">
                  <input
                    id="prompt"
                    type="text"
                    value={prompt}
                    onChange={(e) => setPrompt(e.target.value)}
                    placeholder="e.g. Add a retro filter, remove clutter..."
                    className="flex-1 rounded-lg border-gray-300 shadow-sm focus:border-p4c-gold focus:ring focus:ring-p4c-gold/50 px-4 py-2 border"
                  />
                  <button
                    onClick={handleGenerate}
                    disabled={loading || !prompt}
                    className="bg-p4c-navy text-white px-6 py-2 rounded-lg font-medium hover:bg-p4c-navy/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors shadow-md"
                  >
                    {loading ? <Loader2 className="animate-spin w-4 h-4" /> : <Sparkles className="w-4 h-4 text-p4c-gold" />}
                    Visualize
                  </button>
                </div>
              </div>
            </div>

            {/* Result View */}
            <div className="relative rounded-2xl overflow-hidden h-64 bg-gray-100 border border-gray-200 flex items-center justify-center shadow-inner">
              {loading ? (
                <div className="text-center p-6">
                  <Loader2 className="w-10 h-10 text-p4c-gold animate-spin mx-auto mb-4" />
                  <p className="text-sm text-gray-600 font-medium">Renovating pixel by pixel...</p>
                </div>
              ) : generatedImage ? (
                <>
                  <img src={generatedImage} alt="AI Generated renovation" className="w-full h-full object-cover animate-fade-in" />
                  <div className="absolute bottom-2 left-2 bg-p4c-gold text-p4c-navy text-xs font-bold px-3 py-1.5 rounded-full shadow-sm">
                    AI Preview
                  </div>
                </>
              ) : (
                <div className="text-center text-gray-400 p-6">
                  <ImageIcon className="w-12 h-12 mx-auto mb-3 opacity-30" />
                  <p className="text-sm font-medium">Your visual renovation will appear here</p>
                </div>
              )}
            </div>
          </div>
        )}

        {/* Error Message */}
        {error && (
          <div className="bg-red-50 text-red-700 p-4 rounded-lg flex items-center gap-3 text-sm border border-red-100">
            <AlertCircle className="w-5 h-5 flex-shrink-0" />
            {error}
          </div>
        )}
      </div>
    </div>
  );
};

export default GeminiImageEditor;


[FILE_END: components\GeminiImageEditor.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\Hero.tsx
METADATA: Size=2448 bytes | Last_Modified=2026-01-04 12:32:59.606373
================================================================================

import React from 'react';
import { ArrowRight } from 'lucide-react';
import { IMAGES } from '../constants/images';

const Hero: React.FC = () => {
  return (
    <div className="relative h-[85vh] w-full overflow-hidden flex items-center justify-center">
      {/* Video Background */}
      <div className="absolute top-0 left-0 w-full h-full z-0">
        <video 
          autoPlay 
          muted 
          loop 
          playsInline 
          className="object-cover w-full h-full"
          poster={IMAGES.BANNERS.HOME}
        >
          <source src={IMAGES.VIDEOS.HERO_PROPERTIES} type="video/mp4" />
        </video>
        {/* Overlay for readability */}
        <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/60 mix-blend-multiply"></div>
        <div className="absolute top-0 left-0 w-full h-full bg-black/30"></div>
      </div>

      {/* Content */}
      <div className="relative z-10 text-center px-4 max-w-4xl mx-auto animate-fade-in-up">
        <h1 className="text-4xl md:text-6xl font-serif font-bold text-white mb-6 leading-tight drop-shadow-lg">
          Dignity in Every Detail. <br/>
          <span className="text-p4c-gold">Welcome Home.</span>
        </h1>
        <p className="text-lg md:text-xl text-gray-200 mb-10 font-light max-w-2xl mx-auto leading-relaxed">
          We transform distressed properties into premium, affordable homes for East Texas families and veterans. Experience the P4C difference.
        </p>
        
        <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <button className="bg-p4c-gold text-p4c-navy hover:bg-p4c-goldHover px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300 shadow-xl flex items-center justify-center gap-2 transform hover:-translate-y-1">
                Find Your Home <ArrowRight className="w-5 h-5" />
            </button>
            <button className="bg-transparent border-2 border-white text-white hover:bg-white hover:text-p4c-navy px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300 flex items-center justify-center">
                Our Standards
            </button>
        </div>
      </div>
      
      {/* Scroll indicator */}
      <div className="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-white/70">
        <span className="text-sm uppercase tracking-widest">Scroll to Discover</span>
      </div>
    </div>
  );
};

export default Hero;


[FILE_END: components\Hero.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\ImageOptimizer.tsx
METADATA: Size=6192 bytes | Last_Modified=2026-01-04 14:48:32.882982
================================================================================
import React, { useState, useEffect, useRef } from 'react';

interface ImageOptimizerProps {
  src: string;
  alt: string;
  className?: string;
  width?: number;
  height?: number;
  priority?: boolean;
  placeholder?: string;
  onLoad?: () => void;
  onError?: () => void;
  style?: React.CSSProperties;
}

const ImageOptimizer: React.FC<ImageOptimizerProps> = ({
  src,
  alt,
  className = '',
  width,
  height,
  priority = false,
  placeholder = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5Mb2FkaW5nLi4uPC90ZXh0Pjwvc3ZnPg==',
  onLoad,
  onError,
  style,
  ...props
}) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const [hasError, setHasError] = useState(false);
  const [currentSrc, setCurrentSrc] = useState(placeholder);
  const imgRef = useRef<HTMLImageElement>(null);

  // Generate optimized image URLs
  const generateOptimizedSrc = (originalSrc: string, format: string = 'webp') => {
    // In a real implementation, this would call an image optimization service
    // For now, we'll simulate format conversion and responsive sizing

    // Check if the image is already in the desired format
    const extension = originalSrc.split('.').pop()?.toLowerCase();
    if (extension === format) return originalSrc;

    // Simulate format conversion (in production, use Cloudinary, Imgix, etc.)
    const baseName = originalSrc.replace(/\.[^/.]+$/, "");
    return `${baseName}.${format}`;
  };

  // Generate responsive image sources
  const generateSrcSet = (originalSrc: string) => {
    const widths = [320, 640, 1024, 1920];
    return widths
      .map(width => `${generateOptimizedSrc(originalSrc)} ${width}w`)
      .join(', ');
  };

  // Check browser WebP/AVIF support
  const checkFormatSupport = () => {
    return new Promise<string>((resolve) => {
      const canvas = document.createElement('canvas');
      canvas.width = 1;
      canvas.height = 1;

      // Test AVIF support
      canvas.toDataURL('image/avif').startsWith('data:image/avif')
        ? resolve('avif')
        : canvas.toDataURL('image/webp').startsWith('data:image/webp')
        ? resolve('webp')
        : resolve('jpeg');
    });
  };

  useEffect(() => {
    let isMounted = true;

    const loadImage = async () => {
      try {
        // Check browser support for modern formats
        const supportedFormat = await checkFormatSupport();

        // Generate optimized source
        const optimizedSrc = generateOptimizedSrc(src, supportedFormat);

        // Preload image
        const img = new Image();

        // Set up event handlers
        img.onload = () => {
          if (isMounted) {
            setCurrentSrc(optimizedSrc);
            setIsLoaded(true);
            onLoad?.();
          }
        };

        img.onerror = () => {
          if (isMounted) {
            setHasError(true);
            setCurrentSrc(src); // Fallback to original
            onError?.();
          }
        };

        // Add loading class for CSS animations
        if (imgRef.current) {
          imgRef.current.classList.add('loading');
        }

        // Set source
        img.src = optimizedSrc;

      } catch (error) {
        console.warn('Image optimization failed, using original:', error);
        if (isMounted) {
          setCurrentSrc(src);
          setIsLoaded(true);
        }
      }
    };

    if (priority) {
      // Load immediately for priority images
      loadImage();
    } else {
      // Use IntersectionObserver for lazy loading
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              loadImage();
              observer.unobserve(entry.target);
            }
          });
        },
        {
          rootMargin: '50px', // Load 50px before entering viewport
          threshold: 0.01
        }
      );

      if (imgRef.current) {
        observer.observe(imgRef.current);
      }

      return () => {
        if (imgRef.current) {
          observer.unobserve(imgRef.current);
        }
      };
    }

    return () => {
      isMounted = false;
    };
  }, [src, priority, onLoad, onError]);

  // Generate sizes attribute for responsive images
  const sizes = width ? `${width}px` : '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw';

  return (
    <img
      ref={imgRef}
      src={currentSrc}
      srcSet={generateSrcSet(src)}
      sizes={sizes}
      alt={alt}
      width={width}
      height={height}
      className={`image-optimizer ${isLoaded ? 'loaded' : 'loading'} ${hasError ? 'error' : ''} ${className}`}
      style={{
        ...style,
        // Add blur effect while loading
        filter: !isLoaded ? 'blur(10px)' : 'none',
        transition: 'filter 0.3s ease-in-out, opacity 0.3s ease-in-out',
        opacity: isLoaded ? 1 : 0.7
      }}
      loading={priority ? 'eager' : 'lazy'}
      decoding="async"
      {...props}
    />
  );
};

// Progressive image component with blur placeholder
export const ProgressiveImage: React.FC<ImageOptimizerProps & { blurDataURL?: string }> = ({
  blurDataURL,
  ...props
}) => {
  const [isLoaded, setIsLoaded] = useState(false);

  return (
    <div className="relative overflow-hidden">
      {/* Blur placeholder */}
      {!isLoaded && blurDataURL && (
        <img
          src={blurDataURL}
          alt=""
          className="absolute inset-0 w-full h-full object-cover filter blur-sm scale-110"
          aria-hidden="true"
        />
      )}

      {/* Main image */}
      <ImageOptimizer
        {...props}
        onLoad={() => setIsLoaded(true)}
        className={`${props.className} ${isLoaded ? '' : 'opacity-0'}`}
      />
    </div>
  );
};

export default ImageOptimizer;

[FILE_END: components\ImageOptimizer.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\ImpactDashboard.tsx
METADATA: Size=1926 bytes | Last_Modified=2026-01-04 12:32:59.587925
================================================================================
import React from 'react';
import { StatMetric } from '../types';
import { Users, Home, Hammer } from 'lucide-react';

const stats: StatMetric[] = [
    { id: '1', label: 'Families Housed', value: '142', icon: 'home' },
    { id: '2', label: 'Veterans Served', value: '85', icon: 'users' },
    { id: '3', label: 'Properties Revitalized', value: '56', icon: 'hammer' },
];

const ImpactDashboard: React.FC = () => {
  return (
    <section id="impact" className="py-16 bg-p4c-navy text-white">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center mb-12">
            <h2 className="text-3xl md:text-4xl font-serif font-bold text-p4c-beige mb-4">Our Community Impact</h2>
            <p className="text-gray-400 max-w-2xl mx-auto">
                We measure success not by profit margins, but by the number of keys we hand to families and veterans in East Texas.
            </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            {stats.map((stat) => (
                <div key={stat.id} className="bg-white/5 border border-white/10 p-8 rounded-2xl flex flex-col items-center text-center hover:bg-white/10 transition-colors duration-300">
                    <div className="bg-p4c-gold p-4 rounded-full mb-6 text-p4c-navy">
                        {stat.icon === 'home' && <Home className="w-8 h-8" />}
                        {stat.icon === 'users' && <Users className="w-8 h-8" />}
                        {stat.icon === 'hammer' && <Hammer className="w-8 h-8" />}
                    </div>
                    <div className="text-5xl font-bold font-serif text-white mb-2">{stat.value}</div>
                    <div className="text-p4c-gold uppercase tracking-widest text-sm font-semibold">{stat.label}</div>
                </div>
            ))}
        </div>
      </div>
    </section>
  );
};

export default ImpactDashboard;


[FILE_END: components\ImpactDashboard.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\MicroInteractions.tsx
METADATA: Size=9417 bytes | Last_Modified=2026-01-04 14:49:46.229489
================================================================================
import React, { useState, useEffect, useRef } from 'react';

interface AnimatedButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  className?: string;
  disabled?: boolean;
  loading?: boolean;
  animate?: boolean;
}

export const AnimatedButton: React.FC<AnimatedButtonProps> = ({
  children,
  onClick,
  variant = 'primary',
  size = 'md',
  className = '',
  disabled = false,
  loading = false,
  animate = true,
  ...props
}) => {
  const [isPressed, setIsPressed] = useState(false);
  const [ripples, setRipples] = useState<Array<{ id: number; x: number; y: number }>>([]);
  const buttonRef = useRef<HTMLButtonElement>(null);

  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
    if (disabled || loading) return;

    if (animate) {
      // Create ripple effect
      const rect = buttonRef.current?.getBoundingClientRect();
      if (rect) {
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const newRipple = { id: Date.now(), x, y };
        setRipples(prev => [...prev, newRipple]);

        // Remove ripple after animation
        setTimeout(() => {
          setRipples(prev => prev.filter(ripple => ripple.id !== newRipple.id));
        }, 600);
      }

      // Button press animation
      setIsPressed(true);
      setTimeout(() => setIsPressed(false), 150);
    }

    onClick?.();
  };

  const baseClasses = 'relative overflow-hidden transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';

  const variantClasses = {
    primary: 'bg-p4c-gold text-p4c-navy hover:bg-p4c-goldHover focus:ring-p4c-gold shadow-lg hover:shadow-xl hover:-translate-y-0.5',
    secondary: 'bg-p4c-navy text-white hover:bg-p4c-slate focus:ring-p4c-navy shadow-md hover:shadow-lg',
    ghost: 'bg-transparent text-p4c-navy hover:bg-gray-100 focus:ring-p4c-navy'
  };

  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm rounded-md',
    md: 'px-4 py-2 text-base rounded-lg',
    lg: 'px-6 py-3 text-lg rounded-xl'
  };

  return (
    <button
      ref={buttonRef}
      onClick={handleClick}
      disabled={disabled || loading}
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${isPressed ? 'scale-95' : ''} ${animate ? 'hover-lift button-press' : ''} ${className}`}
      {...props}
    >
      {/* Ripple effects */}
      {ripples.map(ripple => (
        <span
          key={ripple.id}
          className="absolute rounded-full bg-white/30 animate-ping"
          style={{
            left: ripple.x - 10,
            top: ripple.y - 10,
            width: 20,
            height: 20,
            animation: 'ripple 0.6s linear'
          }}
        />
      ))}

      {/* Loading spinner */}
      {loading && (
        <span className="absolute inset-0 flex items-center justify-center">
          <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
            <circle
              className="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              strokeWidth="4"
              fill="none"
            />
            <path
              className="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            />
          </svg>
        </span>
      )}

      <span className={loading ? 'opacity-0' : ''}>
        {children}
      </span>
    </button>
  );
};

interface FloatingActionProps {
  children: React.ReactNode;
  onClick?: () => void;
  position?: 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left';
  className?: string;
}

export const FloatingAction: React.FC<FloatingActionProps> = ({
  children,
  onClick,
  position = 'bottom-right',
  className = ''
}) => {
  const positionClasses = {
    'bottom-right': 'bottom-6 right-6',
    'bottom-left': 'bottom-6 left-6',
    'top-right': 'top-6 right-6',
    'top-left': 'top-6 left-6'
  };

  return (
    <button
      onClick={onClick}
      className={`fixed ${positionClasses[position]} z-40 w-14 h-14 bg-p4c-gold text-p4c-navy rounded-full shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-p4c-gold focus:ring-offset-2 group ${className}`}
      aria-label="Floating action button"
    >
      <div className="flex items-center justify-center w-full h-full group-hover:scale-110 transition-transform duration-200">
        {children}
      </div>

      {/* Pulse animation */}
      <div className="absolute inset-0 rounded-full bg-p4c-gold animate-ping opacity-20"></div>
    </button>
  );
};

interface ProgressIndicatorProps {
  progress: number; // 0-100
  size?: 'sm' | 'md' | 'lg';
  color?: string;
  className?: string;
  showLabel?: boolean;
  animated?: boolean;
}

export const ProgressIndicator: React.FC<ProgressIndicatorProps> = ({
  progress,
  size = 'md',
  color = 'bg-p4c-gold',
  className = '',
  showLabel = false,
  animated = true
}) => {
  const [displayProgress, setDisplayProgress] = useState(0);

  useEffect(() => {
    if (animated) {
      const timer = setTimeout(() => {
        setDisplayProgress(progress);
      }, 100);
      return () => clearTimeout(timer);
    } else {
      setDisplayProgress(progress);
    }
  }, [progress, animated]);

  const sizeClasses = {
    sm: 'w-16 h-2',
    md: 'w-24 h-3',
    lg: 'w-32 h-4'
  };

  return (
    <div className={`flex items-center space-x-2 ${className}`}>
      <div className={`bg-gray-200 rounded-full overflow-hidden ${sizeClasses[size]}`}>
        <div
          className={`${color} h-full rounded-full transition-all duration-500 ease-out`}
          style={{ width: `${Math.min(displayProgress, 100)}%` }}
        />
      </div>
      {showLabel && (
        <span className="text-sm font-medium text-gray-700">
          {Math.round(displayProgress)}%
        </span>
      )}
    </div>
  );
};

interface SmoothScrollProps {
  to: string;
  children: React.ReactNode;
  offset?: number;
  duration?: number;
  className?: string;
}

export const SmoothScroll: React.FC<SmoothScrollProps> = ({
  to,
  children,
  offset = 0,
  duration = 600,
  className = ''
}) => {
  const handleClick = (e: React.MouseEvent) => {
    e.preventDefault();

    const targetElement = document.querySelector(to);
    if (targetElement) {
      const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - offset;

      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    }
  };

  return (
    <a
      href={to}
      onClick={handleClick}
      className={`transition-colors duration-200 hover:text-p4c-gold cursor-pointer ${className}`}
    >
      {children}
    </a>
  );
};

interface StaggeredListProps {
  children: React.ReactNode[];
  staggerDelay?: number;
  className?: string;
}

export const StaggeredList: React.FC<StaggeredListProps> = ({
  children,
  staggerDelay = 100,
  className = ''
}) => {
  return (
    <div className={className}>
      {React.Children.map(children, (child, index) => (
        <div
          key={index}
          className="animate-fade-in"
          style={{
            animationDelay: `${index * staggerDelay}ms`
          }}
        >
          {child}
        </div>
      ))}
    </div>
  );
};

interface HoverCardProps {
  children: React.ReactNode;
  className?: string;
  hoverEffect?: 'lift' | 'glow' | 'scale' | 'border';
}

export const HoverCard: React.FC<HoverCardProps> = ({
  children,
  className = '',
  hoverEffect = 'lift'
}) => {
  const effectClasses = {
    lift: 'hover:-translate-y-2 hover:shadow-xl',
    glow: 'hover:shadow-lg hover:shadow-p4c-gold/20',
    scale: 'hover:scale-105',
    border: 'hover:border-p4c-gold hover:border-2'
  };

  return (
    <div
      className={`transition-all duration-300 ease-in-out ${effectClasses[hoverEffect]} ${className}`}
    >
      {children}
    </div>
  );
};

interface LoadingDotsProps {
  size?: 'sm' | 'md' | 'lg';
  color?: string;
  className?: string;
}

export const LoadingDots: React.FC<LoadingDotsProps> = ({
  size = 'md',
  color = 'bg-p4c-gold',
  className = ''
}) => {
  const sizeClasses = {
    sm: 'w-1 h-1',
    md: 'w-2 h-2',
    lg: 'w-3 h-3'
  };

  return (
    <div className={`flex space-x-1 ${className}`}>
      {[0, 1, 2].map((i) => (
        <div
          key={i}
          className={`${sizeClasses[size]} ${color} rounded-full animate-bounce`}
          style={{
            animationDelay: `${i * 0.1}s`,
            animationDuration: '0.6s'
          }}
        />
      ))}
    </div>
  );
};

// CSS for ripple animation (add to global CSS)
const rippleStyles = `
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}
`;

export default AnimatedButton;

[FILE_END: components\MicroInteractions.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\Navbar.tsx
METADATA: Size=7833 bytes | Last_Modified=2026-01-04 14:41:17.378348
================================================================================

import React, { useState } from 'react';
import { Menu, X, Home, HeartHandshake, Info, BarChart3, UserCircle, LogOut, LayoutDashboard, Star } from 'lucide-react';
import { Link, useLocation, useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import DarkModeToggle from './DarkModeToggle';

const NAV_LINKS = [
  { name: 'Properties', path: '/', icon: <Home className="w-4 h-4 mr-2" /> },
  { name: 'Veterans', path: '/veteran-services', icon: <HeartHandshake className="w-4 h-4 mr-2" /> },
  { name: 'Stories', path: '/success-stories', icon: <Star className="w-4 h-4 mr-2" /> },
  { name: 'Impact', path: '/impact', icon: <BarChart3 className="w-4 h-4 mr-2" /> },
  { name: 'About', path: '/about', icon: <Info className="w-4 h-4 mr-2" /> },
];

const Navbar: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);
  const location = useLocation();
  const navigate = useNavigate();
  const { user, isAuthenticated, logout } = useAuth();

  const isActive = (path: string) => {
    if (path === '/' && location.pathname !== '/') return false;
    return location.pathname.startsWith(path);
  };

  const handleMobileNav = (path: string) => {
    navigate(path);
    setIsOpen(false);
  };

  return (
    <nav className="sticky top-0 z-50 bg-p4c-navy/80 backdrop-blur-md border-b border-white/10 text-white shadow-lg transition-all duration-300">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-20 items-center">
          {/* Logo */}
          <Link 
            to="/"
            className="flex-shrink-0 flex items-center gap-3 hover:opacity-90 transition-opacity group"
          >
             <div className="bg-p4c-gold p-2 rounded-full shadow-lg group-hover:shadow-p4c-gold/20 transition-all">
                <Home className="text-p4c-navy w-6 h-6" />
             </div>
             <div className="text-left">
                <span className="font-serif text-xl md:text-2xl font-bold tracking-tight text-p4c-beige block drop-shadow-sm">
                  Properties 4 Creations
                </span>
                <p className="text-xs text-gray-300 uppercase tracking-widest hidden md:block font-medium">Veteran Owned & Operated</p>
             </div>
          </Link>

          {/* Desktop Menu */}
          <div className="hidden xl:flex items-center space-x-6">
            {NAV_LINKS.map((link) => (
              <Link
                key={link.name}
                to={link.path}
                className={`flex items-center font-sans text-sm font-medium transition-all duration-200 hover:scale-105 ${
                  isActive(link.path) ? 'text-p4c-gold' : 'text-gray-200 hover:text-p4c-gold'
                }`}
              >
                {link.name}
              </Link>
            ))}
            
            <div className="w-px h-6 bg-gray-600 mx-2"></div>

            {isAuthenticated ? (
              <div className="flex items-center gap-4">
                {user?.role === 'admin' ? (
                  <Link 
                    to="/admin"
                    className="flex items-center text-sm font-bold text-p4c-gold hover:text-white transition-colors"
                  >
                    <LayoutDashboard className="w-4 h-4 mr-1" /> Dashboard
                  </Link>
                ) : (
                  <span className="text-sm text-gray-300">Hi, {user?.name}</span>
                )}
                <button 
                  onClick={logout}
                  className="flex items-center text-sm font-medium text-gray-300 hover:text-red-400 transition-colors"
                >
                  <LogOut className="w-4 h-4 mr-1" /> Logout
                </button>
              </div>
            ) : (
              <Link 
                to="/portal"
                className="flex items-center text-sm font-bold text-gray-300 hover:text-white transition-colors"
              >
                  <UserCircle className="w-4 h-4 mr-1" /> Login
              </Link>
            )}

            {/* Dark Mode Toggle */}
            <DarkModeToggle className="group" />
            
            {!isAuthenticated && (
              <Link
                to="/apply"
                className="bg-p4c-gold text-p4c-navy hover:bg-p4c-goldHover px-5 py-2.5 rounded-md font-bold font-sans transition-all duration-200 shadow-lg hover:shadow-p4c-gold/30 hover:-translate-y-0.5 ml-2"
              >
                Find Your Home
              </Link>
            )}
          </div>

          {/* Mobile Menu Button */}
          <div className="xl:hidden flex items-center">
            <button
              onClick={() => setIsOpen(!isOpen)}
              className="text-gray-200 hover:text-white focus:outline-none p-2 rounded-md hover:bg-white/10 transition-colors"
              aria-label="Toggle navigation menu"
            >
              {isOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
            </button>
          </div>
        </div>
      </div>

      {/* Mobile Menu Dropdown */}
      {isOpen && (
        <div className="xl:hidden bg-p4c-navy/95 backdrop-blur-xl border-t border-white/10 animate-fade-in h-screen overflow-y-auto pb-20">
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            {NAV_LINKS.map((link) => (
              <button
                key={link.name}
                onClick={() => handleMobileNav(link.path)}
                className="w-full text-left px-3 py-4 rounded-md text-base font-medium text-white hover:bg-white/10 hover:text-p4c-gold transition-colors"
              >
                <div className="flex items-center">
                    {link.icon}
                    {link.name}
                </div>
              </button>
            ))}
            <div className="pt-4 pb-4 px-2 space-y-3 border-t border-white/10 mt-2">
                {isAuthenticated ? (
                  <>
                    <div className="px-3 py-2 text-gray-400 text-sm">Signed in as {user?.email}</div>
                    {user?.role === 'admin' && (
                      <button 
                        onClick={() => handleMobileNav('/admin')}
                        className="w-full bg-white/10 text-p4c-gold px-6 py-3 rounded-md font-bold font-sans flex items-center justify-center gap-2 mb-2"
                      >
                        <LayoutDashboard className="w-5 h-5" /> Admin Dashboard
                      </button>
                    )}
                    <button 
                      onClick={() => { logout(); setIsOpen(false); }}
                      className="w-full bg-red-900/50 border border-red-800 text-red-200 px-6 py-3 rounded-md font-bold font-sans flex items-center justify-center gap-2"
                    >
                      <LogOut className="w-5 h-5" /> Logout
                    </button>
                  </>
                ) : (
                  <>
                    <button 
                      onClick={() => handleMobileNav('/portal')}
                      className="w-full bg-transparent border border-gray-500 text-white px-6 py-3 rounded-md font-bold font-sans flex items-center justify-center gap-2"
                    >
                      <UserCircle className="w-5 h-5" /> Resident Login
                    </button>
                    <button 
                      onClick={() => handleMobileNav('/apply')}
                      className="w-full bg-p4c-gold text-p4c-navy hover:bg-p4c-goldHover px-6 py-3 rounded-md font-bold font-sans shadow-md"
                    >
                      Find Your Home
                    </button>
                  </>
                )}
            </div>
          </div>
        </div>
      )}
    </nav>
  );
};

export default Navbar;


[FILE_END: components\Navbar.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\OptimizedImage.tsx
METADATA: Size=6982 bytes | Last_Modified=2026-01-04 14:51:17.891459
================================================================================
/**
 * Optimized Image Component
 * Supports WebP/AVIF, lazy loading, responsive design
 */

import React, { useState, useRef, useEffect, useCallback } from 'react';
import { 
  detectImageFormatSupport, 
  getOptimalImageFormat, 
  generateResponsiveSrcset, 
  generateOptimizedImageUrl,
  LazyImageLoader,
  generateBlurPlaceholder,
  responsiveImageConfig
} from '../utils/imageOptimization';

interface OptimizedImageProps {
  src: string;
  alt: string;
  width?: number;
  height?: number;
  className?: string;
  sizes?: string[];
  priority?: boolean;
  placeholder?: 'blur' | 'empty';
  quality?: number;
  formats?: ('avif' | 'webp' | 'jpeg' | 'png')[];
  onLoad?: () => void;
  onError?: () => void;
  loading?: 'lazy' | 'eager';
}

export const OptimizedImage: React.FC<OptimizedImageProps> = ({
  src,
  alt,
  width,
  height,
  className = '',
  sizes,
  priority = false,
  placeholder = 'blur',
  quality = 80,
  formats = ['avif', 'webp', 'jpeg'],
  onLoad,
  onError,
  loading = 'lazy'
}) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const [isError, setIsError] = useState(false);
  const [currentSrc, setCurrentSrc] = useState('');
  const imgRef = useRef<HTMLImageElement>(null);
  const [imageFormatSupport] = useState(detectImageFormatSupport());

  // Use custom sizes or default responsive sizes
  const imageSizes = sizes || responsiveImageConfig.sizes;

  // Generate image URLs for different formats and sizes
  const generateImageSources = useCallback(() => {
    const baseUrl = src.replace(/\.[^/.]+$/, ''); // Remove extension
    const sources = new Map<string, string>();

    // Generate sources for supported formats
    formats.forEach(format => {
      if (format === 'avif' && imageFormatSupport.avif) {
        sources.set('image/avif', generateResponsiveSrcset(
          baseUrl, 
          responsiveImageConfig.breakpoints, 
          'avif'
        ));
      } else if (format === 'webp' && imageFormatSupport.webp) {
        sources.set('image/webp', generateResponsiveSrcset(
          baseUrl, 
          responsiveImageConfig.breakpoints, 
          'webp'
        ));
      } else if (format === 'jpeg') {
        sources.set('image/jpeg', generateResponsiveSrcset(
          baseUrl, 
          responsiveImageConfig.breakpoints, 
          'jpeg'
        ));
      }
    });

    return sources;
  }, [src, formats, imageFormatSupport]);

  // Get fallback src
  const getFallbackSrc = useCallback(() => {
    const optimalFormat = getOptimalImageFormat(imageFormatSupport);
    return generateOptimizedImageUrl(src.replace(/\.[^/.]+$/, ''), {
      width: width || 800,
      quality,
      format: optimalFormat
    });
  }, [src, width, quality, imageFormatSupport]);

  // Lazy loading setup
  useEffect(() => {
    if (!priority && loading === 'lazy' && imgRef.current) {
      const loader = new LazyImageLoader();
      loader.observe(imgRef.current);
      
      return () => {
        loader.disconnect();
      };
    }
  }, [priority, loading]);

  // Set initial src
  useEffect(() => {
    if (priority || loading === 'eager') {
      setCurrentSrc(getFallbackSrc());
    }
  }, [priority, loading, getFallbackSrc]);

  const handleLoad = useCallback(() => {
    setIsLoaded(true);
    onLoad?.();
  }, [onLoad]);

  const handleError = useCallback(() => {
    setIsError(true);
    onError?.();
  }, [onError]);

  const imageSources = generateImageSources();
  const fallbackSrc = getFallbackSrc();

  return (
    <div className={`optimized-image-container ${className}`}>
      {/* Placeholder */}
      {!isLoaded && !isError && (
        <div 
          className="image-placeholder"
          style={{
            width: width ? `${width}px` : '100%',
            height: height ? `${height}px` : 'auto',
            backgroundColor: '#f0f0f0',
            position: 'absolute',
            top: 0,
            left: 0,
            opacity: placeholder === 'blur' ? 1 : 0,
            transition: 'opacity 0.3s ease'
          }}
        >
          {placeholder === 'blur' && (
            <img
              src={generateBlurPlaceholder(src)}
              alt=""
              className="blur-placeholder"
              style={{
                width: '100%',
                height: '100%',
                objectFit: 'cover',
                filter: 'blur(20px)',
                transform: 'scale(1.1)'
              }}
            />
          )}
        </div>
      )}

      {/* Main image */}
      <picture className={`optimized-image ${isLoaded ? 'loaded' : ''} ${isError ? 'error' : ''}`}>
        {/* AVIF sources */}
        {imageSources.has('image/avif') && (
          <source
            srcSet={imageSources.get('image/avif')}
            sizes={imageSizes.join(', ')}
            type="image/avif"
          />
        )}
        
        {/* WebP sources */}
        {imageSources.has('image/webp') && (
          <source
            srcSet={imageSources.get('image/webp')}
            sizes={imageSizes.join(', ')}
            type="image/webp"
          />
        )}
        
        {/* Fallback */}
        <img
          ref={imgRef}
          src={currentSrc || (priority || loading === 'eager' ? fallbackSrc : '')}
          alt={alt}
          width={width}
          height={height}
          className="optimized-image-img"
          onLoad={handleLoad}
          onError={handleError}
          loading={priority ? 'eager' : loading}
          decoding="async"
          style={{
            opacity: isLoaded ? 1 : 0,
            transition: 'opacity 0.3s ease'
          }}
        />
      </picture>

      {/* Error state */}
      {isError && (
        <div className="image-error">
          <span>Failed to load image</span>
        </div>
      )}
    </div>
  );
};

// Specialized components for common use cases
interface PropertyImageProps extends Omit<OptimizedImageProps, 'src'> {
  propertyId: string;
  imageIndex?: number;
  type?: 'hero' | 'gallery' | 'thumbnail';
}

export const PropertyImage: React.FC<PropertyImageProps> = ({
  propertyId,
  imageIndex = 0,
  type = 'gallery',
  ...props
}) => {
  const getImageUrl = () => {
    const baseUrl = `/images/properties/${propertyId}`;
    switch (type) {
      case 'hero':
        return `${baseUrl}/hero`;
      case 'gallery':
        return `${baseUrl}/gallery/${imageIndex}`;
      case 'thumbnail':
        return `${baseUrl}/thumbnails/${imageIndex}`;
      default:
        return `${baseUrl}/gallery/${imageIndex}`;
    }
  };

  return (
    <OptimizedImage
      src={getImageUrl()}
      {...props}
      className={`property-image property-image--${type} ${props.className || ''}`}
    />
  );
};

export default OptimizedImage;

[FILE_END: components\OptimizedImage.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\PropertyCard.tsx
METADATA: Size=7175 bytes | Last_Modified=2026-01-04 13:43:10.446834
================================================================================
import React, { useState, useRef, useEffect, useCallback, memo } from 'react';
import { Property } from '../types';
import { Bed, Bath, Move, MapPin, Image as ImageIcon } from 'lucide-react';
import { Link } from 'react-router-dom';
import { useInView } from 'react-intersection-observer';

interface PropertyCardProps {
  property: Property;
  priority?: boolean; // For above-the-fold content
}

// Lazy loaded image component with intersection observer
const LazyImage = memo(({ 
  src, 
  alt, 
  className, 
  priority = false 
}: { 
  src: string; 
  alt: string; 
  className: string;
  priority?: boolean;
}) => {
  const [imageLoaded, setImageLoaded] = useState(false);
  const [imageError, setImageError] = useState(false);
  const imgRef = useRef<HTMLImageElement>(null);
  
  const { ref: inViewRef, inView } = useInView({
    triggerOnce: true,
    skip: priority, // Don't skip if it's priority content
    threshold: 0.1
  });

  // Combine refs
  const setRefs = useCallback((node: HTMLImageElement | null) => {
    imgRef.current = node;
    inViewRef(node);
  }, [inViewRef]);

  useEffect(() => {
    if (priority || inView) {
      const img = imgRef.current;
      if (img && !img.src) {
        img.src = src;
      }
    }
  }, [inView, src, priority]);

  const handleLoad = useCallback(() => {
    setImageLoaded(true);
  }, []);

  const handleError = useCallback(() => {
    setImageError(true);
    setImageLoaded(true);
  }, []);

  if (imageError) {
    return (
      <div className={`${className} bg-gray-200 flex items-center justify-center`}>
        <div className="text-center text-gray-500">
          <ImageIcon className="w-12 h-12 mx-auto mb-2" />
          <p className="text-sm">Image not available</p>
        </div>
      </div>
    );
  }

  return (
    <div className={`${className} relative overflow-hidden`}>
      {/* Loading placeholder */}
      {!imageLoaded && (
        <div className="absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center">
          <div className="text-gray-400">
            <ImageIcon className="w-8 h-8" />
          </div>
        </div>
      )}
      
      <img
        ref={setRefs}
        alt={alt}
        className={`w-full h-full object-cover transition-opacity duration-300 ${
          imageLoaded ? 'opacity-100' : 'opacity-0'
        }`}
        onLoad={handleLoad}
        onError={handleError}
        loading={priority ? 'eager' : 'lazy'}
        decoding="async"
        // Add responsive image hints
        sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
      />
    </div>
  );
});

LazyImage.displayName = 'LazyImage';

// Optimized PropertyCard with memoization
const PropertyCard = memo<PropertyCardProps>(({ property, priority = false }) => {
  const [isHovered, setIsHovered] = useState(false);

  // Preload critical images for better UX
  useEffect(() => {
    if (priority) {
      const link = document.createElement('link');
      link.rel = 'preload';
      link.as = 'image';
      link.href = property.imageUrl;
      document.head.appendChild(link);
      
      return () => {
        document.head.removeChild(link);
      };
    }
  }, [property.imageUrl, priority]);

  // Optimize badge rendering
  const renderBadges = useCallback(() => {
    if (!property.badges || property.badges.length === 0) return null;
    
    return (
      <div className="absolute top-4 left-4 flex flex-wrap gap-2 z-10">
        {property.badges.map((badge, index) => (
          <span 
            key={`${badge}-${index}`} 
            className="bg-p4c-navy text-white text-xs font-bold px-2 py-1 rounded-md uppercase tracking-wide shadow-sm"
          >
            {badge}
          </span>
        ))}
      </div>
    );
  }, [property.badges]);

  // Optimize price display
  const formatPrice = useCallback((price: number) => {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(price);
  }, []);

  return (
    <div 
      className="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 ring-1 ring-gray-900/5 flex flex-col h-full group transform hover:-translate-y-1"
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
    >
      {/* Image Section */}
      <div className="relative h-64 overflow-hidden">
        <LazyImage
          src={property.imageUrl}
          alt={property.title}
          className="w-full h-full transform transition-transform duration-700 group-hover:scale-105"
          priority={priority}
        />
        
        {renderBadges()}
        
        <div className="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent p-4">
          <div className="text-white font-bold text-lg">
            {formatPrice(property.price)} <span className="text-sm font-normal opacity-90">/ month</span>
          </div>
        </div>
      </div>
      
      {/* Content Section */}
      <div className="p-6 flex-1 flex flex-col">
        <h3 className="text-xl font-serif font-bold text-p4c-navy mb-1 line-clamp-2">
          {property.title}
        </h3>
        
        <p className="text-gray-500 text-sm flex items-center mb-4">
          <MapPin className="w-3 h-3 mr-1 text-p4c-gold flex-shrink-0" />
          <span className="truncate">{property.address}</span>
        </p>
        
        <p className="text-gray-600 text-sm mb-6 line-clamp-3 leading-relaxed flex-grow">
          {property.description}
        </p>

        {/* Property Stats */}
        <div className="mt-auto pt-4 border-t border-gray-100 grid grid-cols-3 gap-2 text-center">
          <div className="flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg">
            <Bed className="w-4 h-4 text-p4c-slate mb-1" />
            <span className="text-xs font-semibold text-p4c-navy">{property.beds} Bed</span>
          </div>
          <div className="flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg">
            <Bath className="w-4 h-4 text-p4c-slate mb-1" />
            <span className="text-xs font-semibold text-p4c-navy">{property.baths} Bath</span>
          </div>
          <div className="flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg">
            <Move className="w-4 h-4 text-p4c-slate mb-1" />
            <span className="text-xs font-semibold text-p4c-navy">
              {property.sqft.toLocaleString()} sqft
            </span>
          </div>
        </div>
        
        {/* Action Button */}
        <Link 
          to={`/properties/${property.id}`}
          className="block w-full text-center mt-6 border-2 border-p4c-navy text-p4c-navy hover:bg-p4c-navy hover:text-white font-bold py-2.5 rounded-lg transition-colors duration-200 text-sm uppercase tracking-wide"
          aria-label={`View details for ${property.title}`}
        >
          View Details
        </Link>
      </div>
    </div>
  );
});

PropertyCard.displayName = 'PropertyCard';

export default PropertyCard;


[FILE_END: components\PropertyCard.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\PropertyDetailsSkeleton.tsx
METADATA: Size=2645 bytes | Last_Modified=2026-01-04 12:32:59.637999
================================================================================

import React from 'react';
import Skeleton from './Skeleton';

const PropertyDetailsSkeleton: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen pb-20 animate-fade-in">
      {/* Hero Skeleton */}
      <div className="relative h-[50vh] w-full bg-gray-200">
        <Skeleton className="w-full h-full" />
        <div className="absolute bottom-0 left-0 w-full p-8">
             <Skeleton className="h-10 w-2/3 mb-4 bg-gray-300" />
             <Skeleton className="h-6 w-1/3 bg-gray-300" />
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-10 relative z-10">
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            {/* Main Info */}
            <div className="lg:col-span-2 space-y-8">
                {/* Stats Bar */}
                <div className="bg-white rounded-2xl shadow-lg p-6 flex justify-between items-center h-24 border border-gray-100 ring-1 ring-gray-900/5">
                   <Skeleton className="h-12 w-20" />
                   <div className="w-px h-12 bg-gray-100"></div>
                   <Skeleton className="h-12 w-20" />
                   <div className="w-px h-12 bg-gray-100"></div>
                   <Skeleton className="h-12 w-20" />
                </div>

                <div className="bg-white rounded-2xl shadow-sm p-8 space-y-4 border border-gray-100 ring-1 ring-gray-900/5">
                    <Skeleton className="h-8 w-1/3 mb-6" />
                    <Skeleton className="h-4 w-full" />
                    <Skeleton className="h-4 w-full" />
                    <Skeleton className="h-4 w-3/4" />
                    
                    <div className="pt-8 grid grid-cols-2 gap-4">
                        <Skeleton className="h-6 w-full" />
                        <Skeleton className="h-6 w-full" />
                        <Skeleton className="h-6 w-full" />
                        <Skeleton className="h-6 w-full" />
                    </div>
                </div>
            </div>

            {/* Sidebar CTA */}
            <div className="lg:col-span-1">
                <div className="bg-white rounded-2xl shadow-lg p-6 space-y-4 border border-gray-100 ring-1 ring-gray-900/5">
                    <Skeleton className="h-8 w-1/2 mx-auto" />
                    <Skeleton className="h-4 w-3/4 mx-auto mb-6" />
                    <Skeleton className="h-14 w-full rounded-md" />
                    <Skeleton className="h-14 w-full rounded-md" />
                </div>
            </div>

        </div>
      </div>
    </div>
  );
};

export default PropertyDetailsSkeleton;


[FILE_END: components\PropertyDetailsSkeleton.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\ProtectedRoute.tsx
METADATA: Size=1065 bytes | Last_Modified=2026-01-04 12:32:59.644993
================================================================================

import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { Loader2 } from 'lucide-react';

interface ProtectedRouteProps {
  children: React.ReactNode;
  requiredRole?: 'tenant' | 'admin';
}

const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, requiredRole }) => {
  const { user, isAuthenticated, isLoading } = useAuth();
  const location = useLocation();

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <Loader2 className="w-8 h-8 text-p4c-gold animate-spin" />
      </div>
    );
  }

  if (!isAuthenticated) {
    // Redirect them to the login page, but save the current location they were trying to go to
    return <Navigate to="/portal" state={{ from: location }} replace />;
  }

  if (requiredRole && user?.role !== requiredRole) {
    // User is logged in but doesn't have permission
    return <Navigate to="/" replace />;
  }

  return <>{children}</>;
};

export default ProtectedRoute;


[FILE_END: components\ProtectedRoute.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\ScrollToTop.tsx
METADATA: Size=246 bytes | Last_Modified=2026-01-04 12:32:59.612370
================================================================================
import { useEffect } from 'react';
import { useLocation } from 'react-router-dom';

export default function ScrollToTop() {
  const { pathname } = useLocation();

  useEffect(() => {
    window.scrollTo(0, 0);
  }, [pathname]);

  return null;
}


[FILE_END: components\ScrollToTop.tsx]
################################################################################

================================================================================
FILE_BEGIN: components\Skeleton.tsx
METADATA: Size=269 bytes | Last_Modified=2026-01-04 12:32:59.633029
================================================================================

import React from 'react';

interface SkeletonProps {
  className?: string;
}

const Skeleton: React.FC<SkeletonProps> = ({ className = "" }) => {
  return (
    <div className={`animate-pulse bg-gray-200 rounded-lg ${className}`} />
  );
};

export default Skeleton;


[FILE_END: components\Skeleton.tsx]
################################################################################

================================================================================
FILE_BEGIN: context\AuthContext.tsx
METADATA: Size=9308 bytes | Last_Modified=2026-01-04 13:31:05.042464
================================================================================
import React, { createContext, useContext, useState, ReactNode, useEffect, useCallback } from 'react';
import { useToast } from './ToastContext';

type UserRole = 'guest' | 'tenant' | 'admin';

interface User {
  id: string;
  name: string;
  email: string;
  role: UserRole;
  lastLogin?: string;
  permissions: string[];
}

interface AuthContextType {
  user: User | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  login: (email: string, role: UserRole) => Promise<void>;
  logout: () => void;
  refreshToken: () => Promise<void>;
  hasPermission: (permission: string) => boolean;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

// Enhanced validation function - CRITICAL SECURITY FIX
const validateStoredUser = (storedUser: string): User | null => {
  try {
    const user = JSON.parse(storedUser);
    
    // Validate required fields
    if (!user.id || !user.email || !user.role) {
      console.warn('Invalid user data: missing required fields');
      return null;
    }
    
    // Validate email format
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(user.email)) {
      console.warn('Invalid user data: invalid email format');
      return null;
    }
    
    // Validate role
    if (!['guest', 'tenant', 'admin'].includes(user.role)) {
      console.warn('Invalid user data: invalid role');
      return null;
    }
    
    // Validate data types
    if (typeof user.id !== 'string' || typeof user.email !== 'string' || typeof user.role !== 'string') {
      console.warn('Invalid user data: incorrect data types');
      return null;
    }
    
    return user;
  } catch (error) {
    console.warn('Failed to parse stored user data:', error);
    return null;
  }
};

// Secure session validation with backend
const validateSessionWithBackend = async (userId: string, sessionToken: string): Promise<boolean> => {
  try {
    const response = await fetch('/api/auth/validate-session', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${sessionToken}`,
        'X-Requested-With': 'XMLHttpRequest'
      },
      body: JSON.stringify({ userId })
    });

    return response.ok;
  } catch (error) {
    console.error('Session validation failed:', error);
    return false;
  }
};

// Generate secure user ID (replacing weak Math.random)
const generateSecureUserId = (): string => {
  // Use crypto API for better randomness
  if (typeof window !== 'undefined' && window.crypto) {
    const array = new Uint8Array(16);
    window.crypto.getRandomValues(array);
    return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
  }
  // Fallback for older browsers
  return Math.random().toString(36).substring(2) + Date.now().toString(36);
};

export const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const { addToast } = useToast();

  // Secure session validation - CRITICAL SECURITY ENHANCEMENT
  useEffect(() => {
    const validateSession = async () => {
      try {
        const storedUser = localStorage.getItem('p4c_user');
        const sessionToken = localStorage.getItem('p4c_session_token');
        
        if (storedUser && sessionToken) {
          const validatedUser = validateStoredUser(storedUser);
          
          if (validatedUser) {
            // Verify session with backend
            const isValidSession = await validateSessionWithBackend(validatedUser.id, sessionToken);
            
            if (isValidSession) {
              console.log('Session validated successfully');
              setUser(validatedUser);
            } else {
              console.warn('Invalid session detected, clearing storage');
              // Clear potentially compromised session
              localStorage.removeItem('p4c_user');
              localStorage.removeItem('p4c_session_token');
            }
          } else {
            console.warn('Invalid user data detected, clearing storage');
            // Clear corrupted data
            localStorage.removeItem('p4c_user');
            localStorage.removeItem('p4c_session_token');
          }
        }
      } catch (error) {
        console.error('Session validation error:', error);
        // Clear potentially corrupted data
        localStorage.removeItem('p4c_user');
        localStorage.removeItem('p4c_session_token');
      } finally {
        setIsLoading(false);
      }
    };

    validateSession();
  }, []);

  // Secure login function
  const login = async (email: string, role: UserRole) => {
    setIsLoading(true);
    
    try {
      // Input validation
      if (!email || !email.includes('@')) {
        throw new Error('Valid email is required');
      }
      
      if (!role || !['guest', 'tenant', 'admin'].includes(role)) {
        throw new Error('Valid role is required');
      }

      console.log('Initiating secure login process...');
      
      const response = await fetch('/api/auth/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-Requested-With': 'XMLHttpRequest'
        },
        body: JSON.stringify({ 
          email: email.trim().toLowerCase(),
          role 
        })
      });

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({
          error: 'Authentication failed'
        }));
        throw new Error(errorData.error || 'Login failed');
      }

      const { user: userData, token } = await response.json();
      
      // Sanitize and validate user data
      const cleanUser: User = {
        id: userData.id || generateSecureUserId(),
        name: userData.name || email.split('@')[0],
        email: userData.email || email,
        role: userData.role || role,
        lastLogin: new Date().toISOString(),
        permissions: userData.permissions || getDefaultPermissions(role)
      };

      // Store securely
      localStorage.setItem('p4c_user', JSON.stringify(cleanUser));
      localStorage.setItem('p4c_session_token', token);
      
      setUser(cleanUser);
      
      console.log('Login successful for user:', cleanUser.email);
      addToast(`Welcome back, ${cleanUser.name}`, 'success');
      
    } catch (error) {
      console.error('Login error:', error);
      const errorMessage = error instanceof Error ? error.message : 'Login failed. Please try again.';
      addToast(errorMessage, 'error');
      throw error;
    } finally {
      setIsLoading(false);
    }
  };

  // Secure logout function
  const logout = useCallback(() => {
    console.log('Initiating secure logout...');
    
    // Clear state immediately
    setUser(null);
    
    // Clear storage
    localStorage.removeItem('p4c_user');
    localStorage.removeItem('p4c_session_token');
    
    // Notify backend (non-blocking)
    fetch('/api/auth/logout', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('p4c_session_token')}`,
        'X-Requested-With': 'XMLHttpRequest'
      }
    }).catch(() => {
      // Ignore network errors on logout
    });
    
    addToast('You have been logged out.', 'info');
  }, [addToast]);

  // Token refresh function
  const refreshToken = async () => {
    try {
      const currentToken = localStorage.getItem('p4c_session_token');
      if (!currentToken) {
        throw new Error('No session token available');
      }

      const response = await fetch('/api/auth/refresh', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${currentToken}`,
          'X-Requested-With': 'XMLHttpRequest'
        }
      });

      if (response.ok) {
        const { token } = await response.json();
        localStorage.setItem('p4c_session_token', token);
        console.log('Token refreshed successfully');
      } else {
        console.warn('Token refresh failed, logging out');
        logout();
      }
    } catch (error) {
      console.error('Token refresh error:', error);
      logout();
    }
  };

  // Permission checking function
  const hasPermission = useCallback((permission: string): boolean => {
    if (!user) return false;
    
    // Admins have all permissions
    if (user.role === 'admin') return true;
    
    // Check specific permissions
    return user.permissions.includes(permission);
  }, [user]);

  return (
    <AuthContext.Provider value={{ 
      user, 
      isAuthenticated: !!user, 
      isLoading, 
      login, 
      logout, 
      refreshToken,
      hasPermission 
    }}>
      {children}
    </AuthContext.Provider>
  );
};

// Helper function to get default permissions by role
const getDefaultPermissions = (role: UserRole): string[] => {
  switch (role) {
    case 'admin':
      return ['read', 'write', 'delete', 'manage_users', 'manage_properties', 'view_analytics'];
    case 'tenant':
      return ['read', 'write'];
    case 'guest':
      return ['read'];
    default:
      return ['read'];
  }
};


[FILE_END: context\AuthContext.tsx]
################################################################################

================================================================================
FILE_BEGIN: context\DarkModeContext.tsx
METADATA: Size=3032 bytes | Last_Modified=2026-01-04 14:39:24.763680
================================================================================
import React, { createContext, useContext, useEffect, useState, ReactNode } from 'react';

interface DarkModeContextType {
  isDarkMode: boolean;
  toggleDarkMode: () => void;
  setDarkMode: (isDark: boolean) => void;
  systemPreference: 'light' | 'dark' | 'no-preference';
}

const DarkModeContext = createContext<DarkModeContextType | undefined>(undefined);

export const useDarkMode = () => {
  const context = useContext(DarkModeContext);
  if (!context) {
    throw new Error('useDarkMode must be used within a DarkModeProvider');
  }
  return context;
};

interface DarkModeProviderProps {
  children: ReactNode;
}

export const DarkModeProvider: React.FC<DarkModeProviderProps> = ({ children }) => {
  const [isDarkMode, setIsDarkMode] = useState<boolean>(() => {
    // Check localStorage first
    const saved = localStorage.getItem('p4c-dark-mode');
    if (saved !== null) {
      return JSON.parse(saved);
    }
    
    // Check system preference
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    return prefersDark;
  });

  const [systemPreference, setSystemPreference] = useState<'light' | 'dark' | 'no-preference'>('no-preference');

  // Detect system preference changes
  useEffect(() => {
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
    
    const updateSystemPreference = (e: MediaQueryListEvent) => {
      setSystemPreference(e.matches ? 'dark' : 'light');
      // Only auto-switch if user hasn't explicitly set a preference
      const hasUserPreference = localStorage.getItem('p4c-dark-mode') !== null;
      if (!hasUserPreference) {
        setIsDarkMode(e.matches);
      }
    };

    // Initial check
    setSystemPreference(mediaQuery.matches ? 'dark' : 'light');

    // Listen for changes
    mediaQuery.addEventListener('change', updateSystemPreference);

    return () => {
      mediaQuery.removeEventListener('change', updateSystemPreference);
    };
  }, []);

  // Apply dark mode to document
  useEffect(() => {
    const root = document.documentElement;
    
    if (isDarkMode) {
      root.classList.add('dark');
      document.body.classList.add('bg-gray-900', 'text-white');
      document.body.classList.remove('bg-white', 'text-gray-900');
    } else {
      root.classList.remove('dark');
      document.body.classList.add('bg-white', 'text-gray-900');
      document.body.classList.remove('bg-gray-900', 'text-white');
    }

    // Store user preference
    localStorage.setItem('p4c-dark-mode', JSON.stringify(isDarkMode));
  }, [isDarkMode]);

  const toggleDarkMode = () => {
    setIsDarkMode(prev => !prev);
  };

  const setDarkMode = (isDark: boolean) => {
    setIsDarkMode(isDark);
  };

  return (
    <DarkModeContext.Provider
      value={{
        isDarkMode,
        toggleDarkMode,
        setDarkMode,
        systemPreference
      }}
    >
      {children}
    </DarkModeContext.Provider>
  );
};

[FILE_END: context\DarkModeContext.tsx]
################################################################################

================================================================================
FILE_BEGIN: context\EnhancedAuthContext.tsx
METADATA: Size=22721 bytes | Last_Modified=2026-01-04 19:18:34.125601
================================================================================
import React, { createContext, useContext, useState, ReactNode, useEffect, useCallback, useRef } from 'react';
import { useToast } from './ToastContext';

type UserRole = 'guest' | 'tenant' | 'admin';

interface User {
  id: string;
  name: string;
  email: string;
  role: UserRole;
  lastLogin?: string;
  lastActivity?: string;
  sessionStart?: string;
  permissions: string[];
  mfaEnabled?: boolean;
  loginAttempts?: number;
  lockedUntil?: string;
}

interface AuthContextType {
  user: User | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  isLocked: boolean;
  loginAttempts: number;
  sessionTimeRemaining: number;
  login: (email: string, password?: string, mfaCode?: string) => Promise<void>;
  logout: () => void;
  refreshToken: () => Promise<void>;
  hasPermission: (permission: string) => boolean;
  enableMFA: () => Promise<string>;
  verifyMFA: (code: string) => Promise<boolean>;
  changePassword: (currentPassword: string, newPassword: string) => Promise<void>;
  resetPassword: (email: string) => Promise<void>;
  lockAccount: (reason?: string) => void;
  unlockAccount: () => void;
  clearSensitiveData: () => void;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

// Enhanced password policy validator
const validatePasswordPolicy = (password: string): { isValid: boolean; errors: string[] } => {
  const errors: string[] = [];
  
  if (password.length < 12) {
    errors.push('Password must be at least 12 characters long');
  }
  
  if (!/[A-Z]/.test(password)) {
    errors.push('Password must contain at least one uppercase letter');
  }
  
  if (!/[a-z]/.test(password)) {
    errors.push('Password must contain at least one lowercase letter');
  }
  
  if (!/[0-9]/.test(password)) {
    errors.push('Password must contain at least one number');
  }
  
  if (!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) {
    errors.push('Password must contain at least one special character');
  }
  
  // Check for common passwords
  const commonPasswords = ['password', '123456', 'password123', 'admin', 'qwerty'];
  if (commonPasswords.some(common => password.toLowerCase().includes(common))) {
    errors.push('Password contains common patterns');
  }
  
  // Check for sequential characters
  if (/(012|123|234|345|456|567|678|789|890)/.test(password)) {
    errors.push('Password contains sequential characters');
  }
  
  // Check for repeated characters
  if (/(.)\1{2,}/.test(password)) {
    errors.push('Password contains repeated characters');
  }
  
  return {
    isValid: errors.length === 0,
    errors
  };
};

// Enhanced session manager
class SessionManager {
  private static readonly SESSION_TIMEOUT = 30 * 60 * 1000; // 30 minutes
  private static readonly WARNING_TIME = 5 * 60 * 1000; // 5 minutes before timeout
  private static readonly MAX_LOGIN_ATTEMPTS = 5;
  private static readonly LOCKOUT_DURATION = 15 * 60 * 1000; // 15 minutes

  static generateSecureId(): string {
    if (typeof window !== 'undefined' && window.crypto) {
      const array = new Uint8Array(16);
      window.crypto.getRandomValues(array);
      return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
    }
    return Math.random().toString(36).substring(2) + Date.now().toString(36);
  }

  static generateSecureToken(): string {
    const array = new Uint8Array(32);
    if (typeof window !== 'undefined' && window.crypto) {
      window.crypto.getRandomValues(array);
      return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
    }
    return btoa(String.fromCharCode(...array));
  }

  static validateSession(user: User): boolean {
    if (!user.sessionStart || !user.lastActivity) return false;
    
    const sessionStart = new Date(user.sessionStart).getTime();
    const lastActivity = new Date(user.lastActivity).getTime();
    const now = Date.now();
    
    // Check if session has expired
    if (now - sessionStart > this.SESSION_TIMEOUT) return false;
    
    // Check if user has been inactive for too long
    if (now - lastActivity > this.SESSION_TIMEOUT / 2) return false;
    
    return true;
  }

  static getSessionTimeRemaining(user: User): number {
    if (!user.sessionStart) return 0;
    
    const sessionStart = new Date(user.sessionStart).getTime();
    const now = Date.now();
    const elapsed = now - sessionStart;
    const remaining = this.SESSION_TIMEOUT - elapsed;
    
    return Math.max(0, remaining);
  }

  static shouldShowWarning(user: User): boolean {
    const remaining = this.getSessionTimeRemaining(user);
    return remaining <= this.WARNING_TIME && remaining > 0;
  }

  static validateLoginAttempts(email: string): { allowed: boolean; remainingAttempts: number; lockoutRemaining?: number } {
    const attempts = parseInt(localStorage.getItem(`login_attempts_${email}`) || '0');
    const lastAttempt = parseInt(localStorage.getItem(`last_attempt_${email}`) || '0');
    const lockoutUntil = parseInt(localStorage.getItem(`lockout_${email}`) || '0');
    const now = Date.now();
    
    // Check if still locked out
    if (now < lockoutUntil) {
      return {
        allowed: false,
        remainingAttempts: 0,
        lockoutRemaining: lockoutUntil - now
      };
    }
    
    // Reset attempts if lockout period has expired
    if (now >= lockoutUntil) {
      localStorage.removeItem(`lockout_${email}`);
      localStorage.removeItem(`login_attempts_${email}`);
      localStorage.removeItem(`last_attempt_${email}`);
    }
    
    const remainingAttempts = this.MAX_LOGIN_ATTEMPTS - attempts;
    return {
      allowed: remainingAttempts > 0,
      remainingAttempts
    };
  }

  static recordFailedAttempt(email: string): void {
    const attempts = parseInt(localStorage.getItem(`login_attempts_${email}`) || '0') + 1;
    const now = Date.now();
    
    localStorage.setItem(`login_attempts_${email}`, attempts.toString());
    localStorage.setItem(`last_attempt_${email}`, now.toString());
    
    // Lock account if max attempts reached
    if (attempts >= this.MAX_LOGIN_ATTEMPTS) {
      const lockoutUntil = now + this.LOCKOUT_DURATION;
      localStorage.setItem(`lockout_${email}`, lockoutUntil.toString());
    }
  }

  static clearFailedAttempts(email: string): void {
    localStorage.removeItem(`login_attempts_${email}`);
    localStorage.removeItem(`last_attempt_${email}`);
    localStorage.removeItem(`lockout_${email}`);
  }
}

// Enhanced user data validator
const validateUserData = (userData: any): User | null => {
  try {
    if (!userData.id || !userData.email || !userData.role) {
      return null;
    }
    
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(userData.email)) {
      return null;
    }
    
    if (!['guest', 'tenant', 'admin'].includes(userData.role)) {
      return null;
    }
    
    // Validate data types
    if (typeof userData.id !== 'string' || 
        typeof userData.email !== 'string' || 
        typeof userData.role !== 'string') {
      return null;
    }
    
    return {
      id: userData.id,
      name: userData.name || userData.email.split('@')[0],
      email: userData.email,
      role: userData.role,
      lastLogin: userData.lastLogin,
      lastActivity: userData.lastActivity,
      sessionStart: userData.sessionStart,
      permissions: userData.permissions || getDefaultPermissions(userData.role),
      mfaEnabled: userData.mfaEnabled || false,
      loginAttempts: userData.loginAttempts || 0,
      lockedUntil: userData.lockedUntil
    };
  } catch (error) {
    return null;
  }
};

// Enhanced backend session validation
const validateSessionWithBackend = async (userId: string, sessionToken: string): Promise<boolean> => {
  try {
    const response = await fetch('/api/auth/validate-session', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${sessionToken}`,
        'X-Requested-With': 'XMLHttpRequest',
        'X-Session-Validation': 'true'
      },
      body: JSON.stringify({ userId }),
      credentials: 'include'
    });

    return response.ok;
  } catch (error) {
    console.error('Session validation failed:', error);
    return false;
  }
};

export const EnhancedAuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [loginAttempts, setLoginAttempts] = useState(0);
  const [sessionTimeRemaining, setSessionTimeRemaining] = useState(0);
  const [isLocked, setIsLocked] = useState(false);
  const { addToast } = useToast();
  const sessionTimeoutRef = useRef<NodeJS.Timeout>();
  const warningTimeoutRef = useRef<NodeJS.Timeout>();

  // Session timeout handler
  const handleSessionTimeout = useCallback(() => {
    console.log('Session timeout reached, logging out user');
    logout();
    addToast('Your session has expired. Please log in again.', 'warning');
  }, [addToast]);

  // Session warning handler
  const handleSessionWarning = useCallback(() => {
    addToast('Your session will expire in 5 minutes. Please save your work.', 'warning');
  }, [addToast]);

  // Update session activity
  const updateSessionActivity = useCallback(() => {
    if (user) {
      const updatedUser = {
        ...user,
        lastActivity: new Date().toISOString()
      };
      setUser(updatedUser);
      localStorage.setItem('p4c_user', JSON.stringify(updatedUser));
      
      // Update session time remaining
      const remaining = SessionManager.getSessionTimeRemaining(updatedUser);
      setSessionTimeRemaining(remaining);
    }
  }, [user]);

  // Initialize session management
  useEffect(() => {
    if (user) {
      const remaining = SessionManager.getSessionTimeRemaining(user);
      setSessionTimeRemaining(remaining);
      
      // Set up session timeout
      if (sessionTimeoutRef.current) {
        clearTimeout(sessionTimeoutRef.current);
      }
      
      sessionTimeoutRef.current = setTimeout(handleSessionTimeout, remaining);
      
      // Set up session warning
      if (warningTimeoutRef.current) {
        clearTimeout(warningTimeoutRef.current);
      }
      
      if (SessionManager.shouldShowWarning(user)) {
        warningTimeoutRef.current = setTimeout(handleSessionWarning, remaining - (5 * 60 * 1000));
      }
      
      // Set up activity tracking
      const activityEvents = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];
      const throttledUpdateActivity = throttle(updateSessionActivity, 60000); // Update every minute
      
      activityEvents.forEach(event => {
        document.addEventListener(event, throttledUpdateActivity, true);
      });
      
      return () => {
        activityEvents.forEach(event => {
          document.removeEventListener(event, throttledUpdateActivity, true);
        });
        if (sessionTimeoutRef.current) {
          clearTimeout(sessionTimeoutRef.current);
        }
        if (warningTimeoutRef.current) {
          clearTimeout(warningTimeoutRef.current);
        }
      };
    }
  }, [user, handleSessionTimeout, handleSessionWarning, updateSessionActivity]);

  // Enhanced session validation on mount
  useEffect(() => {
    const validateSession = async () => {
      try {
        const storedUser = localStorage.getItem('p4c_user');
        const sessionToken = localStorage.getItem('p4c_session_token');
        
        if (storedUser && sessionToken) {
          const validatedUser = validateUserData(storedUser);
          
          if (validatedUser && SessionManager.validateSession(validatedUser)) {
            const isValidSession = await validateSessionWithBackend(validatedUser.id, sessionToken);
            
            if (isValidSession) {
              console.log('Session validated successfully');
              setUser(validatedUser);
            } else {
              console.warn('Invalid session detected, clearing storage');
              clearSensitiveData();
            }
          } else {
            console.warn('Invalid session data detected, clearing storage');
            clearSensitiveData();
          }
        }
      } catch (error) {
        console.error('Session validation error:', error);
        clearSensitiveData();
      } finally {
        setIsLoading(false);
      }
    };

    validateSession();
  }, []);

  // Enhanced login function
  const login = async (email: string, password?: string, mfaCode?: string) => {
    setIsLoading(true);
    
    try {
      // Input validation
      if (!email || !email.includes('@')) {
        throw new Error('Valid email is required');
      }
      
      // Check login attempts
      const attemptCheck = SessionManager.validateLoginAttempts(email);
      if (!attemptCheck.allowed) {
        if (attemptCheck.lockoutRemaining) {
          const minutes = Math.ceil(attemptCheck.lockoutRemaining / 60000);
          throw new Error(`Account temporarily locked. Try again in ${minutes} minutes.`);
        }
        throw new Error('Account temporarily locked. Please try again later.');
      }

      console.log('Initiating enhanced login process...');
      
      const response = await fetch('/api/auth/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-Requested-With': 'XMLHttpRequest',
          'X-Login-Attempt': (attemptCheck.remainingAttempts).toString()
        },
        body: JSON.stringify({ 
          email: email.trim().toLowerCase(),
          password: password || '',
          mfaCode: mfaCode || ''
        }),
        credentials: 'include'
      });

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({
          error: 'Authentication failed'
        }));
        
        // Record failed attempt
        SessionManager.recordFailedAttempt(email);
        setLoginAttempts(prev => prev + 1);
        
        throw new Error(errorData.error || 'Login failed');
      }

      const { user: userData, token } = await response.json();
      
      // Clear failed attempts on successful login
      SessionManager.clearFailedAttempts(email);
      setLoginAttempts(0);
      
      // Sanitize and validate user data
      const cleanUser: User = {
        id: userData.id || SessionManager.generateSecureId(),
        name: userData.name || email.split('@')[0],
        email: userData.email || email,
        role: userData.role || 'tenant',
        lastLogin: new Date().toISOString(),
        lastActivity: new Date().toISOString(),
        sessionStart: new Date().toISOString(),
        permissions: userData.permissions || getDefaultPermissions(userData.role || 'tenant'),
        mfaEnabled: userData.mfaEnabled || false,
        loginAttempts: 0
      };

      // Store securely
      localStorage.setItem('p4c_user', JSON.stringify(cleanUser));
      localStorage.setItem('p4c_session_token', token);
      
      setUser(cleanUser);
      
      console.log('Enhanced login successful for user:', cleanUser.email);
      addToast(`Welcome back, ${cleanUser.name}`, 'success');
      
    } catch (error) {
      console.error('Login error:', error);
      const errorMessage = error instanceof Error ? error.message : 'Login failed. Please try again.';
      addToast(errorMessage, 'error');
      throw error;
    } finally {
      setIsLoading(false);
    }
  };

  // Enhanced logout function
  const logout = useCallback(() => {
    console.log('Initiating enhanced secure logout...');
    
    // Clear state immediately
    setUser(null);
    setLoginAttempts(0);
    setIsLocked(false);
    
    // Clear storage
    clearSensitiveData();
    
    // Notify backend (non-blocking)
    fetch('/api/auth/logout', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('p4c_session_token')}`,
        'X-Requested-With': 'XMLHttpRequest'
      },
      credentials: 'include'
    }).catch(() => {
      // Ignore network errors on logout
    });
    
    addToast('You have been logged out.', 'info');
  }, [addToast]);

  // Clear sensitive data
  const clearSensitiveData = useCallback(() => {
    localStorage.removeItem('p4c_user');
    localStorage.removeItem('p4c_session_token');
    localStorage.removeItem('p4c_mfa_secret');
    localStorage.removeItem('p4c_temp_token');
  }, []);

  // Token refresh function
  const refreshToken = async () => {
    try {
      const currentToken = localStorage.getItem('p4c_session_token');
      if (!currentToken) {
        throw new Error('No session token available');
      }

      const response = await fetch('/api/auth/refresh', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${currentToken}`,
          'X-Requested-With': 'XMLHttpRequest'
        },
        credentials: 'include'
      });

      if (response.ok) {
        const { token } = await response.json();
        localStorage.setItem('p4c_session_token', token);
        console.log('Token refreshed successfully');
      } else {
        console.warn('Token refresh failed, logging out');
        logout();
      }
    } catch (error) {
      console.error('Token refresh error:', error);
      logout();
    }
  };

  // MFA functions
  const enableMFA = async (): Promise<string> => {
    try {
      const response = await fetch('/api/auth/enable-mfa', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${localStorage.getItem('p4c_session_token')}`,
          'Content-Type': 'application/json'
        }
      });

      if (!response.ok) {
        throw new Error('Failed to enable MFA');
      }

      const { secret, qrCode } = await response.json();
      localStorage.setItem('p4c_mfa_secret', secret);
      
      return qrCode;
    } catch (error) {
      console.error('MFA enable error:', error);
      throw error;
    }
  };

  const verifyMFA = async (code: string): Promise<boolean> => {
    try {
      const secret = localStorage.getItem('p4c_mfa_secret');
      if (!secret) {
        throw new Error('MFA secret not found');
      }

      const response = await fetch('/api/auth/verify-mfa', {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${localStorage.getItem('p4c_session_token')}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ code, secret })
      });

      if (response.ok) {
        localStorage.removeItem('p4c_mfa_secret');
        return true;
      }
      
      return false;
    } catch (error) {
      console.error('MFA verification error:', error);
      return false;
    }
  };

  // Password management
  const changePassword = async (currentPassword: string, newPassword: string) => {
    const validation = validatePasswordPolicy(newPassword);
    if (!validation.isValid) {
      throw new Error(`Password policy violations: ${validation.errors.join(', ')}`);
    }

    const response = await fetch('/api/auth/change-password', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('p4c_session_token')}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ currentPassword, newPassword })
    });

    if (!response.ok) {
      const errorData = await response.json().catch(() => ({
        error: 'Password change failed'
      }));
      throw new Error(errorData.error || 'Password change failed');
    }

    addToast('Password changed successfully', 'success');
  };

  const resetPassword = async (email: string) => {
    const response = await fetch('/api/auth/reset-password', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ email })
    });

    if (!response.ok) {
      throw new Error('Password reset failed');
    }

    addToast('Password reset instructions sent to your email', 'success');
  };

  // Account lock functions
  const lockAccount = (reason?: string) => {
    setIsLocked(true);
    if (reason) {
      console.warn('Account locked:', reason);
    }
  };

  const unlockAccount = () => {
    setIsLocked(false);
    setLoginAttempts(0);
  };

  // Permission checking function
  const hasPermission = useCallback((permission: string): boolean => {
    if (!user || isLocked) return false;
    
    // Admins have all permissions
    if (user.role === 'admin') return true;
    
    // Check specific permissions
    return user.permissions.includes(permission);
  }, [user, isLocked]);

  return (
    <AuthContext.Provider value={{ 
      user, 
      isAuthenticated: !!user && !isLocked, 
      isLoading, 
      isLocked,
      loginAttempts,
      sessionTimeRemaining,
      login, 
      logout, 
      refreshToken,
      hasPermission,
      enableMFA,
      verifyMFA,
      changePassword,
      resetPassword,
      lockAccount,
      unlockAccount,
      clearSensitiveData
    }}>
      {children}
    </AuthContext.Provider>
  );
};

// Helper function to get default permissions by role
const getDefaultPermissions = (role: UserRole): string[] => {
  switch (role) {
    case 'admin':
      return ['read', 'write', 'delete', 'manage_users', 'manage_properties', 'view_analytics', 'system_admin'];
    case 'tenant':
      return ['read', 'write', 'view_own_data'];
    case 'guest':
      return ['read'];
    default:
      return ['read'];
  }
};

// Utility function for throttling
const throttle = (func: Function, limit: number) => {
  let inThrottle: boolean;
  return function(this: any) {
    const args = arguments;
    const context = this;
    if (!inThrottle) {
      func.apply(context, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
};

[FILE_END: context\EnhancedAuthContext.tsx]
################################################################################

================================================================================
FILE_BEGIN: context\ToastContext.tsx
METADATA: Size=2354 bytes | Last_Modified=2026-01-04 12:33:00.111823
================================================================================
import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { X, CheckCircle, AlertCircle, Info } from 'lucide-react';

type ToastType = 'success' | 'error' | 'info';

interface Toast {
  id: number;
  message: string;
  type: ToastType;
}

interface ToastContextType {
  addToast: (message: string, type: ToastType) => void;
  removeToast: (id: number) => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    throw new Error('useToast must be used within a ToastProvider');
  }
  return context;
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<Toast[]>([]);

  const addToast = useCallback((message: string, type: ToastType) => {
    const id = Date.now();
    setToasts((prev) => [...prev, { id, message, type }]);
    // Auto remove after 5 seconds
    setTimeout(() => {
      setToasts((prev) => prev.filter((t) => t.id !== id));
    }, 5000);
  }, []);

  const removeToast = useCallback((id: number) => {
    setToasts((prev) => prev.filter((t) => t.id !== id));
  }, []);

  return (
    <ToastContext.Provider value={{ addToast, removeToast }}>
      {children}
      <div className="fixed bottom-4 right-4 z-50 flex flex-col gap-2">
        {toasts.map((toast) => (
          <div
            key={toast.id}
            className={`min-w-[300px] max-w-sm p-4 rounded-lg shadow-xl flex items-start gap-3 animate-slide-in text-white ${
              toast.type === 'success' ? 'bg-green-600' :
              toast.type === 'error' ? 'bg-red-600' :
              'bg-blue-600'
            }`}
          >
            <div className="mt-0.5">
                {toast.type === 'success' && <CheckCircle className="w-5 h-5" />}
                {toast.type === 'error' && <AlertCircle className="w-5 h-5" />}
                {toast.type === 'info' && <Info className="w-5 h-5" />}
            </div>
            <p className="flex-1 text-sm font-medium">{toast.message}</p>
            <button onClick={() => removeToast(toast.id)} className="hover:opacity-80">
              <X className="w-4 h-4" />
            </button>
          </div>
        ))}
      </div>
    </ToastContext.Provider>
  );
};

[FILE_END: context\ToastContext.tsx]
################################################################################

================================================================================
FILE_BEGIN: index.tsx
METADATA: Size=457 bytes | Last_Modified=2026-01-04 12:33:00.233940
================================================================================

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { HashRouter } from 'react-router-dom';
import './index.css';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <HashRouter>
      <App />
    </HashRouter>
  </React.StrictMode>
);


[FILE_END: index.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\About.tsx
METADATA: Size=12863 bytes | Last_Modified=2026-01-04 12:32:59.803194
================================================================================

import React from 'react';
import { Award, ShieldCheck, Heart, TrendingUp, Users, CheckCircle2 } from 'lucide-react';
import { IMAGES } from '../constants/images';

const About: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen">
      {/* Hero Banner */}
      <div className="relative h-[500px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.BANNERS.ABOUT}
            alt="Architectural plans and safety hat" 
            className="w-full h-full object-cover"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/90 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4 max-w-4xl mx-auto animate-fade-in-up">
          <div className="inline-flex items-center gap-2 bg-p4c-gold/20 backdrop-blur-sm border border-p4c-gold/30 rounded-full px-4 py-1 mb-6">
            <span className="text-p4c-gold text-xs font-bold uppercase tracking-widest">Est. 2024 • East Texas</span>
          </div>
          <h1 className="text-4xl md:text-6xl font-serif font-bold text-white mb-6 leading-tight">
            Restoring Homes. <br />
            <span className="text-p4c-gold">Restoring Dignity.</span>
          </h1>
          <p className="text-xl text-gray-200 font-light max-w-2xl mx-auto">
            We are a veteran-owned company on a mission to redefine affordable housing standards through quality craftsmanship and compassionate management.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
        
        {/* Our Mission */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center mb-32">
            <div>
                <h2 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-6">Our Mission</h2>
                <div className="w-20 h-1 bg-p4c-gold mb-8"></div>
                <p className="text-gray-700 leading-relaxed mb-6 text-lg">
                    Properties 4 Creations (P4C) was founded with a simple but radical idea: <strong>Affordable housing shouldn't mean lower standards.</strong>
                </p>
                <p className="text-gray-700 leading-relaxed mb-6">
                    As veterans, we understand the importance of a safe, stable base. When we looked at the affordable housing market in East Texas, we saw distressed properties and neglected neighborhoods. Where others saw risk, we saw potential for revitalization.
                </p>
                <p className="text-gray-700 leading-relaxed">
                    Today, we buy distressed properties, renovate them to "homeowner standards," and rent them affordably to the people who need them most—families utilizing Section 8 vouchers and veterans in the HUD-VASH program.
                </p>
            </div>
            <div className="relative group">
                <div className="absolute -top-6 -left-6 w-32 h-32 bg-p4c-gold/20 rounded-tl-3xl -z-10 transition-transform group-hover:translate-x-2 group-hover:translate-y-2"></div>
                <img 
                    src={IMAGES.TEAM.OWNER}
                    alt="P4C Team Owner" 
                    loading="lazy"
                    className="rounded-2xl shadow-2xl w-full object-cover h-[500px]" 
                />
                <div className="absolute -bottom-6 -right-6 w-32 h-32 bg-p4c-navy/10 rounded-br-3xl -z-10 transition-transform group-hover:-translate-x-2 group-hover:-translate-y-2"></div>
                
                 {/* Stat Card Overlay */}
                 <div className="absolute bottom-8 left-8 bg-white p-6 rounded-2xl shadow-xl max-w-xs hidden md:block border-l-4 border-p4c-gold ring-1 ring-gray-900/5">
                    <p className="text-p4c-navy font-bold text-lg italic">"We don't build houses. We build foundations for future success."</p>
                 </div>
            </div>
        </div>

        {/* The P4C Standard Section */}
        <div className="mb-32">
            <div className="text-center mb-16">
                <h2 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-4">The P4C Standard</h2>
                <p className="text-gray-600 max-w-2xl mx-auto text-lg">We invest upfront in premium materials to ensure our tenants live in dignity and comfort.</p>
            </div>

            <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 ring-1 ring-gray-900/5">
                <div className="grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-gray-100">
                    
                    {/* Material Quality */}
                    <div className="p-10 hover:bg-gray-50 transition-colors duration-300">
                        <div className="bg-p4c-navy w-16 h-16 rounded-2xl flex items-center justify-center mb-6 text-p4c-gold shadow-lg shadow-p4c-navy/20">
                            <ShieldCheck className="w-8 h-8" />
                        </div>
                        <h3 className="font-bold text-xl text-p4c-navy mb-4">Premium Materials</h3>
                        <ul className="space-y-3">
                            <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Quartz Countertops</strong> over laminate for hygiene and longevity.</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>LVP Flooring</strong> that is waterproof and scratch-resistant.</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Energy Star Appliances</strong> to lower utility costs.</span>
                            </li>
                        </ul>
                    </div>

                    {/* Tenant Care */}
                    <div className="p-10 hover:bg-gray-50 transition-colors duration-300">
                        <div className="bg-p4c-navy w-16 h-16 rounded-2xl flex items-center justify-center mb-6 text-p4c-gold shadow-lg shadow-p4c-navy/20">
                            <Heart className="w-8 h-8" />
                        </div>
                        <h3 className="font-bold text-xl text-p4c-navy mb-4">Dignity First Care</h3>
                        <ul className="space-y-3">
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>24/7 Maintenance</strong> response because things break, but trust shouldn't.</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Concierge Onboarding</strong> helps navigate voucher paperwork effortlessly.</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Community Events</strong> to foster connection among neighbors.</span>
                            </li>
                        </ul>
                    </div>

                    {/* Community Impact */}
                    <div className="p-10 hover:bg-gray-50 transition-colors duration-300">
                         <div className="bg-p4c-navy w-16 h-16 rounded-2xl flex items-center justify-center mb-6 text-p4c-gold shadow-lg shadow-p4c-navy/20">
                            <TrendingUp className="w-8 h-8" />
                        </div>
                        <h3 className="font-bold text-xl text-p4c-navy mb-4">Community Lift</h3>
                        <ul className="space-y-3">
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Revitalizing Streets</strong> by fixing the "worst house on the block."</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Local Hiring</strong> focuses on employing East Texas veterans.</span>
                            </li>
                             <li className="flex items-start gap-3">
                                <CheckCircle2 className="w-5 h-5 text-p4c-gold flex-shrink-0 mt-0.5" />
                                <span className="text-gray-600 text-sm"><strong>Sustainable Building</strong> practices to reduce environmental impact.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        {/* Leadership & Values Section */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div className="bg-p4c-navy text-white p-10 rounded-2xl flex flex-col justify-center relative overflow-hidden group shadow-xl ring-1 ring-white/10">
                {/* Background decoration */}
                <div className="absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-white/10 transition-colors"></div>
                
                <div className="relative z-10">
                    <div className="flex items-center gap-4 mb-6">
                        <div className="bg-p4c-gold p-3 rounded-lg">
                             <Award className="w-8 h-8 text-p4c-navy" />
                        </div>
                        <h3 className="text-2xl font-serif font-bold">Veteran Led & Operated</h3>
                    </div>
                    <p className="text-gray-300 leading-relaxed mb-6 text-lg">
                        Our leadership team is comprised of military veterans. We bring the values of service, integrity, and mission-accomplishment to property management. 
                    </p>
                    <p className="text-gray-300 leading-relaxed">
                        We don't cut corners, and we don't leave anyone behind. That's the pledge we made in service, and it's the pledge we keep in business.
                    </p>
                </div>
            </div>

            <div className="bg-gradient-to-br from-p4c-gold to-yellow-600 text-p4c-navy p-10 rounded-2xl flex flex-col justify-center relative overflow-hidden group shadow-xl ring-1 ring-black/5">
                 <div className="absolute bottom-0 left-0 w-64 h-64 bg-white/20 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 group-hover:bg-white/30 transition-colors"></div>

                <div className="relative z-10">
                     <div className="flex items-center gap-4 mb-6">
                        <div className="bg-p4c-navy p-3 rounded-lg">
                             <Users className="w-8 h-8 text-white" />
                        </div>
                        <h3 className="text-2xl font-serif font-bold">Join the Mission</h3>
                    </div>
                    <p className="p4c-navy/90 leading-relaxed font-medium mb-8 text-lg">
                        Are you an investor looking for recession-resistant assets with a social impact? We offer opportunities to partner on single-family BRRRR projects in the East Texas market.
                    </p>
                    <button className="bg-p4c-navy text-white px-8 py-3 rounded-lg font-bold hover:bg-p4c-navy/90 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 inline-flex items-center gap-2">
                        Request Investor Packet <TrendingUp className="w-4 h-4" />
                    </button>
                </div>
            </div>
        </div>

      </div>
    </div>
  );
};

export default About;


[FILE_END: pages\About.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\AccessibilityStatement.tsx
METADATA: Size=3102 bytes | Last_Modified=2026-01-04 12:32:59.884006
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Accessibility } from 'lucide-react';

const AccessibilityStatement: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen py-16">
      <Helmet>
        <title>Accessibility Statement | Properties 4 Creations</title>
      </Helmet>

      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-100">
            <div className="flex items-center gap-4 mb-8 pb-8 border-b border-gray-100">
                <div className="bg-p4c-gold p-3 rounded-full">
                    <Accessibility className="w-8 h-8 text-p4c-navy" />
                </div>
                <h1 className="text-3xl font-serif font-bold text-p4c-navy">Accessibility Statement</h1>
            </div>
            
            <div className="prose prose-slate max-w-none text-gray-700">
                <p className="lead">
                    Properties 4 Creations is committed to ensuring digital accessibility for people with disabilities. We are continually improving the user experience for everyone, and applying the relevant accessibility standards.
                </p>

                <h3 className="text-xl font-bold text-p4c-navy mt-6 mb-2">Measures to support accessibility</h3>
                <p>Properties 4 Creations takes the following measures to ensure accessibility of our website:</p>
                <ul className="list-disc pl-5 mb-6">
                    <li>Include accessibility as part of our internal mission statement.</li>
                    <li>Integrate accessibility into our procurement practices.</li>
                    <li>Appoint an accessibility officer and/or ombudsperson.</li>
                    <li>Provide continual accessibility training for our staff.</li>
                </ul>

                <h3 className="text-xl font-bold text-p4c-navy mt-6 mb-2">Conformance status</h3>
                <p>
                    The Web Content Accessibility Guidelines (WCAG) defines requirements for designers and developers to improve accessibility for people with disabilities. It defines three levels of conformance: Level A, Level AA, and Level AAA. 
                    The Properties 4 Creations website is partially conformant with WCAG 2.1 level AA. Partially conformant means that some parts of the content do not fully conform to the accessibility standard.
                </p>

                <h3 className="text-xl font-bold text-p4c-navy mt-6 mb-2">Feedback</h3>
                <p>
                    We welcome your feedback on the accessibility of the Properties 4 Creations website. Please let us know if you encounter accessibility barriers on our site:
                </p>
                <p className="mt-4">
                    <strong>Email:</strong> accessibility@p4c-homes.com<br />
                    <strong>Phone:</strong> (903) 555-0123
                </p>
            </div>
        </div>
      </div>
    </div>
  );
};

export default AccessibilityStatement;


[FILE_END: pages\AccessibilityStatement.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\AdminDashboard.tsx
METADATA: Size=7093 bytes | Last_Modified=2026-01-04 12:32:59.850830
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { useAuth } from '../context/AuthContext';
import { BarChart3, Users, Home, Settings, LogOut, Plus, Edit2, Trash2 } from 'lucide-react';
import { properties } from '../data/properties';

const AdminDashboard: React.FC = () => {
  const { user, logout } = useAuth();

  return (
    <div className="min-h-screen bg-gray-100 flex">
      <Helmet>
        <title>Admin Dashboard | Properties 4 Creations</title>
      </Helmet>

      {/* Sidebar */}
      <aside className="w-64 bg-p4c-navy text-white hidden md:flex flex-col">
        <div className="p-6 border-b border-gray-700">
          <h2 className="text-xl font-serif font-bold text-p4c-gold">P4C Admin</h2>
          <p className="text-xs text-gray-400 mt-1">Enterprise Portal</p>
        </div>
        
        <nav className="flex-1 p-4 space-y-2">
          <button className="flex items-center w-full px-4 py-3 bg-white/10 text-p4c-gold rounded-lg font-medium">
            <BarChart3 className="w-5 h-5 mr-3" /> Dashboard
          </button>
          <button className="flex items-center w-full px-4 py-3 text-gray-300 hover:bg-white/5 hover:text-white rounded-lg transition-colors">
            <Home className="w-5 h-5 mr-3" /> Properties
          </button>
          <button className="flex items-center w-full px-4 py-3 text-gray-300 hover:bg-white/5 hover:text-white rounded-lg transition-colors">
            <Users className="w-5 h-5 mr-3" /> Tenants
          </button>
          <button className="flex items-center w-full px-4 py-3 text-gray-300 hover:bg-white/5 hover:text-white rounded-lg transition-colors">
            <Settings className="w-5 h-5 mr-3" /> Settings
          </button>
        </nav>

        <div className="p-4 border-t border-gray-700">
          <div className="flex items-center mb-4 gap-3">
            <div className="w-8 h-8 rounded-full bg-p4c-gold flex items-center justify-center text-p4c-navy font-bold">
              {user?.name.charAt(0).toUpperCase()}
            </div>
            <div className="text-sm">
              <div className="font-medium text-white">{user?.name}</div>
              <div className="text-xs text-gray-400">Administrator</div>
            </div>
          </div>
          <button 
            onClick={logout}
            className="flex items-center justify-center w-full px-4 py-2 border border-gray-600 rounded-lg text-sm hover:bg-gray-800 transition-colors"
          >
            <LogOut className="w-4 h-4 mr-2" /> Sign Out
          </button>
        </div>
      </aside>

      {/* Main Content */}
      <main className="flex-1 overflow-y-auto">
        <div className="p-8">
          <div className="flex justify-between items-center mb-8">
            <h1 className="text-2xl font-bold text-gray-800">Dashboard Overview</h1>
            <button className="bg-p4c-navy text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-p4c-slate transition-colors shadow-md">
              <Plus className="w-4 h-4" /> Add Property
            </button>
          </div>

          {/* Stats Grid */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            {[
              { label: 'Total Revenue', value: '$42,500', sub: '+12% from last month', color: 'text-green-600' },
              { label: 'Occupancy Rate', value: '94%', sub: '2 units available', color: 'text-blue-600' },
              { label: 'Maintenance Req', value: '3', sub: '1 urgent', color: 'text-orange-600' },
              { label: 'Applications', value: '18', sub: '5 pending review', color: 'text-p4c-navy' },
            ].map((stat, i) => (
              <div key={i} className="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                <div className="text-sm text-gray-500 font-medium mb-1">{stat.label}</div>
                <div className="text-2xl font-bold text-gray-900 mb-1">{stat.value}</div>
                <div className={`text-xs ${stat.color} font-medium`}>{stat.sub}</div>
              </div>
            ))}
          </div>

          {/* Recent Properties Table */}
          <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div className="px-6 py-4 border-b border-gray-100 flex justify-between items-center">
              <h3 className="font-bold text-gray-800">Active Listings</h3>
              <button className="text-sm text-p4c-gold font-medium hover:underline">View All</button>
            </div>
            <div className="overflow-x-auto">
              <table className="w-full text-left">
                <thead className="bg-gray-50 text-xs uppercase text-gray-500 font-semibold">
                  <tr>
                    <th className="px-6 py-4">Property</th>
                    <th className="px-6 py-4">Status</th>
                    <th className="px-6 py-4">Price</th>
                    <th className="px-6 py-4">Applications</th>
                    <th className="px-6 py-4 text-right">Actions</th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-gray-100">
                  {properties.map((property) => (
                    <tr key={property.id} className="hover:bg-gray-50/50 transition-colors">
                      <td className="px-6 py-4">
                        <div className="flex items-center">
                          <img src={property.imageUrl} alt="" className="w-10 h-10 rounded-md object-cover mr-3" />
                          <div>
                            <div className="font-medium text-gray-900">{property.title}</div>
                            <div className="text-xs text-gray-500">{property.address}</div>
                          </div>
                        </div>
                      </td>
                      <td className="px-6 py-4">
                        <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                          Active
                        </span>
                      </td>
                      <td className="px-6 py-4 text-gray-600">${property.price}/mo</td>
                      <td className="px-6 py-4 text-gray-600">4 New</td>
                      <td className="px-6 py-4 text-right">
                        <div className="flex justify-end gap-2">
                          <button className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-p4c-navy">
                            <Edit2 className="w-4 h-4" />
                          </button>
                          <button className="p-1.5 hover:bg-red-50 rounded text-gray-500 hover:text-red-600">
                            <Trash2 className="w-4 h-4" />
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
};

export default AdminDashboard;


[FILE_END: pages\AdminDashboard.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Application.tsx
METADATA: Size=12269 bytes | Last_Modified=2026-01-04 12:32:59.786035
================================================================================

import React, { useState } from 'react';
import { FileText, UserCheck, Key, ShieldCheck, AlertCircle } from 'lucide-react';
import { IMAGES } from '../constants/images';

interface ApplicationForm {
  firstName: string;
  lastName: string;
  email: string;
  phone: string;
  voucherType: string;
}

const Application: React.FC = () => {
  const [formData, setFormData] = useState<ApplicationForm>({
    firstName: '',
    lastName: '',
    email: '',
    phone: '',
    voucherType: 'No, I am looking for market rate'
  });

  const [touched, setTouched] = useState<Record<keyof ApplicationForm, boolean>>({
    firstName: false,
    lastName: false,
    email: false,
    phone: false,
    voucherType: false
  });

  const [errors, setErrors] = useState<Partial<ApplicationForm>>({});

  const validateField = (name: keyof ApplicationForm, value: string): string | undefined => {
    if (!value.trim()) {
      switch(name) {
          case 'firstName': return 'First name is required';
          case 'lastName': return 'Last name is required';
          case 'email': return 'Email is required';
          case 'phone': return 'Phone number is required';
          default: return undefined;
      }
    }
    
    if (name === 'email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
      return 'Please enter a valid email address';
    }

    if (name === 'phone' && !/^[\d\-\(\)\s]{10,}$/.test(value)) {
        return 'Please enter a valid phone number';
    }

    return undefined;
  };

  const handleBlur = (e: React.FocusEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    const fieldName = name as keyof ApplicationForm;
    
    setTouched(prev => ({ ...prev, [fieldName]: true }));
    const error = validateField(fieldName, value);
    setErrors(prev => ({ ...prev, [fieldName]: error }));
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    const fieldName = name as keyof ApplicationForm;

    setFormData(prev => ({ ...prev, [fieldName]: value }));

    if (touched[fieldName]) {
        const error = validateField(fieldName, value);
        setErrors(prev => ({ ...prev, [fieldName]: error }));
    }
  };

  const handleNextStep = () => {
    const newErrors: Partial<ApplicationForm> = {};
    let isValid = true;
    
    const fieldsToCheck: (keyof ApplicationForm)[] = ['firstName', 'lastName', 'email', 'phone'];
    
    fieldsToCheck.forEach(key => {
        const error = validateField(key, formData[key]);
        if (error) {
            newErrors[key] = error;
            isValid = false;
        }
    });

    setErrors(newErrors);
    setTouched(prev => ({
        ...prev,
        firstName: true,
        lastName: true,
        email: true,
        phone: true
    }));

    if (isValid) {
        alert("Success! Application pre-check complete. Proceeding to background check integration...");
    }
  };

  const getInputClassName = (fieldName: keyof ApplicationForm) => {
    const hasError = touched[fieldName] && errors[fieldName];
    const baseClasses = "w-full rounded-lg shadow-sm p-3.5 border transition-all duration-200 outline-none";
    
    if (hasError) {
      return `${baseClasses} border-red-500 bg-red-50 text-red-900 focus:border-red-500 focus:ring-2 focus:ring-red-200`;
    }
    return `${baseClasses} border-gray-300 focus:border-p4c-gold focus:ring-2 focus:ring-p4c-gold/20 hover:border-gray-400`;
  };

  return (
    <div className="bg-p4c-beige min-h-screen">
       {/* Hero Banner */}
       <div className="relative h-[300px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.BANNERS.APPLICATION}
            alt="Handing over house keys" 
            className="w-full h-full object-cover"
          />
           <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/80 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4">
          <h1 className="text-4xl md:text-5xl font-serif font-bold text-white mb-2">
            The Dignity Application
          </h1>
          <p className="text-gray-200 font-medium">No application fees. No judgement. Just a path home.</p>
        </div>
      </div>

      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 -mt-10 relative z-20">
        <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-100">
            
            <div className="text-center mb-10">
                <h2 className="text-2xl font-serif font-bold text-p4c-navy">Start Your Journey</h2>
                <p className="text-gray-500 mt-2">Complete these 3 simple steps to get pre-approved.</p>
            </div>

            {/* Progress Steps */}
            <div className="flex justify-between items-center mb-12 relative px-4">
                <div className="absolute top-1/2 left-0 w-full h-1 bg-gray-100 -z-10 -translate-y-1/2 rounded-full"></div>
                
                {[
                    { icon: UserCheck, label: "About You", active: true },
                    { icon: FileText, label: "History", active: false },
                    { icon: Key, label: "Preferences", active: false }
                ].map((step, i) => (
                    <div key={i} className="flex flex-col items-center bg-white px-4">
                        <div className={`w-12 h-12 rounded-full flex items-center justify-center mb-2 border-2 transition-all ${step.active ? 'bg-p4c-gold border-p4c-gold text-p4c-navy shadow-lg scale-110' : 'bg-white border-gray-200 text-gray-400'}`}>
                            <step.icon className="w-5 h-5" />
                        </div>
                        <span className={`text-xs font-bold uppercase tracking-wide ${step.active ? 'text-p4c-navy' : 'text-gray-400'}`}>{step.label}</span>
                    </div>
                ))}
            </div>

            {/* Form Area */}
            <form className="space-y-6" noValidate>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label className="block text-sm font-bold text-p4c-navy mb-1.5">First Name</label>
                        <input 
                            type="text" 
                            name="firstName"
                            value={formData.firstName}
                            onChange={handleChange}
                            onBlur={handleBlur}
                            className={getInputClassName('firstName')}
                            placeholder="Jane"
                            aria-invalid={!!errors.firstName} 
                        />
                        {touched.firstName && errors.firstName && (
                            <div className="flex items-center mt-1.5 text-red-600 text-xs font-medium animate-fade-in">
                                <AlertCircle className="w-3 h-3 mr-1" />
                                {errors.firstName}
                            </div>
                        )}
                    </div>
                    <div>
                        <label className="block text-sm font-bold text-p4c-navy mb-1.5">Last Name</label>
                        <input 
                            type="text" 
                            name="lastName"
                            value={formData.lastName}
                            onChange={handleChange}
                            onBlur={handleBlur}
                            className={getInputClassName('lastName')}
                            placeholder="Doe"
                            aria-invalid={!!errors.lastName} 
                        />
                        {touched.lastName && errors.lastName && (
                            <div className="flex items-center mt-1.5 text-red-600 text-xs font-medium animate-fade-in">
                                <AlertCircle className="w-3 h-3 mr-1" />
                                {errors.lastName}
                            </div>
                        )}
                    </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label className="block text-sm font-bold text-p4c-navy mb-1.5">Email Address</label>
                        <input 
                            type="email" 
                            name="email"
                            value={formData.email}
                            onChange={handleChange}
                            onBlur={handleBlur}
                            className={getInputClassName('email')}
                            placeholder="jane@example.com"
                            aria-invalid={!!errors.email} 
                        />
                        {touched.email && errors.email && (
                            <div className="flex items-center mt-1.5 text-red-600 text-xs font-medium animate-fade-in">
                                <AlertCircle className="w-3 h-3 mr-1" />
                                {errors.email}
                            </div>
                        )}
                    </div>
                     <div>
                        <label className="block text-sm font-bold text-p4c-navy mb-1.5">Phone Number</label>
                        <input 
                            type="tel" 
                            name="phone"
                            value={formData.phone}
                            onChange={handleChange}
                            onBlur={handleBlur}
                            className={getInputClassName('phone')}
                            placeholder="(903) 555-0123"
                            aria-invalid={!!errors.phone} 
                        />
                        {touched.phone && errors.phone && (
                            <div className="flex items-center mt-1.5 text-red-600 text-xs font-medium animate-fade-in">
                                <AlertCircle className="w-3 h-3 mr-1" />
                                {errors.phone}
                            </div>
                        )}
                    </div>
                </div>

                 <div>
                    <label className="block text-sm font-bold text-p4c-navy mb-1.5">Do you currently have a housing voucher?</label>
                    <select 
                        name="voucherType"
                        value={formData.voucherType}
                        onChange={handleChange}
                        onBlur={handleBlur}
                        className={`${getInputClassName('voucherType')} bg-white`}
                    >
                        <option>No, I am looking for market rate</option>
                        <option>Yes, Section 8 (HCV)</option>
                        <option>Yes, HUD-VASH</option>
                        <option>Yes, Rapid Rehousing</option>
                        <option>Other</option>
                    </select>
                </div>

                <div className="bg-blue-50 p-5 rounded-xl flex gap-4 items-start border border-blue-100">
                    <ShieldCheck className="text-p4c-navy w-6 h-6 flex-shrink-0 mt-0.5" />
                    <p className="text-sm text-p4c-navy leading-relaxed">
                        <strong>Privacy Guarantee:</strong> We value your privacy. Your information is encrypted using 256-bit SSL and is never sold. We only use this data to match you with available homes and pre-qualify your application.
                    </p>
                </div>

                <div className="pt-4">
                    <button 
                        type="button" 
                        onClick={handleNextStep}
                        className="w-full bg-p4c-navy text-white hover:bg-p4c-slate py-4 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-xl hover:-translate-y-1"
                    >
                        Continue to Step 2
                    </button>
                </div>
            </form>
        </div>
      </div>
    </div>
  );
};

export default Application;


[FILE_END: pages\Application.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Contact.tsx
METADATA: Size=12926 bytes | Last_Modified=2026-01-04 12:32:59.797034
================================================================================

import React, { useState } from 'react';
import { Mail, Phone, MapPin, Send, AlertCircle, Check } from 'lucide-react';
import { useToast } from '../context/ToastContext';
import { Helmet } from 'react-helmet-async';
import { IMAGES } from '../constants/images';

interface ContactForm {
  name: string;
  email: string;
  subject: string;
  message: string;
}

const Contact: React.FC = () => {
  const { addToast } = useToast();
  const [formData, setFormData] = useState<ContactForm>({
    name: '',
    email: '',
    subject: '',
    message: ''
  });

  const [touched, setTouched] = useState<Record<keyof ContactForm, boolean>>({
    name: false,
    email: false,
    subject: false,
    message: false
  });

  const [errors, setErrors] = useState<Partial<ContactForm>>({});
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [isSuccess, setIsSuccess] = useState(false);

  const validateField = (name: keyof ContactForm, value: string): string | undefined => {
    if (!value.trim()) {
      switch (name) {
        case 'name': return "Please enter your full name.";
        case 'email': return "Email address is required.";
        case 'subject': return "Please select a subject.";
        case 'message': return "Please enter a message.";
        default: return "This field is required.";
      }
    }
    if (name === 'email' && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
      return "Please enter a valid email address (e.g., name@example.com).";
    }
    return undefined;
  };

  const handleBlur = (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    const fieldName = name as keyof ContactForm;
    setTouched(prev => ({ ...prev, [fieldName]: true }));
    
    const error = validateField(fieldName, value);
    setErrors(prev => ({ ...prev, [fieldName]: error }));
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    const fieldName = name as keyof ContactForm;
    
    setFormData(prev => ({ ...prev, [fieldName]: value }));
    
    if (touched[fieldName]) {
      const error = validateField(fieldName, value);
      setErrors(prev => ({ ...prev, [fieldName]: error }));
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    
    const newErrors: Partial<ContactForm> = {};
    let isValid = true;

    (Object.keys(formData) as Array<keyof ContactForm>).forEach(key => {
      const error = validateField(key, formData[key]);
      if (error) {
        newErrors[key] = error;
        isValid = false;
      }
    });

    setErrors(newErrors);
    setTouched({
      name: true,
      email: true,
      subject: true,
      message: true
    });

    if (isValid) {
      // Optimistic UI: Show success immediately
      setIsSubmitting(true);
      setIsSuccess(true);
      addToast('Message sent! We will contact you shortly.', 'success');
      
      // Simulate API call in background
      try {
        await new Promise(resolve => setTimeout(resolve, 1500));
        // Reset form after "server" responds
        setFormData({ name: '', email: '', subject: '', message: '' });
        setTouched({ name: false, email: false, subject: false, message: false });
      } catch (e) {
         setIsSuccess(false);
         addToast('Something went wrong. Please try again.', 'error');
      } finally {
         setIsSubmitting(false);
         setTimeout(() => setIsSuccess(false), 3000); // Reset success state after delay
      }
    } else {
        addToast('Please fix the errors in the form before submitting.', 'error');
    }
  };

  const getInputClassName = (fieldName: keyof ContactForm) => {
    const hasError = touched[fieldName] && errors[fieldName];
    const baseClasses = "w-full rounded-md shadow-sm p-3 border focus:ring transition-colors duration-200";
    
    if (hasError) {
      return `${baseClasses} border-red-500 focus:border-red-500 focus:ring-red-200 bg-red-50`;
    }
    return `${baseClasses} border-gray-300 focus:border-p4c-gold focus:ring-p4c-gold/50`;
  };

  return (
    <div className="bg-p4c-beige min-h-screen">
      <Helmet>
        <title>Contact Us | Properties 4 Creations</title>
        <meta name="description" content="Contact P4C for housing inquiries, investor relations, or employment opportunities in East Texas." />
      </Helmet>

      {/* Hero Banner */}
      <div className="relative h-[300px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.BANNERS.CONTACT}
            alt="People working together and connecting" 
            className="w-full h-full object-cover"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/80 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4">
          <h1 className="text-4xl md:text-5xl font-serif font-bold text-white mb-2">
            Get in Touch
          </h1>
          <p className="text-gray-200 text-lg">We are here to help you find your way home.</p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
          
          {/* Contact Information */}
          <div className="space-y-8">
            <div>
              <h2 className="text-3xl font-serif font-bold text-p4c-navy mb-4">Contact Information</h2>
              <p className="text-gray-700 leading-relaxed">
                Whether you are a veteran looking for housing, an investor interested in our mission, or a skilled tradesperson wanting to join our team, we want to hear from you.
              </p>
            </div>

            <div className="space-y-6">
              <div className="flex items-start gap-4">
                <div className="bg-p4c-gold p-3 rounded-full text-p4c-navy">
                  <MapPin className="w-6 h-6" />
                </div>
                <div>
                  <h3 className="font-bold text-p4c-navy text-lg">Our Office</h3>
                  <p className="text-gray-600">123 Veteran Way<br />Tyler, TX 75701</p>
                </div>
              </div>

              <div className="flex items-start gap-4">
                <div className="bg-p4c-gold p-3 rounded-full text-p4c-navy">
                  <Phone className="w-6 h-6" />
                </div>
                <div>
                  <h3 className="font-bold text-p4c-navy text-lg">Phone</h3>
                  <p className="text-gray-600">(903) 555-0123</p>
                  <p className="text-sm text-gray-500 mt-1">Mon-Fri, 9am - 5pm CST</p>
                </div>
              </div>

              <div className="flex items-start gap-4">
                <div className="bg-p4c-gold p-3 rounded-full text-p4c-navy">
                  <Mail className="w-6 h-6" />
                </div>
                <div>
                  <h3 className="font-bold text-p4c-navy text-lg">Email</h3>
                  <p className="text-gray-600">support@p4c-homes.com</p>
                </div>
              </div>
            </div>
          </div>

          {/* Contact Form */}
          <div className="bg-white rounded-2xl shadow-lg p-8 border border-gray-100 relative overflow-hidden">
            {isSuccess && (
                <div className="absolute inset-0 bg-white/90 z-20 flex flex-col items-center justify-center animate-fade-in text-center p-6">
                    <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
                        <Check className="w-8 h-8 text-green-600" />
                    </div>
                    <h3 className="text-2xl font-bold text-p4c-navy mb-2">Message Sent!</h3>
                    <p className="text-gray-600">We'll get back to you within 24 hours.</p>
                </div>
            )}

            <h2 className="text-2xl font-serif font-bold text-p4c-navy mb-6">Send us a Message</h2>
            
            <form onSubmit={handleSubmit} className="space-y-5" noValidate>
              <div>
                <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  onBlur={handleBlur}
                  className={getInputClassName('name')}
                  placeholder="John Doe"
                  aria-invalid={!!errors.name}
                  disabled={isSubmitting}
                />
                {touched.name && errors.name && (
                  <div className="flex items-center mt-1 text-red-600 text-xs animate-fade-in">
                      <AlertCircle className="w-3 h-3 mr-1" />
                      {errors.name}
                  </div>
                )}
              </div>

              <div>
                <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  onBlur={handleBlur}
                  className={getInputClassName('email')}
                  placeholder="john@example.com"
                  aria-invalid={!!errors.email}
                  disabled={isSubmitting}
                />
                  {touched.email && errors.email && (
                  <div className="flex items-center mt-1 text-red-600 text-xs animate-fade-in">
                      <AlertCircle className="w-3 h-3 mr-1" />
                      {errors.email}
                  </div>
                )}
              </div>

              <div>
                <label htmlFor="subject" className="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                <select
                  id="subject"
                  name="subject"
                  value={formData.subject}
                  onChange={handleChange}
                  onBlur={handleBlur}
                  className={`${getInputClassName('subject')} bg-white`}
                  aria-invalid={!!errors.subject}
                  disabled={isSubmitting}
                >
                  <option value="">Select a topic...</option>
                  <option value="Rental Inquiry">Rental Inquiry</option>
                  <option value="Maintenance Request">Maintenance Request</option>
                  <option value="Investor Relations">Investor Relations</option>
                  <option value="Employment">Employment</option>
                  <option value="Other">Other</option>
                </select>
                {touched.subject && errors.subject && (
                  <div className="flex items-center mt-1 text-red-600 text-xs animate-fade-in">
                      <AlertCircle className="w-3 h-3 mr-1" />
                      {errors.subject}
                  </div>
                )}
              </div>

              <div>
                <label htmlFor="message" className="block text-sm font-medium text-gray-700 mb-1">Message</label>
                <textarea
                  id="message"
                  name="message"
                  value={formData.message}
                  onChange={handleChange}
                  onBlur={handleBlur}
                  rows={4}
                  className={getInputClassName('message')}
                  placeholder="How can we help you?"
                  aria-invalid={!!errors.message}
                  disabled={isSubmitting}
                ></textarea>
                {touched.message && errors.message && (
                  <div className="flex items-center mt-1 text-red-600 text-xs animate-fade-in">
                      <AlertCircle className="w-3 h-3 mr-1" />
                      {errors.message}
                  </div>
                )}
              </div>

              <button
                type="submit"
                disabled={isSubmitting}
                className="w-full bg-p4c-navy text-white hover:bg-p4c-slate py-3 rounded-md font-bold transition-all duration-200 shadow-md flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"
              >
                {isSubmitting ? 'Sending...' : (
                  <>
                    <Send className="w-4 h-4" />
                    Send Message
                  </>
                )}
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Contact;


[FILE_END: pages\Contact.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Employment.tsx
METADATA: Size=5592 bytes | Last_Modified=2026-01-04 12:32:59.781037
================================================================================

import React from 'react';
import { Hammer, HardHat, Briefcase, CheckCircle2 } from 'lucide-react';
import { Link } from 'react-router-dom';
import { IMAGES } from '../constants/images';

const Employment: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen">
      {/* Hero Banner */}
      <div className="relative h-[400px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.GALLERY.FRAMING}
            alt="Construction blueprints and tools" 
            className="w-full h-full object-cover"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/80 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4 max-w-4xl mx-auto">
          <h1 className="text-4xl md:text-5xl font-serif font-bold text-white mb-4">
            Build With Purpose
          </h1>
          <p className="text-xl text-p4c-gold font-medium">
            Join the P4C Crew. We Hire Veterans First.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
          
          {/* Mission & Culture */}
          <div>
            <div className="flex items-center gap-3 mb-6">
                <div className="bg-p4c-navy p-2 rounded-lg">
                    <HardHat className="text-p4c-gold w-6 h-6" />
                </div>
                <h2 className="text-3xl font-serif font-bold text-p4c-navy">Why Work With Us?</h2>
            </div>
            <p className="text-gray-700 leading-relaxed mb-6">
                At Properties 4 Creations, we believe that the hands that built our nation are best suited to build our communities. We aren't just renovating houses; we are restoring dignity.
            </p>
            <p className="text-gray-700 leading-relaxed mb-8">
                We offer competitive pay, flexible schedules for reservists, and a culture that understands the value of discipline, integrity, and hard work.
            </p>

            <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                <h3 className="font-bold text-lg mb-4 text-p4c-navy border-b pb-2">Our Commitments to You</h3>
                <ul className="space-y-3">
                    {[
                        "Priority hiring for Veterans and spouses",
                        "Weekly pay schedules",
                        "Tools and safety gear allowance",
                        "Skills training and certification support"
                    ].map((item, i) => (
                        <li key={i} className="flex items-center text-gray-700">
                            <CheckCircle2 className="w-5 h-5 text-p4c-gold mr-3" />
                            {item}
                        </li>
                    ))}
                </ul>
            </div>
          </div>

          {/* Open Positions */}
          <div>
            <div className="flex items-center gap-3 mb-6">
                <div className="bg-p4c-navy p-2 rounded-lg">
                    <Briefcase className="text-p4c-gold w-6 h-6" />
                </div>
                <h2 className="text-3xl font-serif font-bold text-p4c-navy">Open Positions</h2>
            </div>

            <div className="space-y-4">
                {[
                    { title: "Lead Carpenter", type: "Full-Time", location: "Tyler, TX", salary: "$25 - $35/hr" },
                    { title: "HVAC Technician", type: "Contract", location: "Longview, TX", salary: "Project Based" },
                    { title: "Property Manager", type: "Full-Time", location: "East Texas Area", salary: "$45k - $55k/yr" },
                    { title: "General Laborer", type: "Part-Time", location: "Various Sites", salary: "$18/hr" },
                ].map((job, index) => (
                    <div key={index} className="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow border-l-4 border-p4c-gold">
                        <div className="flex justify-between items-start mb-2">
                            <h3 className="font-bold text-xl text-p4c-navy">{job.title}</h3>
                            <span className="bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded uppercase">{job.type}</span>
                        </div>
                        <div className="flex justify-between text-sm text-gray-500 mb-4">
                            <span>{job.location}</span>
                            <span className="font-semibold text-p4c-navy">{job.salary}</span>
                        </div>
                        <button className="w-full border border-p4c-navy text-p4c-navy hover:bg-p4c-navy hover:text-white py-2 rounded font-medium transition-colors">
                            Apply Now
                        </button>
                    </div>
                ))}
            </div>

            <div className="mt-8 bg-p4c-navy text-white p-6 rounded-xl text-center">
                <h4 className="font-bold text-lg mb-2">Don't see your trade?</h4>
                <p className="text-gray-300 text-sm mb-4">We are always looking for skilled plumbers, electricians, and roofers.</p>
                <Link to="/contact" className="text-p4c-gold font-bold underline hover:text-white">Send us your resume</Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Employment;


[FILE_END: pages\Employment.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\EqualHousing.tsx
METADATA: Size=2240 bytes | Last_Modified=2026-01-04 12:32:59.876007
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Home } from 'lucide-react';

const EqualHousing: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen py-16">
      <Helmet>
        <title>Equal Housing Opportunity | Properties 4 Creations</title>
      </Helmet>

      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-100 text-center">
            <div className="bg-p4c-navy p-4 rounded-full inline-flex mb-6">
                <Home className="w-10 h-10 text-white" />
            </div>
            <h1 className="text-3xl font-serif font-bold text-p4c-navy mb-6">Equal Housing Opportunity</h1>
            
            <div className="prose prose-lg mx-auto text-gray-600 text-left">
                <p>
                    Properties 4 Creations is pledged to the letter and spirit of U.S. policy for the achievement of equal housing opportunity throughout the Nation. We encourage and support an affirmative advertising and marketing program in which there are no barriers to obtaining housing because of race, color, religion, sex, handicap, familial status, or national origin.
                </p>
                <p>
                    <strong>We agree to:</strong>
                </p>
                <ul className="list-disc pl-6 space-y-2">
                    <li>Provide equal professional service to all, without regard to race, color, religion, sex, handicap, familial status, or national origin.</li>
                    <li>Keep informed about fair housing laws and practices.</li>
                    <li>Develop advertising that indicates that everyone is welcome and no one is excluded.</li>
                    <li>Inform our clients and customers about our rights and responsibilities under the fair housing laws.</li>
                    <li>Document our compliance with the fair housing laws.</li>
                    <li>Refuse to tolerate non-compliance.</li>
                    <li>Take a positive approach to fair housing practices.</li>
                </ul>
            </div>
        </div>
      </div>
    </div>
  );
};

export default EqualHousing;


[FILE_END: pages\EqualHousing.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\FAQ.tsx
METADATA: Size=2978 bytes | Last_Modified=2026-01-04 12:32:59.871008
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { ChevronDown, HelpCircle } from 'lucide-react';

const FAQs = [
    { q: "Do you accept Section 8 vouchers?", a: "Yes, absolutely. We accept Housing Choice Vouchers (Section 8), HUD-VASH, and Rapid Rehousing assistance for all of our properties." },
    { q: "What is your pet policy?", a: "We are pet-friendly! We allow up to 2 pets per household with a refundable pet deposit. Breed restrictions may apply due to insurance regulations." },
    { q: "Is there an application fee?", a: "No. Properties 4 Creations believes in dignity-first housing. We do not charge application fees." },
    { q: "Do you perform background checks?", a: "Yes, we conduct background and credit checks to ensure community safety. However, we take a holistic view of every applicant and consider explaining circumstances." },
    { q: "How long does the application process take?", a: "Typically 2-3 business days. If you are using a voucher, it may take longer depending on the housing authority's inspection schedule." },
    { q: "Do you offer month-to-month leases?", a: "Our standard lease is 12 months, but we do offer flexible terms for veterans in transitional housing programs." },
];

const FAQ: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen py-16">
      <Helmet>
        <title>FAQ | Properties 4 Creations</title>
        <meta name="description" content="Frequently asked questions about applying for housing, Section 8, and veteran services at P4C." />
      </Helmet>

      <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="text-center mb-12">
            <div className="bg-white p-4 rounded-full inline-flex mb-4 shadow-sm">
                <HelpCircle className="w-8 h-8 text-p4c-gold" />
            </div>
            <h1 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-4">Frequently Asked Questions</h1>
            <p className="text-gray-600">
                Everything you need to know about finding your home with us.
            </p>
        </div>

        <div className="space-y-4">
            {FAQs.map((faq, index) => (
                <details key={index} className="group bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden open:ring-2 open:ring-p4c-gold/50 transition-all">
                    <summary className="flex items-center justify-between p-6 cursor-pointer list-none font-bold text-p4c-navy hover:bg-gray-50">
                        {faq.q}
                        <ChevronDown className="w-5 h-5 text-gray-400 group-open:rotate-180 transition-transform" />
                    </summary>
                    <div className="px-6 pb-6 text-gray-600 leading-relaxed border-t border-gray-100 pt-4">
                        {faq.a}
                    </div>
                </details>
            ))}
        </div>
      </div>
    </div>
  );
};

export default FAQ;


[FILE_END: pages\FAQ.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Home.tsx
METADATA: Size=12994 bytes | Last_Modified=2026-01-04 12:32:59.776042
================================================================================

import React, { useState, useMemo } from 'react';
import { Helmet } from 'react-helmet-async';
import Hero from '../components/Hero';
import ImpactDashboard from '../components/ImpactDashboard';
import PropertyCard from '../components/PropertyCard';
import BeforeAfterSlider from '../components/BeforeAfterSlider';
import GeminiImageEditor from '../components/GeminiImageEditor';
import { properties } from '../data/properties';
import { IMAGES } from '../constants/images';
import { CheckCircle2, Shield, Search, SlidersHorizontal, X } from 'lucide-react';
import { Link, useNavigate } from 'react-router-dom';

const Home: React.FC = () => {
  const navigate = useNavigate();

  // Filter States
  const [searchQuery, setSearchQuery] = useState('');
  const [maxPrice, setMaxPrice] = useState<number>(2000);
  const [minBeds, setMinBeds] = useState<number>(0);
  const [selectedBadges, setSelectedBadges] = useState<string[]>([]);

  // Extract unique badges from all properties for the filter list
  const allBadges = useMemo(() => {
    const badges = new Set<string>();
    properties.forEach(p => p.badges.forEach(b => badges.add(b)));
    return Array.from(badges);
  }, []);

  // Filtering Logic
  const filteredProperties = useMemo(() => {
    return properties.filter(property => {
      // Text Search (Title, Address, Description)
      const query = searchQuery.toLowerCase();
      const matchesSearch = 
        property.title.toLowerCase().includes(query) || 
        property.address.toLowerCase().includes(query) ||
        property.description.toLowerCase().includes(query);

      // Price Filter
      const matchesPrice = property.price <= maxPrice;

      // Bed Filter
      const matchesBeds = property.beds >= minBeds;

      // Badge Filter (Must have ALL selected badges)
      const matchesBadges = selectedBadges.every(badge => property.badges.includes(badge));

      return matchesSearch && matchesPrice && matchesBeds && matchesBadges;
    });
  }, [searchQuery, maxPrice, minBeds, selectedBadges]);

  const toggleBadge = (badge: string) => {
    setSelectedBadges(prev => 
      prev.includes(badge) 
        ? prev.filter(b => b !== badge) 
        : [...prev, badge]
    );
  };

  const clearFilters = () => {
    setSearchQuery('');
    setMaxPrice(2000);
    setMinBeds(0);
    setSelectedBadges([]);
  };

  return (
    <>
      <Helmet>
        <title>Properties 4 Creations | Veteran Owned Affordable Housing</title>
        <meta name="description" content="P4C buys distressed properties, renovates them to premium standards, and rents them affordably to veterans and families in East Texas." />
      </Helmet>
      
      <Hero />
      
      <ImpactDashboard />

      {/* Featured Listings */}
      <section id="homes" className="py-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex flex-col md:flex-row justify-between items-end mb-8">
              <div>
                  <h2 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-2">Find Your Home</h2>
                  <p className="text-gray-600 max-w-xl">High-quality, affordable homes ready for move-in. We accept all housing vouchers.</p>
              </div>
          </div>

          {/* Search & Filter Bar */}
          <div className="bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-10">
            <div className="grid grid-cols-1 md:grid-cols-12 gap-4 items-center">
              
              {/* Search Input */}
              <div className="md:col-span-5 relative">
                <Search className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5" />
                <input 
                  type="text" 
                  placeholder="Search by city, address, or keyword..." 
                  className="w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-p4c-gold focus:border-p4c-gold transition-all"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  aria-label="Search properties"
                />
              </div>

              {/* Price Dropdown */}
              <div className="md:col-span-3">
                <select 
                  className="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-p4c-gold focus:border-p4c-gold bg-white"
                  value={maxPrice}
                  onChange={(e) => setMaxPrice(Number(e.target.value))}
                  aria-label="Filter by Maximum Price"
                >
                  <option value={2000}>Max Price: Any</option>
                  <option value={800}>$800 / mo</option>
                  <option value={1000}>$1,000 / mo</option>
                  <option value={1200}>$1,200 / mo</option>
                  <option value={1500}>$1,500 / mo</option>
                </select>
              </div>

               {/* Beds Dropdown */}
               <div className="md:col-span-3">
                <select 
                  className="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-p4c-gold focus:border-p4c-gold bg-white"
                  value={minBeds}
                  onChange={(e) => setMinBeds(Number(e.target.value))}
                  aria-label="Filter by Minimum Bedrooms"
                >
                  <option value={0}>Bedrooms: Any</option>
                  <option value={1}>1+ Bed</option>
                  <option value={2}>2+ Beds</option>
                  <option value={3}>3+ Beds</option>
                  <option value={4}>4+ Beds</option>
                </select>
              </div>

              {/* Clear Button (Mobile only or Icon) */}
              <div className="md:col-span-1 flex justify-center">
                <button 
                  onClick={clearFilters}
                  className="text-gray-400 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-gray-100"
                  title="Clear Filters"
                >
                  <X className="w-6 h-6" />
                </button>
              </div>
            </div>

            {/* Badges / Amenities Filter */}
            <div className="mt-6 pt-4 border-t border-gray-100">
               <div className="flex items-center gap-2 mb-3 text-sm font-bold text-gray-500 uppercase tracking-wide">
                  <SlidersHorizontal className="w-4 h-4" /> Filter by Features:
               </div>
               <div className="flex flex-wrap gap-2">
                  {allBadges.map((badge) => (
                    <button
                      key={badge}
                      onClick={() => toggleBadge(badge)}
                      className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 border ${
                        selectedBadges.includes(badge)
                          ? 'bg-p4c-navy text-white border-p4c-navy shadow-md'
                          : 'bg-white text-gray-600 border-gray-200 hover:border-p4c-gold hover:text-p4c-navy'
                      }`}
                    >
                      {badge}
                    </button>
                  ))}
               </div>
            </div>
          </div>
          
          {/* Results Grid */}
          {filteredProperties.length > 0 ? (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {filteredProperties.map(prop => (
                    <PropertyCard key={prop.id} property={prop} />
                ))}
            </div>
          ) : (
            <div className="text-center py-20 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300">
              <div className="inline-flex justify-center items-center bg-white p-4 rounded-full mb-4 shadow-sm">
                <Search className="w-8 h-8 text-gray-400" />
              </div>
              <h3 className="text-xl font-bold text-p4c-navy mb-2">No homes found matching your criteria</h3>
              <p className="text-gray-500 mb-6">Try adjusting your filters or price range.</p>
              <button 
                onClick={clearFilters}
                className="text-p4c-gold font-bold hover:underline"
              >
                Clear all filters
              </button>
            </div>
          )}
      </section>

      {/* Transformation Showcase */}
      <section id="transparency" className="py-20 bg-white">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                  <div>
                       <div className="inline-flex items-center gap-2 bg-p4c-beige px-3 py-1 rounded-full text-p4c-navy text-xs font-bold uppercase tracking-wider mb-4 border border-gray-200">
                          <Shield className="w-4 h-4" /> Transparency Hub
                       </div>
                      <h2 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-6">
                          We Install Quality, <br />
                          <span className="text-p4c-gold">Not Cheap Fixes.</span>
                      </h2>
                      <p className="text-gray-600 mb-8 leading-relaxed">
                          Many landlords cut corners. We don't. At P4C, we use homeowner-grade materials like Quartz countertops, luxury vinyl plank flooring, and high-efficiency HVAC systems. Why? because you deserve a home that lasts and feels proud to live in.
                      </p>
                      
                      <ul className="space-y-4 mb-8">
                          <li className="flex items-start">
                              <CheckCircle2 className="w-6 h-6 text-p4c-gold mr-3 flex-shrink-0" />
                              <span className="text-gray-700"><strong>Quartz Countertops:</strong> Durable, hygienic, and beautiful.</span>
                          </li>
                           <li className="flex items-start">
                              <CheckCircle2 className="w-6 h-6 text-p4c-gold mr-3 flex-shrink-0" />
                              <span className="text-gray-700"><strong>LVP Flooring:</strong> Waterproof and scratch-resistant.</span>
                          </li>
                           <li className="flex items-start">
                              <CheckCircle2 className="w-6 h-6 text-p4c-gold mr-3 flex-shrink-0" />
                              <span className="text-gray-700"><strong>Energy Efficient:</strong> Lower utility bills for our tenants.</span>
                          </li>
                      </ul>
                  </div>
                  
                  <div className="w-full">
                       <div className="mb-4 text-center text-sm text-gray-500 italic">Drag the slider to see the transformation</div>
                       <BeforeAfterSlider 
                          beforeImage={IMAGES.RENOVATION.LIVING_ROOM.BEFORE}
                          afterImage={IMAGES.RENOVATION.LIVING_ROOM.AFTER}
                          label="Living Room"
                       />
                  </div>
              </div>
          </div>
      </section>

      {/* AI Visualization Section */}
      <section className="py-20 bg-p4c-beige border-y border-gray-200">
        <div className="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-10">
             <h2 className="text-3xl font-serif font-bold text-p4c-navy mb-4">Design Your Future</h2>
             <p className="text-gray-600 max-w-2xl mx-auto">
               Curious what a renovation could look like? Use our AI tool to apply styles to your own photos or visualize changes.
             </p>
          </div>
          <GeminiImageEditor />
        </div>
      </section>

      {/* Call to Action */}
      <section id="apply" className="py-24 bg-p4c-navy text-center px-4 relative overflow-hidden">
          {/* Background Pattern */}
           <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(#C5A059_1px,transparent_1px)] [background-size:16px_16px]"></div>
          
          <div className="relative z-10 max-w-3xl mx-auto">
              <h2 className="text-3xl md:text-5xl font-serif font-bold text-white mb-6">Ready to find your sanctuary?</h2>
              <p className="text-gray-300 text-lg mb-10">
                  Our application process is designed to be dignified, simple, and fast. No hidden fees, no bureaucratic hurdles.
              </p>
              <button 
                onClick={() => navigate('/apply')}
                className="bg-p4c-gold text-p4c-navy hover:bg-white hover:text-p4c-navy px-10 py-5 rounded-xl font-bold text-xl transition-all duration-300 shadow-xl hover:shadow-2xl hover:-translate-y-1"
              >
                  Start Your Concierge Application
              </button>
          </div>
      </section>
    </>
  );
};

export default Home;


[FILE_END: pages\Home.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\OurImpact.tsx
METADATA: Size=7914 bytes | Last_Modified=2026-01-04 12:32:59.823351
================================================================================

import React, { useEffect, useState } from 'react';
import { Helmet } from 'react-helmet-async';
import { api } from '../services/api';
import { StatMetric, FinancialBreakdown } from '../types';
import { Home, Users, Hammer, DollarSign, Heart, Loader2, ArrowUpRight } from 'lucide-react';
import { useToast } from '../context/ToastContext';
import { IMAGES } from '../constants/images';

const OurImpact: React.FC = () => {
  const [metrics, setMetrics] = useState<StatMetric[]>([]);
  const [financials, setFinancials] = useState<FinancialBreakdown[]>([]);
  const [loading, setLoading] = useState(true);
  const { addToast } = useToast();

  useEffect(() => {
    const fetchImpactData = async () => {
      try {
        const [metricsData, financialData] = await Promise.all([
          api.impact.getMetrics(),
          api.impact.getFinancialBreakdown()
        ]);
        setMetrics(metricsData);
        setFinancials(financialData);
      } catch (error) {
        addToast("Unable to load impact data.", "error");
      } finally {
        setLoading(false);
      }
    };
    fetchImpactData();
  }, [addToast]);

  const getIcon = (iconName: string) => {
    switch(iconName) {
      case 'home': return <Home className="w-6 h-6" />;
      case 'users': return <Users className="w-6 h-6" />;
      case 'hammer': return <Hammer className="w-6 h-6" />;
      case 'dollar': return <DollarSign className="w-6 h-6" />;
      case 'heart': return <Heart className="w-6 h-6" />;
      default: return <Home className="w-6 h-6" />;
    }
  };

  return (
    <div className="bg-p4c-beige min-h-screen">
      <Helmet>
        <title>Our Impact | Properties 4 Creations</title>
        <meta name="description" content="See the data behind our mission. Families housed, veterans served, and communities revitalized in East Texas." />
      </Helmet>

      {/* Hero */}
      <div className="bg-p4c-navy text-white pt-20 pb-32 relative overflow-hidden">
        <div className="absolute inset-0 z-0">
          <img 
            src={IMAGES.BANNERS.IMPACT} 
            alt="Impact Banner" 
            className="w-full h-full object-cover opacity-20"
          />
        </div>
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
          <h1 className="text-4xl md:text-6xl font-serif font-bold mb-6">More Than Just Rentals.</h1>
          <p className="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
            We measure our bottom line differently. It's not just about ROI—it's about the tangible difference we make in the lives of veterans and the fabric of our neighborhoods.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20 pb-20 relative z-20">
        
        {/* Metrics Grid */}
        {loading ? (
           <div className="bg-white rounded-2xl shadow-xl p-12 flex justify-center items-center">
              <Loader2 className="w-10 h-10 text-p4c-gold animate-spin" />
           </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
            {metrics.map((stat) => (
              <div key={stat.id} className="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow border-t-4 border-p4c-gold ring-1 ring-gray-900/5">
                <div className="flex justify-between items-start mb-4">
                  <div className="bg-p4c-navy/5 p-3 rounded-lg text-p4c-navy">
                    {getIcon(stat.icon)}
                  </div>
                  {stat.trend === 'up' && (
                    <div className="flex items-center text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-full">
                      <ArrowUpRight className="w-3 h-3 mr-1" />
                      {stat.trendValue}
                    </div>
                  )}
                </div>
                <div className="text-4xl font-serif font-bold text-p4c-navy mb-2">{stat.value}</div>
                <div className="font-bold text-gray-900 mb-2">{stat.label}</div>
                <p className="text-sm text-gray-500 leading-snug">{stat.description}</p>
              </div>
            ))}
          </div>
        )}

        {/* Narrative Section & Financial Visualization */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-12">
          
          <div className="lg:col-span-2 space-y-8">
            <div className="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 ring-1 ring-gray-900/5">
              <h2 className="text-2xl font-serif font-bold text-p4c-navy mb-4">The Multiplier Effect</h2>
              <p className="text-gray-700 mb-4 leading-relaxed">
                When we purchase a distressed property, the impact ripples outward. We remove blight, which stabilizes neighbor property values. We hire local tradespeople, injecting capital into the local economy. And we provide a stable home, allowing a family to put down roots.
              </p>
              <p className="text-gray-700 leading-relaxed">
                Study after study shows that stable housing is the primary determinant of health outcomes, educational attainment for children, and employment stability for adults. We aren't just landlords; we are stability partners.
              </p>
            </div>

            {/* Testimonials Placeholder (mock) */}
            <div className="bg-p4c-navy text-white p-8 rounded-2xl shadow-lg relative overflow-hidden ring-1 ring-white/10">
               <div className="relative z-10">
                  <Heart className="w-10 h-10 text-p4c-gold mb-4" />
                  <p className="text-xl font-serif italic mb-6">
                    "I was living in my car for three months before finding P4C. They didn't just give me keys; they treated me with respect from the first phone call. This isn't just a house, it's my sanctuary."
                  </p>
                  <div className="flex items-center gap-3">
                    <div className="w-10 h-10 rounded-full bg-gray-400"></div> {/* Avatar Placeholder */}
                    <div>
                      <div className="font-bold">Michael T.</div>
                      <div className="text-sm text-p4c-gold">US Army Veteran</div>
                    </div>
                  </div>
               </div>
            </div>
          </div>

          {/* Financial Breakdown */}
          <div className="bg-white p-8 rounded-2xl shadow-lg border border-gray-100 ring-1 ring-gray-900/5 h-fit">
            <h3 className="text-xl font-serif font-bold text-p4c-navy mb-6">Where the Money Goes</h3>
            <div className="space-y-4">
              {financials.map((item, idx) => (
                <div key={idx}>
                  <div className="flex justify-between text-sm mb-1 font-medium">
                    <span className="text-gray-700">{item.category}</span>
                    <span className="text-gray-900 font-bold">{item.percentage}%</span>
                  </div>
                  <div className="w-full bg-gray-100 rounded-full h-2.5 overflow-hidden">
                    <div 
                      className="h-2.5 rounded-full" 
                      style={{ width: `${item.percentage}%`, backgroundColor: item.color }}
                    ></div>
                  </div>
                </div>
              ))}
            </div>
            <div className="mt-8 pt-6 border-t border-gray-100 text-center">
              <p className="text-sm text-gray-500 mb-4">Interested in becoming an impact investor?</p>
              <button className="w-full border-2 border-p4c-navy text-p4c-navy font-bold py-2 rounded hover:bg-p4c-navy hover:text-white transition-colors">
                Request Financial Report
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>
  );
};

export default OurImpact;


[FILE_END: pages\OurImpact.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Privacy.tsx
METADATA: Size=4312 bytes | Last_Modified=2026-01-04 12:32:59.837835
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Shield, Lock, Eye } from 'lucide-react';

const Privacy: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen py-16">
      <Helmet>
        <title>Privacy Policy | Properties 4 Creations</title>
        <meta name="description" content="Privacy policy and data protection standards for Properties 4 Creations applicants and residents." />
      </Helmet>

      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-100">
          
          <div className="border-b border-gray-200 pb-8 mb-8">
            <h1 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-4">Privacy Policy</h1>
            <p className="text-gray-500">Last Updated: October 24, 2023</p>
          </div>

          <div className="prose prose-slate max-w-none text-gray-700">
            <p className="lead text-lg">
              At Properties 4 Creations (P4C), we value your dignity and your privacy. We understand that applying for housing requires sharing sensitive personal information, and we are committed to protecting that data with the highest standards of security.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4 flex items-center gap-2">
                <Eye className="text-p4c-gold w-5 h-5" /> Information We Collect
            </h3>
            <p>
              We collect information necessary to process rental applications, manage lease agreements, and communicate with residents. This includes:
            </p>
            <ul className="list-disc pl-5 space-y-2 mt-2">
                <li><strong>Identity Data:</strong> Name, date of birth, social security number (encrypted), and government ID.</li>
                <li><strong>Contact Data:</strong> Email address, phone number, and current address.</li>
                <li><strong>Financial Data:</strong> Income verification, voucher documentation (Section 8/HUD-VASH), and employment history.</li>
            </ul>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4 flex items-center gap-2">
                <Shield className="text-p4c-gold w-5 h-5" /> How We Use Your Information
            </h3>
            <p>
              We use your data solely for business operations related to housing. We do <strong>not</strong> sell your personal data to third-party advertisers.
            </p>
            <ul className="list-disc pl-5 space-y-2 mt-2">
                <li>To evaluate rental applications and conduct background/credit checks.</li>
                <li>To process rent payments and maintenance requests.</li>
                <li>To comply with Fair Housing laws and HUD/VA requirements.</li>
            </ul>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4 flex items-center gap-2">
                <Lock className="text-p4c-gold w-5 h-5" /> Data Security
            </h3>
            <p>
              We implement enterprise-grade security measures to prevent your personal data from being accidentally lost, used, or accessed in an unauthorized way. Access to your personal data is limited to P4C employees, agents, and contractors who have a business need to know and are subject to a duty of confidentiality.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4">Your Rights</h3>
            <p>
              Under applicable laws, you have the right to request access to your personal data, request correction of your data, or request erasure of your data under certain conditions.
            </p>

            <div className="bg-gray-50 p-6 rounded-xl mt-8 border border-gray-200">
                <h4 className="font-bold text-p4c-navy mb-2">Contact Us About Privacy</h4>
                <p className="text-sm">
                    If you have questions about this privacy policy or our privacy practices, please contact us at: <br/>
                    <a href="mailto:privacy@p4c-homes.com" className="text-p4c-gold font-bold hover:underline">privacy@p4c-homes.com</a>
                </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Privacy;


[FILE_END: pages\Privacy.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\PropertyDetails.tsx
METADATA: Size=11200 bytes | Last_Modified=2026-01-04 12:32:59.809334
================================================================================

import React, { useState, useEffect } from 'react';
import { useParams, Link } from 'react-router-dom';
import { getPropertyById, ExtendedProperty } from '../data/properties';
import { Bed, Bath, Move, MapPin, Check, ArrowLeft, Calendar, School, Accessibility, ShieldCheck, Map } from 'lucide-react';
import { Helmet } from 'react-helmet-async';
import PropertyDetailsSkeleton from '../components/PropertyDetailsSkeleton';

const PropertyDetails: React.FC = () => {
  const { id } = useParams<{ id: string }>();
  const [property, setProperty] = useState<ExtendedProperty | undefined>(undefined);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // Simulate API fetch latency for enterprise feel (smooth transitions)
    const fetchProperty = async () => {
        setLoading(true);
        await new Promise(resolve => setTimeout(resolve, 600)); // 600ms artificial delay
        setProperty(getPropertyById(id));
        setLoading(false);
    };
    fetchProperty();
  }, [id]);

  if (loading) {
      return <PropertyDetailsSkeleton />;
  }

  if (!property) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center bg-p4c-beige px-4">
        <Helmet>
            <title>Property Not Found | Properties 4 Creations</title>
        </Helmet>
        <h2 className="text-3xl font-serif font-bold text-p4c-navy mb-4">Property Not Found</h2>
        <p className="text-gray-600 mb-8">The listing you are looking for may have been removed or is unavailable.</p>
        <Link to="/" className="bg-p4c-navy text-white px-6 py-3 rounded-md font-bold hover:bg-opacity-90">
          Back to Listings
        </Link>
      </div>
    );
  }

  return (
    <div className="bg-p4c-beige min-h-screen pb-20 animate-fade-in">
      <Helmet>
        <title>{property.title} | P4C Listings</title>
        <meta name="description" content={`Check out ${property.title} in ${property.address}. ${property.beds} Bed, ${property.baths} Bath, ${property.badges.join(', ')}.`} />
      </Helmet>

      {/* Hero Image */}
      <div className="relative h-[50vh] w-full">
        <img 
          src={property.imageUrl} 
          alt={property.title} 
          className="w-full h-full object-cover"
        />
        <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
        <div className="absolute top-4 left-4 md:top-8 md:left-8 z-10">
            <Link to="/" className="inline-flex items-center gap-2 bg-white/90 hover:bg-white text-p4c-navy px-4 py-2 rounded-full font-bold shadow-lg transition-all">
                <ArrowLeft className="w-4 h-4" /> Back to listings
            </Link>
        </div>
        <div className="absolute bottom-0 left-0 w-full p-4 md:p-8 text-white">
            <div className="max-w-7xl mx-auto">
                <div className="flex flex-wrap gap-2 mb-4">
                    {property.badges.map((badge, idx) => (
                         <span key={idx} className="bg-p4c-gold text-p4c-navy text-sm font-bold px-3 py-1 rounded-sm uppercase tracking-wide">
                            {badge}
                        </span>
                    ))}
                </div>
                <h1 className="text-4xl md:text-5xl font-serif font-bold mb-2 shadow-sm">{property.title}</h1>
                <p className="text-xl opacity-90 flex items-center gap-2">
                    <MapPin className="w-5 h-5 text-p4c-gold" /> {property.address}
                </p>
            </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-10 relative z-10">
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            {/* Main Info */}
            <div className="lg:col-span-2 space-y-8">
                
                {/* Stats Bar */}
                <div className="bg-white rounded-xl shadow-lg p-6 flex justify-between items-center text-center">
                     <div>
                        <div className="text-gray-500 text-xs uppercase tracking-widest font-bold mb-1">Monthly Rent</div>
                        <div className="text-3xl font-serif font-bold text-p4c-navy">${property.price}</div>
                     </div>
                     <div className="w-px h-12 bg-gray-200"></div>
                     <div>
                        <div className="flex items-center justify-center gap-2 text-gray-500 text-xs uppercase tracking-widest font-bold mb-1">
                            <Bed className="w-4 h-4" /> Bedrooms
                        </div>
                        <div className="text-2xl font-bold text-p4c-navy">{property.beds}</div>
                     </div>
                     <div className="w-px h-12 bg-gray-200"></div>
                     <div>
                        <div className="flex items-center justify-center gap-2 text-gray-500 text-xs uppercase tracking-widest font-bold mb-1">
                            <Bath className="w-4 h-4" /> Bathrooms
                        </div>
                        <div className="text-2xl font-bold text-p4c-navy">{property.baths}</div>
                     </div>
                     <div className="hidden sm:block w-px h-12 bg-gray-200"></div>
                     <div className="hidden sm:block">
                        <div className="flex items-center justify-center gap-2 text-gray-500 text-xs uppercase tracking-widest font-bold mb-1">
                            <Move className="w-4 h-4" /> Square Ft
                        </div>
                        <div className="text-2xl font-bold text-p4c-navy">{property.sqft}</div>
                     </div>
                </div>

                <div className="bg-white rounded-xl shadow-sm p-8">
                    <h2 className="text-2xl font-serif font-bold text-p4c-navy mb-6">About this Home</h2>
                    <p className="text-gray-700 leading-relaxed text-lg mb-8">
                        {property.description}
                    </p>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                        <div>
                            <h3 className="font-bold text-lg text-p4c-navy mb-4 border-b border-gray-100 pb-2 flex items-center gap-2">
                                <ShieldCheck className="w-5 h-5 text-p4c-gold" /> Amenities
                            </h3>
                            <ul className="space-y-3">
                                {property.amenities.map((item, i) => (
                                    <li key={i} className="flex items-center gap-3 text-gray-700">
                                        <div className="bg-green-100 p-1 rounded-full">
                                            <Check className="w-3 h-3 text-green-700" />
                                        </div>
                                        {item}
                                    </li>
                                ))}
                            </ul>
                        </div>
                        <div>
                            <h3 className="font-bold text-lg text-p4c-navy mb-4 border-b border-gray-100 pb-2 flex items-center gap-2">
                                <Accessibility className="w-5 h-5 text-p4c-gold" /> Accessibility
                            </h3>
                            <ul className="space-y-3">
                                {property.accessibilityFeatures.map((item, i) => (
                                    <li key={i} className="flex items-center gap-3 text-gray-700">
                                        <div className="bg-blue-100 p-1 rounded-full">
                                            <Check className="w-3 h-3 text-blue-700" />
                                        </div>
                                        {item}
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>

                    <div className="bg-gray-50 rounded-xl p-6 border border-gray-100">
                        <h3 className="font-bold text-lg text-p4c-navy mb-4 flex items-center gap-2">
                            <Map className="w-5 h-5 text-p4c-gold" /> Location & Schools
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p className="text-xs uppercase tracking-widest text-gray-500 font-bold mb-1">Neighborhood</p>
                                <p className="font-medium text-p4c-navy">{property.neighborhood}</p>
                            </div>
                            <div>
                                <p className="text-xs uppercase tracking-widest text-gray-500 font-bold mb-1 flex items-center gap-1">
                                    <School className="w-3 h-3" /> School District
                                </p>
                                <p className="font-medium text-p4c-navy">{property.schoolDistrict}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {/* Sidebar CTA */}
            <div className="lg:col-span-1">
                <div className="bg-white rounded-xl shadow-lg p-6 sticky top-24 border border-gray-100">
                    <div className="text-center mb-6">
                        <h3 className="text-xl font-bold text-p4c-navy">Interested?</h3>
                        <p className="text-gray-500 text-sm">Availability: <span className="font-bold text-green-600">{property.availabilityDate}</span></p>
                    </div>

                    <div className="space-y-4">
                        <Link to="/apply" className="block w-full bg-p4c-navy text-white text-center py-4 rounded-md font-bold text-lg hover:bg-p4c-slate transition-colors shadow-md">
                            Start Application
                        </Link>
                        <button className="block w-full bg-white border-2 border-p4c-navy text-p4c-navy text-center py-3 rounded-md font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2">
                            <Calendar className="w-5 h-5" /> Schedule Viewing
                        </button>
                    </div>

                    <div className="mt-6 pt-6 border-t border-gray-100">
                        <h4 className="font-bold text-sm text-gray-900 mb-2">We Accept:</h4>
                        <div className="flex flex-wrap gap-2">
                             <span className="bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded">Section 8 / HCV</span>
                             <span className="bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded">HUD-VASH</span>
                             <span className="bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded">Rapid Rehousing</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
      </div>
    </div>
  );
};

export default PropertyDetails;


[FILE_END: pages\PropertyDetails.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\SuccessStories.tsx
METADATA: Size=6400 bytes | Last_Modified=2026-01-04 12:32:59.864456
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Quote, Star } from 'lucide-react';
import { IMAGES } from '../constants/images';

const testimonials = [
    {
        id: 1,
        name: "James & Sarah M.",
        type: "Family",
        text: "After losing our home in the pandemic, we struggled to find a landlord who would accept our assistance. P4C didn't just accept us; they welcomed us. The home is beautiful, safe, and our kids finally have a backyard again.",
        location: "Tyler, TX"
    },
    {
        id: 2,
        name: "Sgt. Michael R. (Ret.)",
        type: "Veteran",
        text: "The transition from active duty to civilian life was harder than I expected. Finding stable housing through the HUD-VASH program with P4C gave me the foundation I needed to go back to school.",
        location: "Longview, TX"
    },
    {
        id: 3,
        name: "Elena G.",
        type: "Single Mother",
        text: "I was worried about safety for my daughter. The security lighting and smart locks P4C installed made me feel secure immediately. Maintenance requests are handled in hours, not weeks.",
        location: "Kilgore, TX"
    },
    {
        id: 4,
        name: "David W.",
        type: "Veteran",
        text: "Most landlords see a voucher. P4C saw a veteran. They helped me with the paperwork and even connected me with a local job opportunity in construction.",
        location: "Tyler, TX"
    },
    {
        id: 5,
        name: "The Williams Family",
        type: "Family",
        text: "We've lived in 'affordable' housing before that was falling apart. P4C's standards are different. Granite countertops, new floors—it feels like a home we own.",
        location: "Lindale, TX"
    },
    {
        id: 6,
        name: "Robert T.",
        type: "Senior Veteran",
        text: "They installed grab bars in the shower before I even moved in. It's the little things that show they actually care about the people living here.",
        location: "Mineola, TX"
    }
];

const SuccessStories: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen">
      <Helmet>
        <title>Success Stories | Properties 4 Creations</title>
        <meta name="description" content="Read real stories from families and veterans housed by Properties 4 Creations. See our impact in East Texas." />
      </Helmet>

      <div className="bg-p4c-navy text-white py-20 text-center px-4">
          <h1 className="text-4xl md:text-5xl font-serif font-bold mb-6">Voices of Our Community</h1>
          <p className="text-xl text-gray-300 max-w-2xl mx-auto">
              Behind every key we hand over is a story of resilience, hope, and a fresh start.
          </p>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-10 pb-20">
          
          {/* Stats Row */}
          <div className="bg-white rounded-2xl shadow-xl p-8 mb-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-center border-b-4 border-p4c-gold ring-1 ring-gray-900/5">
              <div>
                  <div className="text-4xl font-bold text-p4c-navy mb-2">150+</div>
                  <div className="text-gray-500 uppercase tracking-widest text-sm font-semibold">Families Housed</div>
              </div>
              <div>
                  <div className="text-4xl font-bold text-p4c-navy mb-2">45+</div>
                  <div className="text-gray-500 uppercase tracking-widest text-sm font-semibold">Veterans Served</div>
              </div>
              <div>
                  <div className="text-4xl font-bold text-p4c-navy mb-2">98%</div>
                  <div className="text-gray-500 uppercase tracking-widest text-sm font-semibold">Tenant Satisfaction</div>
              </div>
          </div>

          {/* Testimonials Grid */}
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              {testimonials.map((story) => (
                  <div key={story.id} className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col h-full border border-gray-100 ring-1 ring-gray-900/5 group">
                      <div className="mb-6 text-p4c-gold">
                          <Quote className="w-10 h-10 opacity-50 group-hover:scale-110 transition-transform" />
                      </div>
                      <p className="text-gray-700 italic mb-6 flex-grow leading-relaxed">
                          "{story.text}"
                      </p>
                      <div className="border-t border-gray-100 pt-4">
                          <div className="flex items-center gap-1 text-yellow-400 mb-2">
                              {[1,2,3,4,5].map(s => <Star key={s} className="w-4 h-4 fill-current" />)}
                          </div>
                          <h4 className="font-bold text-p4c-navy">{story.name}</h4>
                          <div className="flex justify-between text-xs text-gray-500 mt-1">
                              <span className="bg-p4c-beige px-2 py-1 rounded text-p4c-navy font-semibold">{story.type}</span>
                              <span>{story.location}</span>
                          </div>
                      </div>
                  </div>
              ))}
          </div>

          {/* Video Placeholder */}
          <div className="mt-20 bg-gray-900 rounded-2xl overflow-hidden relative h-[400px] flex items-center justify-center group cursor-pointer shadow-2xl ring-1 ring-white/10">
              <div className="absolute inset-0 opacity-40 bg-cover bg-center" style={{ backgroundImage: `url('${IMAGES.BANNERS.HOME}')` }}></div>
              <div className="relative z-10 text-center px-4">
                  <div className="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-white group-hover:scale-110 transition-transform">
                      <div className="w-0 h-0 border-t-[10px] border-t-transparent border-l-[20px] border-l-white border-b-[10px] border-b-transparent ml-1"></div>
                  </div>
                  <h2 className="text-3xl font-serif font-bold text-white mb-2">See The Impact</h2>
                  <p className="text-gray-300">Video stories coming soon</p>
              </div>
          </div>

      </div>
    </div>
  );
};

export default SuccessStories;


[FILE_END: pages\SuccessStories.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\TenantLogin.tsx
METADATA: Size=7447 bytes | Last_Modified=2026-01-04 12:32:59.832351
================================================================================

import React, { useState } from 'react';
import { Helmet } from 'react-helmet-async';
import { Lock, User, ArrowRight, ShieldCheck, Wrench, CreditCard, AlertCircle } from 'lucide-react';
import { Link, useNavigate, useLocation } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { IMAGES } from '../constants/images';

const TenantLogin: React.FC = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const { login, isLoading } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const from = (location.state as any)?.from?.pathname || '/';

  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    setError('');
    
    // Simulate simple auth check
    if (email === 'admin@p4c.com' && password === 'admin') {
      await login(email, 'admin');
      navigate('/admin');
    } else if (email === 'demo@p4c.com' && password === 'demo') {
      await login(email, 'tenant');
      navigate(from === '/admin' ? '/' : from); // Tenants can't go to admin
    } else {
      setError('Invalid credentials. Try (admin@p4c.com / admin) or (demo@p4c.com / demo)');
    }
  };

  return (
    <div className="min-h-screen bg-p4c-beige flex flex-col lg:flex-row">
      <Helmet>
        <title>Portal Login | Properties 4 Creations</title>
      </Helmet>

      {/* Left Side - Visuals */}
      <div className="lg:w-1/2 bg-p4c-navy relative hidden lg:flex flex-col justify-center px-12 text-white overflow-hidden">
        <div className="absolute top-0 left-0 w-full h-full bg-cover opacity-20" style={{ backgroundImage: `url('${IMAGES.BANNERS.HOME}')`}}></div>
        <div className="relative z-10">
            <h1 className="text-4xl font-serif font-bold mb-6">Welcome Home.</h1>
            <p className="text-lg text-gray-300 mb-8 max-w-md">
                Manage your residency with ease. Pay rent, request repairs, and view community announcements all in one place.
            </p>
            <div className="space-y-4">
                <div className="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm border border-white/10">
                    <CreditCard className="text-p4c-gold w-6 h-6" />
                    <div>
                        <h3 className="font-bold">Auto-Pay Rent</h3>
                        <p className="text-sm text-gray-400">Set it and forget it. Secure transactions.</p>
                    </div>
                </div>
                <div className="flex items-center gap-4 bg-white/10 p-4 rounded-lg backdrop-blur-sm border border-white/10">
                    <Wrench className="text-p4c-gold w-6 h-6" />
                    <div>
                        <h3 className="font-bold">24/7 Maintenance</h3>
                        <p className="text-sm text-gray-400">Track status of repair requests in real-time.</p>
                    </div>
                </div>
            </div>
        </div>
      </div>

      {/* Right Side - Form */}
      <div className="lg:w-1/2 flex items-center justify-center p-8">
        <div className="max-w-md w-full bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
            <div className="text-center mb-8">
                <div className="inline-flex justify-center items-center bg-p4c-navy p-3 rounded-full mb-4 shadow-lg">
                    <Lock className="text-p4c-gold w-6 h-6" />
                </div>
                <h2 className="text-2xl font-bold text-p4c-navy font-serif">Secure Login</h2>
                <p className="text-gray-500 text-sm mt-2">Resident & Staff Portal</p>
            </div>

            {error && (
              <div className="mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm flex items-center gap-2 animate-fade-in">
                <AlertCircle className="w-4 h-4 flex-shrink-0" />
                {error}
              </div>
            )}

            <form onSubmit={handleLogin} className="space-y-6">
                <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <div className="relative">
                        <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <User className="h-5 w-5 text-gray-400" />
                        </div>
                        <input
                            type="email"
                            value={email}
                            onChange={(e) => setEmail(e.target.value)}
                            className="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-p4c-gold focus:border-p4c-gold sm:text-sm transition-shadow"
                            placeholder="you@example.com"
                            required
                        />
                    </div>
                </div>

                <div>
                    <div className="flex justify-between items-center mb-1">
                         <label className="block text-sm font-medium text-gray-700">Password</label>
                         <a href="#" className="text-xs text-p4c-navy hover:underline">Forgot password?</a>
                    </div>
                    <div className="relative">
                        <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <Lock className="h-5 w-5 text-gray-400" />
                        </div>
                        <input
                            type="password"
                            value={password}
                            onChange={(e) => setPassword(e.target.value)}
                            className="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-p4c-gold focus:border-p4c-gold sm:text-sm transition-shadow"
                            placeholder="••••••••"
                            required
                        />
                    </div>
                </div>

                <button
                    type="submit"
                    disabled={isLoading}
                    className="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-bold text-white bg-p4c-navy hover:bg-p4c-slate focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-p4c-navy transition-all duration-200 disabled:opacity-70"
                >
                    {isLoading ? 'Signing in...' : 'Sign In'} <ArrowRight className="ml-2 w-4 h-4" />
                </button>
            </form>

            <div className="mt-6 pt-6 border-t border-gray-100 text-center">
                 <div className="flex items-center justify-center gap-2 text-green-700 bg-green-50 p-2 rounded text-xs font-bold mb-4">
                    <ShieldCheck className="w-4 h-4" />
                    Bank-Level 256-bit Encryption
                 </div>
                 <p className="text-xs text-gray-500">
                     Not a resident yet? <Link to="/apply" className="text-p4c-navy font-bold hover:underline">Apply for a home</Link>
                 </p>
            </div>
        </div>
      </div>
    </div>
  );
};

export default TenantLogin;


[FILE_END: pages\TenantLogin.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Terms.tsx
METADATA: Size=3982 bytes | Last_Modified=2026-01-04 12:32:59.844830
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { Scale, FileText } from 'lucide-react';

const Terms: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen py-16">
      <Helmet>
        <title>Terms of Service | Properties 4 Creations</title>
        <meta name="description" content="Terms of service for using the Properties 4 Creations website and portal." />
      </Helmet>

      <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="bg-white rounded-2xl shadow-xl p-8 md:p-12 border border-gray-100">
          
          <div className="border-b border-gray-200 pb-8 mb-8">
            <h1 className="text-3xl md:text-4xl font-serif font-bold text-p4c-navy mb-4">Terms of Service</h1>
            <p className="text-gray-500">Last Updated: October 24, 2023</p>
          </div>

          <div className="prose prose-slate max-w-none text-gray-700">
            <p className="lead text-lg">
              Welcome to the Properties 4 Creations (P4C) website. By accessing or using our website, Resident Portal, or application services, you agree to be bound by these terms.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4 flex items-center gap-2">
                <FileText className="text-p4c-gold w-5 h-5" /> 1. Fair Housing Policy
            </h3>
            <p>
              Properties 4 Creations is committed to the letter and spirit of U.S. policy for the achievement of equal housing opportunity. We encourage and support an affirmative advertising and marketing program in which there are no barriers to obtaining housing because of race, color, religion, sex, handicap, familial status, or national origin.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4">2. Use of Site</h3>
            <p>
              You agree to use this site only for lawful purposes. You are prohibited from posting on or transmitting through this site any unlawful, harmful, threatening, abusive, harassing, defamatory, vulgar, obscene, sexually explicit, profane, hateful, racially, ethnically, or otherwise objectionable material of any kind.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4">3. Application Accuracy</h3>
            <p>
              By submitting an application for housing via our site, you certify that all information provided is true, accurate, and complete. Providing false information may result in the rejection of your application or termination of your lease.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4 flex items-center gap-2">
                <Scale className="text-p4c-gold w-5 h-5" /> 4. Limitation of Liability
            </h3>
            <p>
              Properties 4 Creations shall not be liable for any direct, indirect, special, incidental, consequential, or punitive damages arising out of your access to, or use of, this website or the content available on this website.
            </p>

            <h3 className="text-xl font-bold text-p4c-navy mt-8 mb-4">5. Third-Party Links</h3>
            <p>
              Our website may contain links to websites owned or operated by parties other than P4C (e.g., Veteran Affairs, HUD). These links are provided for your reference only. P4C does not control outside sites and is not responsible for their content.
            </p>

             <div className="bg-gray-50 p-6 rounded-xl mt-8 border border-gray-200">
                <h4 className="font-bold text-p4c-navy mb-2">Questions?</h4>
                <p className="text-sm">
                    Please contact our legal team at: <br/>
                    <a href="mailto:legal@p4c-homes.com" className="text-p4c-gold font-bold hover:underline">legal@p4c-homes.com</a>
                </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Terms;


[FILE_END: pages\Terms.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Transparency.tsx
METADATA: Size=7094 bytes | Last_Modified=2026-01-04 12:32:59.815337
================================================================================

import React, { useEffect, useState } from 'react';
import { Helmet } from 'react-helmet-async';
import { Shield, Check, X, FileSearch, HardHat, TrendingUp, Loader2 } from 'lucide-react';
import { api } from '../services/api';
import { RenovationStandard } from '../types';
import { useToast } from '../context/ToastContext';
import { IMAGES } from '../constants/images';

const Transparency: React.FC = () => {
  const [standards, setStandards] = useState<RenovationStandard[]>([]);
  const [loading, setLoading] = useState(true);
  const { addToast } = useToast();

  useEffect(() => {
    const fetchData = async () => {
      try {
        const data = await api.transparency.getStandards();
        setStandards(data);
      } catch (error) {
        addToast("Failed to load transparency data. Please try again.", "error");
      } finally {
        setLoading(false);
      }
    };
    fetchData();
  }, [addToast]);

  return (
    <div className="bg-p4c-beige min-h-screen">
      <Helmet>
        <title>Transparency & Standards | Properties 4 Creations</title>
        <meta name="description" content="View our open book policy on renovation standards. We compare typical landlord shortcuts with the P4C premium standard." />
      </Helmet>

      {/* Hero Section */}
      <div className="relative text-white py-20 overflow-hidden">
        <div className="absolute inset-0 z-0">
          <img 
            src={IMAGES.BANNERS.TRANSPARENCY}
            alt="Transparency Banner"
            className="w-full h-full object-cover"
          />
           <div className="absolute inset-0 bg-p4c-navy/90 mix-blend-multiply"></div>
        </div>
       
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
          <div className="inline-flex items-center justify-center p-3 bg-white/10 rounded-full mb-6 backdrop-blur-sm border border-white/10">
            <FileSearch className="w-8 h-8 text-p4c-gold" />
          </div>
          <h1 className="text-4xl md:text-5xl font-serif font-bold mb-6">The Open Book Policy</h1>
          <p className="text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed">
            Trust is earned through action, not words. We believe tenants and investors deserve to know exactly where every dollar goes and the quality of materials we install.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 -mt-10 relative z-20">
        
        {/* The Comparison Table */}
        <div className="bg-white rounded-2xl shadow-xl overflow-hidden mb-20 border border-gray-100">
          <div className="p-8 border-b border-gray-100 bg-gray-50">
            <h2 className="text-2xl font-serif font-bold text-p4c-navy">The Renovation Standard</h2>
            <p className="text-gray-600 mt-2">How we stack up against the industry average.</p>
          </div>
          
          {loading ? (
             <div className="p-12 flex justify-center">
                <Loader2 className="w-8 h-8 text-p4c-gold animate-spin" />
             </div>
          ) : (
            <div className="overflow-x-auto">
              <table className="w-full text-left border-collapse">
                <thead>
                  <tr className="bg-gray-50 border-b border-gray-200 text-xs uppercase tracking-wider text-gray-500 font-bold">
                    <th className="p-6">Feature</th>
                    <th className="p-6 text-red-800 bg-red-50/50">Typical "Slumlord"</th>
                    <th className="p-6 text-p4c-navy bg-p4c-gold/10">The P4C Standard</th>
                    <th className="p-6">Why It Matters</th>
                  </tr>
                </thead>
                <tbody className="divide-y divide-gray-100">
                  {standards.map((item) => (
                    <tr key={item.id} className="hover:bg-gray-50/50 transition-colors">
                      <td className="p-6 font-bold text-p4c-navy">{item.category}</td>
                      <td className="p-6 text-gray-600 bg-red-50/20">
                        <div className="flex items-start gap-2">
                          <X className="w-4 h-4 text-red-500 mt-1 flex-shrink-0" />
                          {item.standardLandlord}
                        </div>
                      </td>
                      <td className="p-6 font-semibold text-p4c-navy bg-p4c-gold/5">
                        <div className="flex items-start gap-2">
                          <Check className="w-4 h-4 text-green-600 mt-1 flex-shrink-0" />
                          {item.p4cStandard}
                        </div>
                      </td>
                      <td className="p-6 text-sm text-gray-600 italic">"{item.benefit}"</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          )}
        </div>

        {/* Workflow Section */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-20">
           <div>
              <h2 className="text-3xl font-serif font-bold text-p4c-navy mb-6">Contractor Integrity</h2>
              <p className="text-gray-700 leading-relaxed mb-6">
                We don't just hire the cheapest bid. We hire partners who share our values. Every contractor vetting process includes:
              </p>
              <ul className="space-y-4">
                <li className="flex items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                  <Shield className="w-6 h-6 text-p4c-gold mr-4" />
                  <span className="font-semibold text-p4c-navy">Background & License Verification</span>
                </li>
                <li className="flex items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                  <TrendingUp className="w-6 h-6 text-p4c-gold mr-4" />
                  <span className="font-semibold text-p4c-navy">Quality of Work Inspections</span>
                </li>
                <li className="flex items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                  <HardHat className="w-6 h-6 text-p4c-gold mr-4" />
                  <span className="font-semibold text-p4c-navy">Veteran Hiring Preference</span>
                </li>
              </ul>
           </div>
           <div className="relative h-[400px] rounded-2xl overflow-hidden shadow-2xl">
              <img 
                src={IMAGES.GALLERY.MEASURING}
                alt="Contractor reviewing plans" 
                className="w-full h-full object-cover"
              />
              <div className="absolute inset-0 bg-p4c-navy/30 mix-blend-multiply"></div>
              <div className="absolute bottom-6 left-6 right-6 bg-white/90 backdrop-blur-sm p-4 rounded-lg">
                <p className="text-p4c-navy font-bold text-sm">"We pay our contractors fairly and on time, ensuring they do their best work for our families."</p>
              </div>
           </div>
        </div>

      </div>
    </div>
  );
};

export default Transparency;


[FILE_END: pages\Transparency.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\Veterans.tsx
METADATA: Size=6579 bytes | Last_Modified=2026-01-04 12:32:59.791037
================================================================================

import React from 'react';
import { HeartHandshake, Phone, Home, Flag } from 'lucide-react';
import { IMAGES } from '../constants/images';

const Veterans: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen">
      {/* Hero Banner */}
      <div className="relative h-[400px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.BANNERS.RESOURCES}
            alt="American flag flying on a front porch" 
            className="w-full h-full object-cover"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/80 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4 max-w-4xl mx-auto">
          <div className="flex justify-center mb-4">
            <div className="bg-p4c-gold p-3 rounded-full">
                <Flag className="w-8 h-8 text-p4c-navy" />
            </div>
          </div>
          <h1 className="text-4xl md:text-5xl font-serif font-bold text-white mb-4">
            Serving Those Who Served
          </h1>
          <p className="text-xl text-gray-200">
             Housing is a human right, but for veterans, it's a promise we keep.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              
              {/* Main Content */}
              <div className="md:col-span-2 space-y-12">
                  <section>
                      <h2 className="text-3xl font-serif font-bold text-p4c-navy mb-4">The HUD-VASH Program</h2>
                      <p className="text-gray-700 leading-relaxed mb-4">
                          Properties 4 Creations works directly with the HUD-VASH program to provide permanent housing for homeless veterans. This program combines Housing Choice Voucher (HCV) rental assistance for homeless Veterans with case management and clinical services provided by the Department of Veterans Affairs (VA).
                      </p>
                      <p className="text-gray-700 leading-relaxed">
                          We streamline the inspection and lease-up process to get you out of temporary shelter and into your own home faster.
                      </p>
                  </section>

                  <section className="bg-white p-8 rounded-xl shadow-sm border-l-4 border-p4c-gold">
                      <h3 className="text-2xl font-serif font-bold text-p4c-navy mb-4 flex items-center gap-2">
                          <HeartHandshake className="text-p4c-gold" />
                          Our Veteran Promise
                      </h3>
                      <div className="space-y-4">
                          <div className="flex gap-4">
                              <div className="font-bold text-p4c-gold text-xl">01</div>
                              <div>
                                  <h4 className="font-bold text-p4c-navy">Application Priority</h4>
                                  <p className="text-gray-600 text-sm">Veterans move to the front of the line for all available units.</p>
                              </div>
                          </div>
                          <div className="flex gap-4">
                              <div className="font-bold text-p4c-gold text-xl">02</div>
                              <div>
                                  <h4 className="font-bold text-p4c-navy">Deposit Assistance</h4>
                                  <p className="text-gray-600 text-sm">We work with local non-profits to help cover security deposits.</p>
                              </div>
                          </div>
                          <div className="flex gap-4">
                              <div className="font-bold text-p4c-gold text-xl">03</div>
                              <div>
                                  <h4 className="font-bold text-p4c-navy">Accessibility Modifications</h4>
                                  <p className="text-gray-600 text-sm">Need a ramp or grab bars? We install them at no cost to you.</p>
                              </div>
                          </div>
                      </div>
                  </section>
              </div>

              {/* Sidebar / Resources */}
              <div className="space-y-6">
                  <div className="bg-p4c-navy text-white p-6 rounded-xl shadow-lg">
                      <h3 className="text-xl font-bold mb-4 flex items-center gap-2">
                          <Phone className="w-5 h-5" />
                          Emergency Contacts
                      </h3>
                      <ul className="space-y-4 text-sm">
                          <li className="border-b border-gray-700 pb-2">
                              <span className="block text-gray-400 text-xs uppercase tracking-wider">Veterans Crisis Line</span>
                              <span className="font-bold text-lg text-p4c-gold">988 (Press 1)</span>
                          </li>
                          <li className="border-b border-gray-700 pb-2">
                              <span className="block text-gray-400 text-xs uppercase tracking-wider">National Call Center for Homeless Veterans</span>
                              <span className="font-bold text-lg">1-877-4AID-VET</span>
                          </li>
                          <li>
                              <span className="block text-gray-400 text-xs uppercase tracking-wider">P4C Veteran Liaison</span>
                              <span className="font-bold text-lg">(903) 555-0199</span>
                          </li>
                      </ul>
                  </div>

                  <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                      <h3 className="text-xl font-bold text-p4c-navy mb-4 flex items-center gap-2">
                          <Home className="w-5 h-5 text-p4c-gold" />
                          Local Resources
                      </h3>
                      <ul className="space-y-3 text-sm text-blue-600 underline">
                          <li><a href="#">CampV Tyler</a></li>
                          <li><a href="#">Texas Veterans Commission</a></li>
                          <li><a href="#">East Texas Food Bank</a></li>
                      </ul>
                  </div>
              </div>

          </div>
      </div>
    </div>
  );
};

export default Veterans;


[FILE_END: pages\Veterans.tsx]
################################################################################

================================================================================
FILE_BEGIN: pages\VeteranServices.tsx
METADATA: Size=8872 bytes | Last_Modified=2026-01-04 12:32:59.858459
================================================================================

import React from 'react';
import { Helmet } from 'react-helmet-async';
import { IMAGES } from '../constants/images';
import { Flag, HeartHandshake, Briefcase, Users, Home, Shield, Phone, ExternalLink } from 'lucide-react';
import { Link } from 'react-router-dom';

const VeteranServices: React.FC = () => {
  return (
    <div className="bg-p4c-beige min-h-screen">
      <Helmet>
        <title>Veteran Services | Properties 4 Creations</title>
        <meta name="description" content="Comprehensive housing and support services for veterans in East Texas. HUD-VASH, employment, and community integration." />
      </Helmet>

      {/* Hero Banner */}
      <div className="relative h-[400px] w-full overflow-hidden flex items-center justify-center">
        <div className="absolute top-0 left-0 w-full h-full z-0">
          <img 
            src={IMAGES.BANNERS.RESOURCES}
            alt="American flag flying on a front porch" 
            className="w-full h-full object-cover"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-p4c-navy/80 mix-blend-multiply"></div>
        </div>
        <div className="relative z-10 text-center px-4 max-w-4xl mx-auto animate-fade-in-up">
          <div className="flex justify-center mb-4">
            <div className="bg-p4c-gold p-3 rounded-full shadow-lg">
                <Flag className="w-8 h-8 text-p4c-navy" />
            </div>
          </div>
          <h1 className="text-4xl md:text-5xl font-serif font-bold text-white mb-4">
            Serving Those Who Served
          </h1>
          <p className="text-xl text-gray-200">
             We don't just provide housing; we provide a home base for your next chapter.
          </p>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        
        {/* Core Services Grid */}
        <div className="mb-20">
            <h2 className="text-3xl font-serif font-bold text-p4c-navy text-center mb-12">Our Veteran Commitments</h2>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {[
                    { icon: Home, title: "Priority Housing", text: "Veterans receive priority placement for all available units. We hold units for up to 7 days for VASH voucher processing." },
                    { icon: Shield, title: "Deposit Assistance", text: "We partner with local non-profits like CampV to help cover security deposits and move-in costs." },
                    { icon: Users, title: "Community Connection", text: "Regular meetups and a network of veteran residents to foster camaraderie and combat isolation." },
                    { icon: Briefcase, title: "Employment Support", text: "Direct hiring pipeline for P4C renovation projects and referrals to veteran-friendly local employers." },
                    { icon: HeartHandshake, title: "Benefits Navigation", text: "Our staff is trained to help you navigate VA paperwork and connect with County Service Officers." },
                    { icon: Phone, title: "24/7 Support Line", text: "Dedicated maintenance and support line for veteran residents to ensure your needs are met promptly." },
                ].map((service, i) => (
                    <div key={i} className="bg-white p-8 rounded-xl shadow-lg hover:shadow-xl transition-shadow border-t-4 border-p4c-gold">
                        <service.icon className="w-10 h-10 text-p4c-navy mb-4" />
                        <h3 className="text-xl font-bold text-p4c-navy mb-2">{service.title}</h3>
                        <p className="text-gray-600">{service.text}</p>
                    </div>
                ))}
            </div>
        </div>

        {/* Specialized Housing Programs */}
        <div className="bg-white rounded-2xl shadow-xl overflow-hidden mb-20 border border-gray-100">
            <div className="bg-p4c-navy p-8 text-white">
                <h2 className="text-3xl font-serif font-bold">Specialized Housing Programs</h2>
                <p className="text-gray-300 mt-2">We accept and understand the following vouchers.</p>
            </div>
            <div className="p-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 className="text-xl font-bold text-p4c-navy mb-2 flex items-center gap-2">
                        <span className="bg-p4c-gold w-2 h-8 rounded-full"></span> HUD-VASH
                    </h3>
                    <p className="text-gray-600 mb-4">
                        We work directly with VA case managers to expedite inspections and lease-ups for the HUD-VASH program, ensuring homeless veterans move off the streets immediately.
                    </p>
                </div>
                <div>
                    <h3 className="text-xl font-bold text-p4c-navy mb-2 flex items-center gap-2">
                        <span className="bg-p4c-gold w-2 h-8 rounded-full"></span> Section 8 (HCV)
                    </h3>
                    <p className="text-gray-600 mb-4">
                        Standard Housing Choice Vouchers are welcomed with no discrimination. Our properties pass HQS inspections on the first attempt 98% of the time.
                    </p>
                </div>
                <div>
                    <h3 className="text-xl font-bold text-p4c-navy mb-2 flex items-center gap-2">
                        <span className="bg-p4c-gold w-2 h-8 rounded-full"></span> Rapid Rehousing
                    </h3>
                    <p className="text-gray-600 mb-4">
                        Short-term rental assistance programs are accepted. We offer flexible lease terms to align with program duration.
                    </p>
                </div>
                <div>
                    <h3 className="text-xl font-bold text-p4c-navy mb-2 flex items-center gap-2">
                        <span className="bg-p4c-gold w-2 h-8 rounded-full"></span> Disability Accessibility
                    </h3>
                    <p className="text-gray-600 mb-4">
                        We provide reasonable accommodations including ramps, grab bars, and visual alarms at no cost to disabled veteran tenants.
                    </p>
                </div>
            </div>
        </div>

        {/* Resources Directory */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div className="lg:col-span-2">
                <h2 className="text-2xl font-serif font-bold text-p4c-navy mb-6">Local Veteran Resources Directory</h2>
                <div className="space-y-4">
                    {[
                        { name: "CampV Tyler", desc: "Holistic veteran support campus.", phone: "(903) 566-1010" },
                        { name: "Texas Veterans Commission", desc: "Claims representation and employment services.", phone: "(512) 463-6564" },
                        { name: "Smith County VSO", desc: "Local assistance with VA claims.", phone: "(903) 590-2930" },
                        { name: "VA Clinic - Tyler", desc: "Primary care and mental health services.", phone: "(903) 590-3050" },
                    ].map((res, i) => (
                        <div key={i} className="flex flex-col sm:flex-row sm:items-center justify-between bg-white p-6 rounded-lg border border-gray-200 shadow-sm hover:border-p4c-gold transition-colors">
                            <div>
                                <h4 className="font-bold text-p4c-navy text-lg">{res.name}</h4>
                                <p className="text-gray-600 text-sm">{res.desc}</p>
                            </div>
                            <div className="mt-4 sm:mt-0">
                                <a href={`tel:${res.phone.replace(/\D/g,'')}`} className="text-p4c-gold font-bold hover:underline flex items-center gap-2">
                                    <Phone className="w-4 h-4" /> {res.phone}
                                </a>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
            
            <div className="bg-p4c-navy text-white p-8 rounded-2xl h-fit">
                <h3 className="text-xl font-bold mb-4">Need Immediate Help?</h3>
                <p className="text-gray-300 mb-6 text-sm">
                    If you are a veteran in crisis or at risk of homelessness, please contact the Veterans Crisis Line immediately.
                </p>
                <a href="tel:988" className="block w-full bg-p4c-gold text-p4c-navy text-center py-3 rounded-lg font-bold hover:bg-white transition-colors mb-4">
                    Call 988 (Press 1)
                </a>
                <p className="text-center text-xs text-gray-400">Confidential • 24/7 • Free</p>
            </div>
        </div>

      </div>
    </div>
  );
};

export default VeteranServices;


[FILE_END: pages\VeteranServices.tsx]
################################################################################
