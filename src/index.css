/* src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* P4C Brand Palette */
  --color-navy: #0b1120;
  --color-beige: #f5f5f0;
  --color-gold: #c5a059;
  --color-gold-hover: #b08d48;
  --color-slate: #334155;

  /* Animation Tokens */
  --animation-duration-fast: 150ms;
  --animation-duration-normal: 300ms;
  --animation-duration-slow: 500ms;
  --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);

  /* Accessibility */
  --accessibility-font-size: 100%;
}

@layer base {
  html {
    font-size: var(--accessibility-font-size);
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-beige);
    color: var(--color-navy);

    @apply antialiased;
  }

  /* WCAG 2.1 Compliant Focus Indicators */
  *:focus-visible {
    outline: 3px solid var(--color-gold);
    outline-offset: 2px;
  }
}

@layer components {
  /* --- NAVIGATION & LAYOUT --- */

  /* Enhanced navbar menu text with subtle depth */
  .nav-menu-enhanced {
    text-shadow: 0 2px 4px rgb(0 0 0 / 30%);
  }

  .skip-link {
    @apply fixed left-4 top-4 bg-p4c-navy text-white p-3 z-[100] rounded-lg shadow-lg transition-all duration-200;

    transform: translateY(-100%);
  }

  .skip-link:focus {
    transform: translateY(0);
  }

  .glass-navbar {
    background-color: rgb(11 17 32 / 90%); /* High-contrast fallback */

    @apply transition-colors duration-300;
  }

  @supports (backdrop-filter: blur(10px)) {
    .glass-navbar {
      backdrop-filter: blur(24px) saturate(180%);
      backdrop-filter: blur(24px) saturate(180%);
      background-color: rgb(11 17 32 / 72%);
      border-bottom: 1px solid rgb(255 255 255 / 12%);
    }

    .glass-navbar:hover {
      background-color: rgb(11 17 32 / 78%);
    }
  }

  .no-backdrop-filter .glass-navbar {
    background-color: var(--color-navy);
  }

  /* Application form styles */
  .step-line {
    @apply absolute left-0 top-6 h-0.5 w-full bg-gray-200 -z-10;
  }

  .glass-card {
    background: rgb(255 255 255 / 85%);
    backdrop-filter: blur(20px);
    backdrop-filter: blur(20px);
    border: 1px solid rgb(255 255 255 / 20%);
  }

  /* --- BUTTONS & INTERACTION --- */

  .install-button {
    @apply bg-p4c-gold text-p4c-navy px-6 py-3 rounded-lg font-bold shadow-lg transition-all duration-300;

    background: linear-gradient(
      135deg,
      var(--color-gold),
      var(--color-gold-hover)
    );
  }

  .install-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgb(197 160 89 / 30%);
  }

  .hover-lift {
    @apply transition-transform duration-200 ease-in-out;
  }

  .hover-lift:hover {
    @apply -translate-y-1 scale-105;
  }

  /* --- HERO & VISUAL ENHANCEMENTS --- */

  .hero-overlay-primary {
    background: linear-gradient(
      180deg,
      rgb(11 17 32 / 15%) 0%,
      rgb(11 17 32 / 10%) 50%,
      rgb(11 17 32 / 15%) 100%
    );
    mix-blend-mode: multiply;
  }

  .hero-overlay-secondary {
    background: linear-gradient(
      135deg,
      rgb(0 0 0 / 10%) 0%,
      rgb(0 0 0 / 5%) 100%
    );
  }

  .hero-text-enhanced {
    text-shadow:
      0 4px 12px rgb(0 0 0 / 90%),
      0 2px 6px rgb(0 0 0 / 80%);

    @apply text-white tracking-tight leading-tight;
  }

  .hero-text-container {
    /* Container for hero text with glassmorphism - styles applied via Tailwind classes */
  }

  /* Mobile Overlays */
  @media (width <= 640px) {
    .hero-overlay-primary {
      background: linear-gradient(
        180deg,
        rgb(11 17 32 / 15%) 0%,
        rgb(11 17 32 / 10%) 50%,
        rgb(11 17 32 / 15%) 100%
      );
    }

    /* Mobile-specific hero overlay - reduced for image visibility */
    .mobile-hero-intensify {
      background: rgb(11 17 32 / 18%) !important;
    }
  }

  /* --- ACCORDION & ANIMATION --- */

  .accordion-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows var(--animation-duration-normal)
      var(--animation-easing);
  }

  .accordion-open .accordion-content {
    grid-template-rows: 1fr;
  }

  .accordion-content > div {
    overflow: hidden;
  }

  /* --- DARK MODE OVERRIDES --- */

  .dark {
    --color-navy: #1e293b;
    --color-beige: #0f172a;
    --color-gold: #fbbf24;
    --color-gold-hover: #f59e0b;
  }

  .dark body {
    background-color: var(--color-beige);
    color: #e2e8f0;
  }

  /* --- ACCESSIBILITY UTILITIES --- */

  .high-contrast {
    filter: contrast(1.5) brightness(1.1);
  }

  .reading-mode {
    font-family: Georgia, serif !important;
    line-height: 1.8 !important;
    letter-spacing: 0.02em !important;
    background-color: #fefefe !important;
    color: #2c2c2c !important;
  }

  /* --- MOTION SENSITIVITY --- */

  @media (prefers-reduced-motion: reduce) {
    *,
    ::before,
    ::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    @keyframes glassMorph {
      0% {
        backdrop-filter: blur(20px);
        background-color: rgb(11 17 32 / 70%);
      }

      100% {
        backdrop-filter: blur(24px);
        background-color: rgb(11 17 32 / 72%);
      }
    }

    .glass-animation {
      animation: glassMorph 0.4s ease-out forwards;
    }

    .animate-fade-in {
      animation: fadeIn 0.6s ease-out;
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }
}
